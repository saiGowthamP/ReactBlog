function eE(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in t)){const a=Object.getOwnPropertyDescriptor(s,o);a&&Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function tE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Vc={exports:{}},Ts={},zc={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm;function nE(){if(bm)return ue;bm=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function T(C){return C===null||typeof C!="object"?null:(C=w&&C[w]||C["@@iterator"],typeof C=="function"?C:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,F={};function A(C,R,ae){this.props=C,this.context=R,this.refs=F,this.updater=ae||N}A.prototype.isReactComponent={},A.prototype.setState=function(C,R){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,R,"setState")},A.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function G(){}G.prototype=A.prototype;function ne(C,R,ae){this.props=C,this.context=R,this.refs=F,this.updater=ae||N}var ie=ne.prototype=new G;ie.constructor=ne,U(ie,A.prototype),ie.isPureReactComponent=!0;var ce=Array.isArray,Re=Object.prototype.hasOwnProperty,Ke={current:null},nt={key:!0,ref:!0,__self:!0,__source:!0};function xt(C,R,ae){var he,me={},ge=null,xe=null;if(R!=null)for(he in R.ref!==void 0&&(xe=R.ref),R.key!==void 0&&(ge=""+R.key),R)Re.call(R,he)&&!nt.hasOwnProperty(he)&&(me[he]=R[he]);var Ee=arguments.length-2;if(Ee===1)me.children=ae;else if(1<Ee){for(var Ae=Array(Ee),Ot=0;Ot<Ee;Ot++)Ae[Ot]=arguments[Ot+2];me.children=Ae}if(C&&C.defaultProps)for(he in Ee=C.defaultProps,Ee)me[he]===void 0&&(me[he]=Ee[he]);return{$$typeof:t,type:C,key:ge,ref:xe,props:me,_owner:Ke.current}}function Qt(C,R){return{$$typeof:t,type:C.type,key:R,ref:C.ref,props:C.props,_owner:C._owner}}function wn(C){return typeof C=="object"&&C!==null&&C.$$typeof===t}function gr(C){var R={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(ae){return R[ae]})}var ln=/\/+/g;function Lt(C,R){return typeof C=="object"&&C!==null&&C.key!=null?gr(""+C.key):R.toString(36)}function Gt(C,R,ae,he,me){var ge=typeof C;(ge==="undefined"||ge==="boolean")&&(C=null);var xe=!1;if(C===null)xe=!0;else switch(ge){case"string":case"number":xe=!0;break;case"object":switch(C.$$typeof){case t:case e:xe=!0}}if(xe)return xe=C,me=me(xe),C=he===""?"."+Lt(xe,0):he,ce(me)?(ae="",C!=null&&(ae=C.replace(ln,"$&/")+"/"),Gt(me,R,ae,"",function(Ot){return Ot})):me!=null&&(wn(me)&&(me=Qt(me,ae+(!me.key||xe&&xe.key===me.key?"":(""+me.key).replace(ln,"$&/")+"/")+C)),R.push(me)),1;if(xe=0,he=he===""?".":he+":",ce(C))for(var Ee=0;Ee<C.length;Ee++){ge=C[Ee];var Ae=he+Lt(ge,Ee);xe+=Gt(ge,R,ae,Ae,me)}else if(Ae=T(C),typeof Ae=="function")for(C=Ae.call(C),Ee=0;!(ge=C.next()).done;)ge=ge.value,Ae=he+Lt(ge,Ee++),xe+=Gt(ge,R,ae,Ae,me);else if(ge==="object")throw R=String(C),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return xe}function an(C,R,ae){if(C==null)return C;var he=[],me=0;return Gt(C,he,"","",function(ge){return R.call(ae,ge,me++)}),he}function kt(C){if(C._status===-1){var R=C._result;R=R(),R.then(function(ae){(C._status===0||C._status===-1)&&(C._status=1,C._result=ae)},function(ae){(C._status===0||C._status===-1)&&(C._status=2,C._result=ae)}),C._status===-1&&(C._status=0,C._result=R)}if(C._status===1)return C._result.default;throw C._result}var Fe={current:null},$={transition:null},ee={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:$,ReactCurrentOwner:Ke};function q(){throw Error("act(...) is not supported in production builds of React.")}return ue.Children={map:an,forEach:function(C,R,ae){an(C,function(){R.apply(this,arguments)},ae)},count:function(C){var R=0;return an(C,function(){R++}),R},toArray:function(C){return an(C,function(R){return R})||[]},only:function(C){if(!wn(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},ue.Component=A,ue.Fragment=n,ue.Profiler=o,ue.PureComponent=ne,ue.StrictMode=s,ue.Suspense=p,ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,ue.act=q,ue.cloneElement=function(C,R,ae){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var he=U({},C.props),me=C.key,ge=C.ref,xe=C._owner;if(R!=null){if(R.ref!==void 0&&(ge=R.ref,xe=Ke.current),R.key!==void 0&&(me=""+R.key),C.type&&C.type.defaultProps)var Ee=C.type.defaultProps;for(Ae in R)Re.call(R,Ae)&&!nt.hasOwnProperty(Ae)&&(he[Ae]=R[Ae]===void 0&&Ee!==void 0?Ee[Ae]:R[Ae])}var Ae=arguments.length-2;if(Ae===1)he.children=ae;else if(1<Ae){Ee=Array(Ae);for(var Ot=0;Ot<Ae;Ot++)Ee[Ot]=arguments[Ot+2];he.children=Ee}return{$$typeof:t,type:C.type,key:me,ref:ge,props:he,_owner:xe}},ue.createContext=function(C){return C={$$typeof:c,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:a,_context:C},C.Consumer=C},ue.createElement=xt,ue.createFactory=function(C){var R=xt.bind(null,C);return R.type=C,R},ue.createRef=function(){return{current:null}},ue.forwardRef=function(C){return{$$typeof:d,render:C}},ue.isValidElement=wn,ue.lazy=function(C){return{$$typeof:y,_payload:{_status:-1,_result:C},_init:kt}},ue.memo=function(C,R){return{$$typeof:g,type:C,compare:R===void 0?null:R}},ue.startTransition=function(C){var R=$.transition;$.transition={};try{C()}finally{$.transition=R}},ue.unstable_act=q,ue.useCallback=function(C,R){return Fe.current.useCallback(C,R)},ue.useContext=function(C){return Fe.current.useContext(C)},ue.useDebugValue=function(){},ue.useDeferredValue=function(C){return Fe.current.useDeferredValue(C)},ue.useEffect=function(C,R){return Fe.current.useEffect(C,R)},ue.useId=function(){return Fe.current.useId()},ue.useImperativeHandle=function(C,R,ae){return Fe.current.useImperativeHandle(C,R,ae)},ue.useInsertionEffect=function(C,R){return Fe.current.useInsertionEffect(C,R)},ue.useLayoutEffect=function(C,R){return Fe.current.useLayoutEffect(C,R)},ue.useMemo=function(C,R){return Fe.current.useMemo(C,R)},ue.useReducer=function(C,R,ae){return Fe.current.useReducer(C,R,ae)},ue.useRef=function(C){return Fe.current.useRef(C)},ue.useState=function(C){return Fe.current.useState(C)},ue.useSyncExternalStore=function(C,R,ae){return Fe.current.useSyncExternalStore(C,R,ae)},ue.useTransition=function(){return Fe.current.useTransition()},ue.version="18.3.1",ue}var Hm;function bh(){return Hm||(Hm=1,zc.exports=nE()),zc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm;function rE(){if(qm)return Ts;qm=1;var t=bh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,g){var y,w={},T=null,N=null;g!==void 0&&(T=""+g),p.key!==void 0&&(T=""+p.key),p.ref!==void 0&&(N=p.ref);for(y in p)s.call(p,y)&&!a.hasOwnProperty(y)&&(w[y]=p[y]);if(d&&d.defaultProps)for(y in p=d.defaultProps,p)w[y]===void 0&&(w[y]=p[y]);return{$$typeof:e,type:d,key:T,ref:N,props:w,_owner:o.current}}return Ts.Fragment=n,Ts.jsx=c,Ts.jsxs=c,Ts}var Km;function iE(){return Km||(Km=1,Vc.exports=rE()),Vc.exports}var _=iE(),V=bh();const sE=tE(V),oE=eE({__proto__:null,default:sE},[V]);var Ll={},$c={exports:{}},At={},Bc={exports:{}},bc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wm;function lE(){return Wm||(Wm=1,function(t){function e($,ee){var q=$.length;$.push(ee);e:for(;0<q;){var C=q-1>>>1,R=$[C];if(0<o(R,ee))$[C]=ee,$[q]=R,q=C;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var ee=$[0],q=$.pop();if(q!==ee){$[0]=q;e:for(var C=0,R=$.length,ae=R>>>1;C<ae;){var he=2*(C+1)-1,me=$[he],ge=he+1,xe=$[ge];if(0>o(me,q))ge<R&&0>o(xe,me)?($[C]=xe,$[ge]=q,C=ge):($[C]=me,$[he]=q,C=he);else if(ge<R&&0>o(xe,q))$[C]=xe,$[ge]=q,C=ge;else break e}}return ee}function o($,ee){var q=$.sortIndex-ee.sortIndex;return q!==0?q:$.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var p=[],g=[],y=1,w=null,T=3,N=!1,U=!1,F=!1,A=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ie($){for(var ee=n(g);ee!==null;){if(ee.callback===null)s(g);else if(ee.startTime<=$)s(g),ee.sortIndex=ee.expirationTime,e(p,ee);else break;ee=n(g)}}function ce($){if(F=!1,ie($),!U)if(n(p)!==null)U=!0,kt(Re);else{var ee=n(g);ee!==null&&Fe(ce,ee.startTime-$)}}function Re($,ee){U=!1,F&&(F=!1,G(xt),xt=-1),N=!0;var q=T;try{for(ie(ee),w=n(p);w!==null&&(!(w.expirationTime>ee)||$&&!gr());){var C=w.callback;if(typeof C=="function"){w.callback=null,T=w.priorityLevel;var R=C(w.expirationTime<=ee);ee=t.unstable_now(),typeof R=="function"?w.callback=R:w===n(p)&&s(p),ie(ee)}else s(p);w=n(p)}if(w!==null)var ae=!0;else{var he=n(g);he!==null&&Fe(ce,he.startTime-ee),ae=!1}return ae}finally{w=null,T=q,N=!1}}var Ke=!1,nt=null,xt=-1,Qt=5,wn=-1;function gr(){return!(t.unstable_now()-wn<Qt)}function ln(){if(nt!==null){var $=t.unstable_now();wn=$;var ee=!0;try{ee=nt(!0,$)}finally{ee?Lt():(Ke=!1,nt=null)}}else Ke=!1}var Lt;if(typeof ne=="function")Lt=function(){ne(ln)};else if(typeof MessageChannel<"u"){var Gt=new MessageChannel,an=Gt.port2;Gt.port1.onmessage=ln,Lt=function(){an.postMessage(null)}}else Lt=function(){A(ln,0)};function kt($){nt=$,Ke||(Ke=!0,Lt())}function Fe($,ee){xt=A(function(){$(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){U||N||(U=!0,kt(Re))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Qt=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function($){switch(T){case 1:case 2:case 3:var ee=3;break;default:ee=T}var q=T;T=ee;try{return $()}finally{T=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,ee){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var q=T;T=$;try{return ee()}finally{T=q}},t.unstable_scheduleCallback=function($,ee,q){var C=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?C+q:C):q=C,$){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=q+R,$={id:y++,callback:ee,priorityLevel:$,startTime:q,expirationTime:R,sortIndex:-1},q>C?($.sortIndex=q,e(g,$),n(p)===null&&$===n(g)&&(F?(G(xt),xt=-1):F=!0,Fe(ce,q-C))):($.sortIndex=R,e(p,$),U||N||(U=!0,kt(Re))),$},t.unstable_shouldYield=gr,t.unstable_wrapCallback=function($){var ee=T;return function(){var q=T;T=ee;try{return $.apply(this,arguments)}finally{T=q}}}}(bc)),bc}var Qm;function aE(){return Qm||(Qm=1,Bc.exports=lE()),Bc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gm;function uE(){if(Gm)return At;Gm=1;var t=bh(),e=aE();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function a(r,i){c(r,i),c(r+"Capture",i)}function c(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function T(r){return p.call(w,r)?!0:p.call(y,r)?!1:g.test(r)?w[r]=!0:(y[r]=!0,!1)}function N(r,i,l,u){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return u?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function U(r,i,l,u){if(i===null||typeof i>"u"||N(r,i,l,u))return!0;if(u)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function F(r,i,l,u,h,f,m){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=l,this.propertyName=r,this.type=i,this.sanitizeURL=f,this.removeEmptyString=m}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){A[r]=new F(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];A[i]=new F(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){A[r]=new F(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){A[r]=new F(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){A[r]=new F(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){A[r]=new F(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){A[r]=new F(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){A[r]=new F(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){A[r]=new F(r,5,!1,r.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function ne(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(G,ne);A[i]=new F(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(G,ne);A[i]=new F(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(G,ne);A[i]=new F(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){A[r]=new F(r,1,!1,r.toLowerCase(),null,!1,!1)}),A.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){A[r]=new F(r,1,!1,r.toLowerCase(),null,!0,!0)});function ie(r,i,l,u){var h=A.hasOwnProperty(i)?A[i]:null;(h!==null?h.type!==0:u||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(U(i,l,h,u)&&(l=null),u||h===null?T(i)&&(l===null?r.removeAttribute(i):r.setAttribute(i,""+l)):h.mustUseProperty?r[h.propertyName]=l===null?h.type===3?!1:"":l:(i=h.attributeName,u=h.attributeNamespace,l===null?r.removeAttribute(i):(h=h.type,l=h===3||h===4&&l===!0?"":""+l,u?r.setAttributeNS(u,i,l):r.setAttribute(i,l))))}var ce=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Re=Symbol.for("react.element"),Ke=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),xt=Symbol.for("react.strict_mode"),Qt=Symbol.for("react.profiler"),wn=Symbol.for("react.provider"),gr=Symbol.for("react.context"),ln=Symbol.for("react.forward_ref"),Lt=Symbol.for("react.suspense"),Gt=Symbol.for("react.suspense_list"),an=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),Fe=Symbol.for("react.offscreen"),$=Symbol.iterator;function ee(r){return r===null||typeof r!="object"?null:(r=$&&r[$]||r["@@iterator"],typeof r=="function"?r:null)}var q=Object.assign,C;function R(r){if(C===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);C=i&&i[1]||""}return`
`+C+r}var ae=!1;function he(r,i){if(!r||ae)return"";ae=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(I){var u=I}Reflect.construct(r,[],i)}else{try{i.call()}catch(I){u=I}r.call(i.prototype)}else{try{throw Error()}catch(I){u=I}r()}}catch(I){if(I&&u&&typeof I.stack=="string"){for(var h=I.stack.split(`
`),f=u.stack.split(`
`),m=h.length-1,v=f.length-1;1<=m&&0<=v&&h[m]!==f[v];)v--;for(;1<=m&&0<=v;m--,v--)if(h[m]!==f[v]){if(m!==1||v!==1)do if(m--,v--,0>v||h[m]!==f[v]){var E=`
`+h[m].replace(" at new "," at ");return r.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",r.displayName)),E}while(1<=m&&0<=v);break}}}finally{ae=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?R(r):""}function me(r){switch(r.tag){case 5:return R(r.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return r=he(r.type,!1),r;case 11:return r=he(r.type.render,!1),r;case 1:return r=he(r.type,!0),r;default:return""}}function ge(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case nt:return"Fragment";case Ke:return"Portal";case Qt:return"Profiler";case xt:return"StrictMode";case Lt:return"Suspense";case Gt:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case gr:return(r.displayName||"Context")+".Consumer";case wn:return(r._context.displayName||"Context")+".Provider";case ln:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case an:return i=r.displayName||null,i!==null?i:ge(r.type)||"Memo";case kt:i=r._payload,r=r._init;try{return ge(r(i))}catch{}}return null}function xe(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(i);case 8:return i===xt?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ee(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ae(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ot(r){var i=Ae(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),u=""+r[i];if(!r.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return h.call(this)},set:function(m){u=""+m,f.call(this,m)}}),Object.defineProperty(r,i,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(m){u=""+m},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function xo(r){r._valueTracker||(r._valueTracker=Ot(r))}function Gf(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),u="";return r&&(u=Ae(r)?r.checked?"true":"false":r.value),r=u,r!==l?(i.setValue(r),!0):!1}function ko(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ka(r,i){var l=i.checked;return q({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Yf(r,i){var l=i.defaultValue==null?"":i.defaultValue,u=i.checked!=null?i.checked:i.defaultChecked;l=Ee(i.value!=null?i.value:l),r._wrapperState={initialChecked:u,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Xf(r,i){i=i.checked,i!=null&&ie(r,"checked",i,!1)}function Wa(r,i){Xf(r,i);var l=Ee(i.value),u=i.type;if(l!=null)u==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(u==="submit"||u==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Qa(r,i.type,l):i.hasOwnProperty("defaultValue")&&Qa(r,i.type,Ee(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function Jf(r,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var u=i.type;if(!(u!=="submit"&&u!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,l||i===r.value||(r.value=i),r.defaultValue=i}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Qa(r,i,l){(i!=="number"||ko(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var zi=Array.isArray;function br(r,i,l,u){if(r=r.options,i){i={};for(var h=0;h<l.length;h++)i["$"+l[h]]=!0;for(l=0;l<r.length;l++)h=i.hasOwnProperty("$"+r[l].value),r[l].selected!==h&&(r[l].selected=h),h&&u&&(r[l].defaultSelected=!0)}else{for(l=""+Ee(l),i=null,h=0;h<r.length;h++){if(r[h].value===l){r[h].selected=!0,u&&(r[h].defaultSelected=!0);return}i!==null||r[h].disabled||(i=r[h])}i!==null&&(i.selected=!0)}}function Ga(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return q({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Zf(r,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(n(92));if(zi(l)){if(1<l.length)throw Error(n(93));l=l[0]}i=l}i==null&&(i=""),l=i}r._wrapperState={initialValue:Ee(l)}}function ed(r,i){var l=Ee(i.value),u=Ee(i.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),i.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),u!=null&&(r.defaultValue=""+u)}function td(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function nd(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ya(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?nd(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var To,rd=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,u,h){MSApp.execUnsafeLocalFunction(function(){return r(i,l,u,h)})}:r}(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(To=To||document.createElement("div"),To.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=To.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function $i(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var Bi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i0=["Webkit","ms","Moz","O"];Object.keys(Bi).forEach(function(r){i0.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),Bi[i]=Bi[r]})});function id(r,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||Bi.hasOwnProperty(r)&&Bi[r]?(""+i).trim():i+"px"}function sd(r,i){r=r.style;for(var l in i)if(i.hasOwnProperty(l)){var u=l.indexOf("--")===0,h=id(l,i[l],u);l==="float"&&(l="cssFloat"),u?r.setProperty(l,h):r[l]=h}}var s0=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xa(r,i){if(i){if(s0[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function Ja(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Za=null;function eu(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var tu=null,Hr=null,qr=null;function od(r){if(r=cs(r)){if(typeof tu!="function")throw Error(n(280));var i=r.stateNode;i&&(i=Qo(i),tu(r.stateNode,r.type,i))}}function ld(r){Hr?qr?qr.push(r):qr=[r]:Hr=r}function ad(){if(Hr){var r=Hr,i=qr;if(qr=Hr=null,od(r),i)for(r=0;r<i.length;r++)od(i[r])}}function ud(r,i){return r(i)}function cd(){}var nu=!1;function hd(r,i,l){if(nu)return r(i,l);nu=!0;try{return ud(r,i,l)}finally{nu=!1,(Hr!==null||qr!==null)&&(cd(),ad())}}function bi(r,i){var l=r.stateNode;if(l===null)return null;var u=Qo(l);if(u===null)return null;l=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,i,typeof l));return l}var ru=!1;if(d)try{var Hi={};Object.defineProperty(Hi,"passive",{get:function(){ru=!0}}),window.addEventListener("test",Hi,Hi),window.removeEventListener("test",Hi,Hi)}catch{ru=!1}function o0(r,i,l,u,h,f,m,v,E){var I=Array.prototype.slice.call(arguments,3);try{i.apply(l,I)}catch(L){this.onError(L)}}var qi=!1,Io=null,_o=!1,iu=null,l0={onError:function(r){qi=!0,Io=r}};function a0(r,i,l,u,h,f,m,v,E){qi=!1,Io=null,o0.apply(l0,arguments)}function u0(r,i,l,u,h,f,m,v,E){if(a0.apply(this,arguments),qi){if(qi){var I=Io;qi=!1,Io=null}else throw Error(n(198));_o||(_o=!0,iu=I)}}function yr(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,i.flags&4098&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function fd(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function dd(r){if(yr(r)!==r)throw Error(n(188))}function c0(r){var i=r.alternate;if(!i){if(i=yr(r),i===null)throw Error(n(188));return i!==r?null:r}for(var l=r,u=i;;){var h=l.return;if(h===null)break;var f=h.alternate;if(f===null){if(u=h.return,u!==null){l=u;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===l)return dd(h),r;if(f===u)return dd(h),i;f=f.sibling}throw Error(n(188))}if(l.return!==u.return)l=h,u=f;else{for(var m=!1,v=h.child;v;){if(v===l){m=!0,l=h,u=f;break}if(v===u){m=!0,u=h,l=f;break}v=v.sibling}if(!m){for(v=f.child;v;){if(v===l){m=!0,l=f,u=h;break}if(v===u){m=!0,u=f,l=h;break}v=v.sibling}if(!m)throw Error(n(189))}}if(l.alternate!==u)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:i}function pd(r){return r=c0(r),r!==null?md(r):null}function md(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=md(r);if(i!==null)return i;r=r.sibling}return null}var gd=e.unstable_scheduleCallback,yd=e.unstable_cancelCallback,h0=e.unstable_shouldYield,f0=e.unstable_requestPaint,Ve=e.unstable_now,d0=e.unstable_getCurrentPriorityLevel,su=e.unstable_ImmediatePriority,vd=e.unstable_UserBlockingPriority,No=e.unstable_NormalPriority,p0=e.unstable_LowPriority,wd=e.unstable_IdlePriority,Do=null,un=null;function m0(r){if(un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(Do,r,void 0,(r.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:v0,g0=Math.log,y0=Math.LN2;function v0(r){return r>>>=0,r===0?32:31-(g0(r)/y0|0)|0}var Ao=64,Po=4194304;function Ki(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ro(r,i){var l=r.pendingLanes;if(l===0)return 0;var u=0,h=r.suspendedLanes,f=r.pingedLanes,m=l&268435455;if(m!==0){var v=m&~h;v!==0?u=Ki(v):(f&=m,f!==0&&(u=Ki(f)))}else m=l&~h,m!==0?u=Ki(m):f!==0&&(u=Ki(f));if(u===0)return 0;if(i!==0&&i!==u&&!(i&h)&&(h=u&-u,f=i&-i,h>=f||h===16&&(f&4194240)!==0))return i;if(u&4&&(u|=l&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=u;0<i;)l=31-Yt(i),h=1<<l,u|=r[l],i&=~h;return u}function w0(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E0(r,i){for(var l=r.suspendedLanes,u=r.pingedLanes,h=r.expirationTimes,f=r.pendingLanes;0<f;){var m=31-Yt(f),v=1<<m,E=h[m];E===-1?(!(v&l)||v&u)&&(h[m]=w0(v,i)):E<=i&&(r.expiredLanes|=v),f&=~v}}function ou(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Ed(){var r=Ao;return Ao<<=1,!(Ao&4194240)&&(Ao=64),r}function lu(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function Wi(r,i,l){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-Yt(i),r[i]=l}function S0(r,i){var l=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var u=r.eventTimes;for(r=r.expirationTimes;0<l;){var h=31-Yt(l),f=1<<h;i[h]=0,u[h]=-1,r[h]=-1,l&=~f}}function au(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var u=31-Yt(l),h=1<<u;h&i|r[u]&i&&(r[u]|=i),l&=~h}}var Se=0;function Sd(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Cd,uu,xd,kd,Td,cu=!1,Lo=[],Un=null,Vn=null,zn=null,Qi=new Map,Gi=new Map,$n=[],C0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Id(r,i){switch(r){case"focusin":case"focusout":Un=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":Qi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gi.delete(i.pointerId)}}function Yi(r,i,l,u,h,f){return r===null||r.nativeEvent!==f?(r={blockedOn:i,domEventName:l,eventSystemFlags:u,nativeEvent:f,targetContainers:[h]},i!==null&&(i=cs(i),i!==null&&uu(i)),r):(r.eventSystemFlags|=u,i=r.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),r)}function x0(r,i,l,u,h){switch(i){case"focusin":return Un=Yi(Un,r,i,l,u,h),!0;case"dragenter":return Vn=Yi(Vn,r,i,l,u,h),!0;case"mouseover":return zn=Yi(zn,r,i,l,u,h),!0;case"pointerover":var f=h.pointerId;return Qi.set(f,Yi(Qi.get(f)||null,r,i,l,u,h)),!0;case"gotpointercapture":return f=h.pointerId,Gi.set(f,Yi(Gi.get(f)||null,r,i,l,u,h)),!0}return!1}function _d(r){var i=vr(r.target);if(i!==null){var l=yr(i);if(l!==null){if(i=l.tag,i===13){if(i=fd(l),i!==null){r.blockedOn=i,Td(r.priority,function(){xd(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Oo(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=fu(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var u=new l.constructor(l.type,l);Za=u,l.target.dispatchEvent(u),Za=null}else return i=cs(l),i!==null&&uu(i),r.blockedOn=l,!1;i.shift()}return!0}function Nd(r,i,l){Oo(r)&&l.delete(i)}function k0(){cu=!1,Un!==null&&Oo(Un)&&(Un=null),Vn!==null&&Oo(Vn)&&(Vn=null),zn!==null&&Oo(zn)&&(zn=null),Qi.forEach(Nd),Gi.forEach(Nd)}function Xi(r,i){r.blockedOn===i&&(r.blockedOn=null,cu||(cu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,k0)))}function Ji(r){function i(h){return Xi(h,r)}if(0<Lo.length){Xi(Lo[0],r);for(var l=1;l<Lo.length;l++){var u=Lo[l];u.blockedOn===r&&(u.blockedOn=null)}}for(Un!==null&&Xi(Un,r),Vn!==null&&Xi(Vn,r),zn!==null&&Xi(zn,r),Qi.forEach(i),Gi.forEach(i),l=0;l<$n.length;l++)u=$n[l],u.blockedOn===r&&(u.blockedOn=null);for(;0<$n.length&&(l=$n[0],l.blockedOn===null);)_d(l),l.blockedOn===null&&$n.shift()}var Kr=ce.ReactCurrentBatchConfig,Mo=!0;function T0(r,i,l,u){var h=Se,f=Kr.transition;Kr.transition=null;try{Se=1,hu(r,i,l,u)}finally{Se=h,Kr.transition=f}}function I0(r,i,l,u){var h=Se,f=Kr.transition;Kr.transition=null;try{Se=4,hu(r,i,l,u)}finally{Se=h,Kr.transition=f}}function hu(r,i,l,u){if(Mo){var h=fu(r,i,l,u);if(h===null)Du(r,i,u,Fo,l),Id(r,u);else if(x0(h,r,i,l,u))u.stopPropagation();else if(Id(r,u),i&4&&-1<C0.indexOf(r)){for(;h!==null;){var f=cs(h);if(f!==null&&Cd(f),f=fu(r,i,l,u),f===null&&Du(r,i,u,Fo,l),f===h)break;h=f}h!==null&&u.stopPropagation()}else Du(r,i,u,null,l)}}var Fo=null;function fu(r,i,l,u){if(Fo=null,r=eu(u),r=vr(r),r!==null)if(i=yr(r),i===null)r=null;else if(l=i.tag,l===13){if(r=fd(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return Fo=r,null}function Dd(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(d0()){case su:return 1;case vd:return 4;case No:case p0:return 16;case wd:return 536870912;default:return 16}default:return 16}}var Bn=null,du=null,jo=null;function Ad(){if(jo)return jo;var r,i=du,l=i.length,u,h="value"in Bn?Bn.value:Bn.textContent,f=h.length;for(r=0;r<l&&i[r]===h[r];r++);var m=l-r;for(u=1;u<=m&&i[l-u]===h[f-u];u++);return jo=h.slice(r,1<u?1-u:void 0)}function Uo(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Vo(){return!0}function Pd(){return!1}function Mt(r){function i(l,u,h,f,m){this._reactName=l,this._targetInst=h,this.type=u,this.nativeEvent=f,this.target=m,this.currentTarget=null;for(var v in r)r.hasOwnProperty(v)&&(l=r[v],this[v]=l?l(f):f[v]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Vo:Pd,this.isPropagationStopped=Pd,this}return q(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Vo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Vo)},persist:function(){},isPersistent:Vo}),i}var Wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pu=Mt(Wr),Zi=q({},Wr,{view:0,detail:0}),_0=Mt(Zi),mu,gu,es,zo=q({},Zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vu,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==es&&(es&&r.type==="mousemove"?(mu=r.screenX-es.screenX,gu=r.screenY-es.screenY):gu=mu=0,es=r),mu)},movementY:function(r){return"movementY"in r?r.movementY:gu}}),Rd=Mt(zo),N0=q({},zo,{dataTransfer:0}),D0=Mt(N0),A0=q({},Zi,{relatedTarget:0}),yu=Mt(A0),P0=q({},Wr,{animationName:0,elapsedTime:0,pseudoElement:0}),R0=Mt(P0),L0=q({},Wr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),O0=Mt(L0),M0=q({},Wr,{data:0}),Ld=Mt(M0),F0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function V0(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=U0[r])?!!i[r]:!1}function vu(){return V0}var z0=q({},Zi,{key:function(r){if(r.key){var i=F0[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Uo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?j0[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vu,charCode:function(r){return r.type==="keypress"?Uo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Uo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),$0=Mt(z0),B0=q({},zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Od=Mt(B0),b0=q({},Zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vu}),H0=Mt(b0),q0=q({},Wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),K0=Mt(q0),W0=q({},zo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Q0=Mt(W0),G0=[9,13,27,32],wu=d&&"CompositionEvent"in window,ts=null;d&&"documentMode"in document&&(ts=document.documentMode);var Y0=d&&"TextEvent"in window&&!ts,Md=d&&(!wu||ts&&8<ts&&11>=ts),Fd=" ",jd=!1;function Ud(r,i){switch(r){case"keyup":return G0.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vd(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Qr=!1;function X0(r,i){switch(r){case"compositionend":return Vd(i);case"keypress":return i.which!==32?null:(jd=!0,Fd);case"textInput":return r=i.data,r===Fd&&jd?null:r;default:return null}}function J0(r,i){if(Qr)return r==="compositionend"||!wu&&Ud(r,i)?(r=Ad(),jo=du=Bn=null,Qr=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Md&&i.locale!=="ko"?null:i.data;default:return null}}var Z0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zd(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!Z0[r.type]:i==="textarea"}function $d(r,i,l,u){ld(u),i=qo(i,"onChange"),0<i.length&&(l=new pu("onChange","change",null,l,u),r.push({event:l,listeners:i}))}var ns=null,rs=null;function e1(r){sp(r,0)}function $o(r){var i=Zr(r);if(Gf(i))return r}function t1(r,i){if(r==="change")return i}var Bd=!1;if(d){var Eu;if(d){var Su="oninput"in document;if(!Su){var bd=document.createElement("div");bd.setAttribute("oninput","return;"),Su=typeof bd.oninput=="function"}Eu=Su}else Eu=!1;Bd=Eu&&(!document.documentMode||9<document.documentMode)}function Hd(){ns&&(ns.detachEvent("onpropertychange",qd),rs=ns=null)}function qd(r){if(r.propertyName==="value"&&$o(rs)){var i=[];$d(i,rs,r,eu(r)),hd(e1,i)}}function n1(r,i,l){r==="focusin"?(Hd(),ns=i,rs=l,ns.attachEvent("onpropertychange",qd)):r==="focusout"&&Hd()}function r1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return $o(rs)}function i1(r,i){if(r==="click")return $o(i)}function s1(r,i){if(r==="input"||r==="change")return $o(i)}function o1(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Xt=typeof Object.is=="function"?Object.is:o1;function is(r,i){if(Xt(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),u=Object.keys(i);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var h=l[u];if(!p.call(i,h)||!Xt(r[h],i[h]))return!1}return!0}function Kd(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Wd(r,i){var l=Kd(r);r=0;for(var u;l;){if(l.nodeType===3){if(u=r+l.textContent.length,r<=i&&u>=i)return{node:l,offset:i-r};r=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Kd(l)}}function Qd(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Qd(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Gd(){for(var r=window,i=ko();i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=ko(r.document)}return i}function Cu(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function l1(r){var i=Gd(),l=r.focusedElem,u=r.selectionRange;if(i!==l&&l&&l.ownerDocument&&Qd(l.ownerDocument.documentElement,l)){if(u!==null&&Cu(l)){if(i=u.start,r=u.end,r===void 0&&(r=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(r,l.value.length);else if(r=(i=l.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var h=l.textContent.length,f=Math.min(u.start,h);u=u.end===void 0?f:Math.min(u.end,h),!r.extend&&f>u&&(h=u,u=f,f=h),h=Wd(l,f);var m=Wd(l,u);h&&m&&(r.rangeCount!==1||r.anchorNode!==h.node||r.anchorOffset!==h.offset||r.focusNode!==m.node||r.focusOffset!==m.offset)&&(i=i.createRange(),i.setStart(h.node,h.offset),r.removeAllRanges(),f>u?(r.addRange(i),r.extend(m.node,m.offset)):(i.setEnd(m.node,m.offset),r.addRange(i)))}}for(i=[],r=l;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)r=i[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var a1=d&&"documentMode"in document&&11>=document.documentMode,Gr=null,xu=null,ss=null,ku=!1;function Yd(r,i,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ku||Gr==null||Gr!==ko(u)||(u=Gr,"selectionStart"in u&&Cu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ss&&is(ss,u)||(ss=u,u=qo(xu,"onSelect"),0<u.length&&(i=new pu("onSelect","select",null,i,l),r.push({event:i,listeners:u}),i.target=Gr)))}function Bo(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var Yr={animationend:Bo("Animation","AnimationEnd"),animationiteration:Bo("Animation","AnimationIteration"),animationstart:Bo("Animation","AnimationStart"),transitionend:Bo("Transition","TransitionEnd")},Tu={},Xd={};d&&(Xd=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);function bo(r){if(Tu[r])return Tu[r];if(!Yr[r])return r;var i=Yr[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in Xd)return Tu[r]=i[l];return r}var Jd=bo("animationend"),Zd=bo("animationiteration"),ep=bo("animationstart"),tp=bo("transitionend"),np=new Map,rp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bn(r,i){np.set(r,i),a(i,[r])}for(var Iu=0;Iu<rp.length;Iu++){var _u=rp[Iu],u1=_u.toLowerCase(),c1=_u[0].toUpperCase()+_u.slice(1);bn(u1,"on"+c1)}bn(Jd,"onAnimationEnd"),bn(Zd,"onAnimationIteration"),bn(ep,"onAnimationStart"),bn("dblclick","onDoubleClick"),bn("focusin","onFocus"),bn("focusout","onBlur"),bn(tp,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h1=new Set("cancel close invalid load scroll toggle".split(" ").concat(os));function ip(r,i,l){var u=r.type||"unknown-event";r.currentTarget=l,u0(u,i,void 0,r),r.currentTarget=null}function sp(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var u=r[l],h=u.event;u=u.listeners;e:{var f=void 0;if(i)for(var m=u.length-1;0<=m;m--){var v=u[m],E=v.instance,I=v.currentTarget;if(v=v.listener,E!==f&&h.isPropagationStopped())break e;ip(h,v,I),f=E}else for(m=0;m<u.length;m++){if(v=u[m],E=v.instance,I=v.currentTarget,v=v.listener,E!==f&&h.isPropagationStopped())break e;ip(h,v,I),f=E}}}if(_o)throw r=iu,_o=!1,iu=null,r}function Te(r,i){var l=i[Mu];l===void 0&&(l=i[Mu]=new Set);var u=r+"__bubble";l.has(u)||(op(i,r,2,!1),l.add(u))}function Nu(r,i,l){var u=0;i&&(u|=4),op(l,r,u,i)}var Ho="_reactListening"+Math.random().toString(36).slice(2);function ls(r){if(!r[Ho]){r[Ho]=!0,s.forEach(function(l){l!=="selectionchange"&&(h1.has(l)||Nu(l,!1,r),Nu(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Ho]||(i[Ho]=!0,Nu("selectionchange",!1,i))}}function op(r,i,l,u){switch(Dd(i)){case 1:var h=T0;break;case 4:h=I0;break;default:h=hu}l=h.bind(null,i,l,r),h=void 0,!ru||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),u?h!==void 0?r.addEventListener(i,l,{capture:!0,passive:h}):r.addEventListener(i,l,!0):h!==void 0?r.addEventListener(i,l,{passive:h}):r.addEventListener(i,l,!1)}function Du(r,i,l,u,h){var f=u;if(!(i&1)&&!(i&2)&&u!==null)e:for(;;){if(u===null)return;var m=u.tag;if(m===3||m===4){var v=u.stateNode.containerInfo;if(v===h||v.nodeType===8&&v.parentNode===h)break;if(m===4)for(m=u.return;m!==null;){var E=m.tag;if((E===3||E===4)&&(E=m.stateNode.containerInfo,E===h||E.nodeType===8&&E.parentNode===h))return;m=m.return}for(;v!==null;){if(m=vr(v),m===null)return;if(E=m.tag,E===5||E===6){u=f=m;continue e}v=v.parentNode}}u=u.return}hd(function(){var I=f,L=eu(l),O=[];e:{var P=np.get(r);if(P!==void 0){var B=pu,K=r;switch(r){case"keypress":if(Uo(l)===0)break e;case"keydown":case"keyup":B=$0;break;case"focusin":K="focus",B=yu;break;case"focusout":K="blur",B=yu;break;case"beforeblur":case"afterblur":B=yu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Rd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=D0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=H0;break;case Jd:case Zd:case ep:B=R0;break;case tp:B=K0;break;case"scroll":B=_0;break;case"wheel":B=Q0;break;case"copy":case"cut":case"paste":B=O0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Od}var W=(i&4)!==0,ze=!W&&r==="scroll",x=W?P!==null?P+"Capture":null:P;W=[];for(var S=I,k;S!==null;){k=S;var j=k.stateNode;if(k.tag===5&&j!==null&&(k=j,x!==null&&(j=bi(S,x),j!=null&&W.push(as(S,j,k)))),ze)break;S=S.return}0<W.length&&(P=new B(P,K,null,l,L),O.push({event:P,listeners:W}))}}if(!(i&7)){e:{if(P=r==="mouseover"||r==="pointerover",B=r==="mouseout"||r==="pointerout",P&&l!==Za&&(K=l.relatedTarget||l.fromElement)&&(vr(K)||K[En]))break e;if((B||P)&&(P=L.window===L?L:(P=L.ownerDocument)?P.defaultView||P.parentWindow:window,B?(K=l.relatedTarget||l.toElement,B=I,K=K?vr(K):null,K!==null&&(ze=yr(K),K!==ze||K.tag!==5&&K.tag!==6)&&(K=null)):(B=null,K=I),B!==K)){if(W=Rd,j="onMouseLeave",x="onMouseEnter",S="mouse",(r==="pointerout"||r==="pointerover")&&(W=Od,j="onPointerLeave",x="onPointerEnter",S="pointer"),ze=B==null?P:Zr(B),k=K==null?P:Zr(K),P=new W(j,S+"leave",B,l,L),P.target=ze,P.relatedTarget=k,j=null,vr(L)===I&&(W=new W(x,S+"enter",K,l,L),W.target=k,W.relatedTarget=ze,j=W),ze=j,B&&K)t:{for(W=B,x=K,S=0,k=W;k;k=Xr(k))S++;for(k=0,j=x;j;j=Xr(j))k++;for(;0<S-k;)W=Xr(W),S--;for(;0<k-S;)x=Xr(x),k--;for(;S--;){if(W===x||x!==null&&W===x.alternate)break t;W=Xr(W),x=Xr(x)}W=null}else W=null;B!==null&&lp(O,P,B,W,!1),K!==null&&ze!==null&&lp(O,ze,K,W,!0)}}e:{if(P=I?Zr(I):window,B=P.nodeName&&P.nodeName.toLowerCase(),B==="select"||B==="input"&&P.type==="file")var Q=t1;else if(zd(P))if(Bd)Q=s1;else{Q=r1;var J=n1}else(B=P.nodeName)&&B.toLowerCase()==="input"&&(P.type==="checkbox"||P.type==="radio")&&(Q=i1);if(Q&&(Q=Q(r,I))){$d(O,Q,l,L);break e}J&&J(r,P,I),r==="focusout"&&(J=P._wrapperState)&&J.controlled&&P.type==="number"&&Qa(P,"number",P.value)}switch(J=I?Zr(I):window,r){case"focusin":(zd(J)||J.contentEditable==="true")&&(Gr=J,xu=I,ss=null);break;case"focusout":ss=xu=Gr=null;break;case"mousedown":ku=!0;break;case"contextmenu":case"mouseup":case"dragend":ku=!1,Yd(O,l,L);break;case"selectionchange":if(a1)break;case"keydown":case"keyup":Yd(O,l,L)}var Z;if(wu)e:{switch(r){case"compositionstart":var te="onCompositionStart";break e;case"compositionend":te="onCompositionEnd";break e;case"compositionupdate":te="onCompositionUpdate";break e}te=void 0}else Qr?Ud(r,l)&&(te="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(te="onCompositionStart");te&&(Md&&l.locale!=="ko"&&(Qr||te!=="onCompositionStart"?te==="onCompositionEnd"&&Qr&&(Z=Ad()):(Bn=L,du="value"in Bn?Bn.value:Bn.textContent,Qr=!0)),J=qo(I,te),0<J.length&&(te=new Ld(te,r,null,l,L),O.push({event:te,listeners:J}),Z?te.data=Z:(Z=Vd(l),Z!==null&&(te.data=Z)))),(Z=Y0?X0(r,l):J0(r,l))&&(I=qo(I,"onBeforeInput"),0<I.length&&(L=new Ld("onBeforeInput","beforeinput",null,l,L),O.push({event:L,listeners:I}),L.data=Z))}sp(O,i)})}function as(r,i,l){return{instance:r,listener:i,currentTarget:l}}function qo(r,i){for(var l=i+"Capture",u=[];r!==null;){var h=r,f=h.stateNode;h.tag===5&&f!==null&&(h=f,f=bi(r,l),f!=null&&u.unshift(as(r,f,h)),f=bi(r,i),f!=null&&u.push(as(r,f,h))),r=r.return}return u}function Xr(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function lp(r,i,l,u,h){for(var f=i._reactName,m=[];l!==null&&l!==u;){var v=l,E=v.alternate,I=v.stateNode;if(E!==null&&E===u)break;v.tag===5&&I!==null&&(v=I,h?(E=bi(l,f),E!=null&&m.unshift(as(l,E,v))):h||(E=bi(l,f),E!=null&&m.push(as(l,E,v)))),l=l.return}m.length!==0&&r.push({event:i,listeners:m})}var f1=/\r\n?/g,d1=/\u0000|\uFFFD/g;function ap(r){return(typeof r=="string"?r:""+r).replace(f1,`
`).replace(d1,"")}function Ko(r,i,l){if(i=ap(i),ap(r)!==i&&l)throw Error(n(425))}function Wo(){}var Au=null,Pu=null;function Ru(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Lu=typeof setTimeout=="function"?setTimeout:void 0,p1=typeof clearTimeout=="function"?clearTimeout:void 0,up=typeof Promise=="function"?Promise:void 0,m1=typeof queueMicrotask=="function"?queueMicrotask:typeof up<"u"?function(r){return up.resolve(null).then(r).catch(g1)}:Lu;function g1(r){setTimeout(function(){throw r})}function Ou(r,i){var l=i,u=0;do{var h=l.nextSibling;if(r.removeChild(l),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(u===0){r.removeChild(h),Ji(i);return}u--}else l!=="$"&&l!=="$?"&&l!=="$!"||u++;l=h}while(l);Ji(i)}function Hn(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function cp(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return r;i--}else l==="/$"&&i++}r=r.previousSibling}return null}var Jr=Math.random().toString(36).slice(2),cn="__reactFiber$"+Jr,us="__reactProps$"+Jr,En="__reactContainer$"+Jr,Mu="__reactEvents$"+Jr,y1="__reactListeners$"+Jr,v1="__reactHandles$"+Jr;function vr(r){var i=r[cn];if(i)return i;for(var l=r.parentNode;l;){if(i=l[En]||l[cn]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=cp(r);r!==null;){if(l=r[cn])return l;r=cp(r)}return i}r=l,l=r.parentNode}return null}function cs(r){return r=r[cn]||r[En],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Zr(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Qo(r){return r[us]||null}var Fu=[],ei=-1;function qn(r){return{current:r}}function Ie(r){0>ei||(r.current=Fu[ei],Fu[ei]=null,ei--)}function ke(r,i){ei++,Fu[ei]=r.current,r.current=i}var Kn={},at=qn(Kn),Tt=qn(!1),wr=Kn;function ti(r,i){var l=r.type.contextTypes;if(!l)return Kn;var u=r.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===i)return u.__reactInternalMemoizedMaskedChildContext;var h={},f;for(f in l)h[f]=i[f];return u&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=h),h}function It(r){return r=r.childContextTypes,r!=null}function Go(){Ie(Tt),Ie(at)}function hp(r,i,l){if(at.current!==Kn)throw Error(n(168));ke(at,i),ke(Tt,l)}function fp(r,i,l){var u=r.stateNode;if(i=i.childContextTypes,typeof u.getChildContext!="function")return l;u=u.getChildContext();for(var h in u)if(!(h in i))throw Error(n(108,xe(r)||"Unknown",h));return q({},l,u)}function Yo(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Kn,wr=at.current,ke(at,r),ke(Tt,Tt.current),!0}function dp(r,i,l){var u=r.stateNode;if(!u)throw Error(n(169));l?(r=fp(r,i,wr),u.__reactInternalMemoizedMergedChildContext=r,Ie(Tt),Ie(at),ke(at,r)):Ie(Tt),ke(Tt,l)}var Sn=null,Xo=!1,ju=!1;function pp(r){Sn===null?Sn=[r]:Sn.push(r)}function w1(r){Xo=!0,pp(r)}function Wn(){if(!ju&&Sn!==null){ju=!0;var r=0,i=Se;try{var l=Sn;for(Se=1;r<l.length;r++){var u=l[r];do u=u(!0);while(u!==null)}Sn=null,Xo=!1}catch(h){throw Sn!==null&&(Sn=Sn.slice(r+1)),gd(su,Wn),h}finally{Se=i,ju=!1}}return null}var ni=[],ri=0,Jo=null,Zo=0,$t=[],Bt=0,Er=null,Cn=1,xn="";function Sr(r,i){ni[ri++]=Zo,ni[ri++]=Jo,Jo=r,Zo=i}function mp(r,i,l){$t[Bt++]=Cn,$t[Bt++]=xn,$t[Bt++]=Er,Er=r;var u=Cn;r=xn;var h=32-Yt(u)-1;u&=~(1<<h),l+=1;var f=32-Yt(i)+h;if(30<f){var m=h-h%5;f=(u&(1<<m)-1).toString(32),u>>=m,h-=m,Cn=1<<32-Yt(i)+h|l<<h|u,xn=f+r}else Cn=1<<f|l<<h|u,xn=r}function Uu(r){r.return!==null&&(Sr(r,1),mp(r,1,0))}function Vu(r){for(;r===Jo;)Jo=ni[--ri],ni[ri]=null,Zo=ni[--ri],ni[ri]=null;for(;r===Er;)Er=$t[--Bt],$t[Bt]=null,xn=$t[--Bt],$t[Bt]=null,Cn=$t[--Bt],$t[Bt]=null}var Ft=null,jt=null,Pe=!1,Jt=null;function gp(r,i){var l=Kt(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=r,i=r.deletions,i===null?(r.deletions=[l],r.flags|=16):i.push(l)}function yp(r,i){switch(r.tag){case 5:var l=r.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,Ft=r,jt=Hn(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,Ft=r,jt=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=Er!==null?{id:Cn,overflow:xn}:null,r.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=Kt(18,null,null,0),l.stateNode=i,l.return=r,r.child=l,Ft=r,jt=null,!0):!1;default:return!1}}function zu(r){return(r.mode&1)!==0&&(r.flags&128)===0}function $u(r){if(Pe){var i=jt;if(i){var l=i;if(!yp(r,i)){if(zu(r))throw Error(n(418));i=Hn(l.nextSibling);var u=Ft;i&&yp(r,i)?gp(u,l):(r.flags=r.flags&-4097|2,Pe=!1,Ft=r)}}else{if(zu(r))throw Error(n(418));r.flags=r.flags&-4097|2,Pe=!1,Ft=r}}}function vp(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Ft=r}function el(r){if(r!==Ft)return!1;if(!Pe)return vp(r),Pe=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!Ru(r.type,r.memoizedProps)),i&&(i=jt)){if(zu(r))throw wp(),Error(n(418));for(;i;)gp(r,i),i=Hn(i.nextSibling)}if(vp(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(i===0){jt=Hn(r.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}r=r.nextSibling}jt=null}}else jt=Ft?Hn(r.stateNode.nextSibling):null;return!0}function wp(){for(var r=jt;r;)r=Hn(r.nextSibling)}function ii(){jt=Ft=null,Pe=!1}function Bu(r){Jt===null?Jt=[r]:Jt.push(r)}var E1=ce.ReactCurrentBatchConfig;function hs(r,i,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var u=l.stateNode}if(!u)throw Error(n(147,r));var h=u,f=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===f?i.ref:(i=function(m){var v=h.refs;m===null?delete v[f]:v[f]=m},i._stringRef=f,i)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function tl(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function Ep(r){var i=r._init;return i(r._payload)}function Sp(r){function i(x,S){if(r){var k=x.deletions;k===null?(x.deletions=[S],x.flags|=16):k.push(S)}}function l(x,S){if(!r)return null;for(;S!==null;)i(x,S),S=S.sibling;return null}function u(x,S){for(x=new Map;S!==null;)S.key!==null?x.set(S.key,S):x.set(S.index,S),S=S.sibling;return x}function h(x,S){return x=tr(x,S),x.index=0,x.sibling=null,x}function f(x,S,k){return x.index=k,r?(k=x.alternate,k!==null?(k=k.index,k<S?(x.flags|=2,S):k):(x.flags|=2,S)):(x.flags|=1048576,S)}function m(x){return r&&x.alternate===null&&(x.flags|=2),x}function v(x,S,k,j){return S===null||S.tag!==6?(S=Lc(k,x.mode,j),S.return=x,S):(S=h(S,k),S.return=x,S)}function E(x,S,k,j){var Q=k.type;return Q===nt?L(x,S,k.props.children,j,k.key):S!==null&&(S.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===kt&&Ep(Q)===S.type)?(j=h(S,k.props),j.ref=hs(x,S,k),j.return=x,j):(j=Tl(k.type,k.key,k.props,null,x.mode,j),j.ref=hs(x,S,k),j.return=x,j)}function I(x,S,k,j){return S===null||S.tag!==4||S.stateNode.containerInfo!==k.containerInfo||S.stateNode.implementation!==k.implementation?(S=Oc(k,x.mode,j),S.return=x,S):(S=h(S,k.children||[]),S.return=x,S)}function L(x,S,k,j,Q){return S===null||S.tag!==7?(S=Dr(k,x.mode,j,Q),S.return=x,S):(S=h(S,k),S.return=x,S)}function O(x,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Lc(""+S,x.mode,k),S.return=x,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Re:return k=Tl(S.type,S.key,S.props,null,x.mode,k),k.ref=hs(x,null,S),k.return=x,k;case Ke:return S=Oc(S,x.mode,k),S.return=x,S;case kt:var j=S._init;return O(x,j(S._payload),k)}if(zi(S)||ee(S))return S=Dr(S,x.mode,k,null),S.return=x,S;tl(x,S)}return null}function P(x,S,k,j){var Q=S!==null?S.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return Q!==null?null:v(x,S,""+k,j);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Re:return k.key===Q?E(x,S,k,j):null;case Ke:return k.key===Q?I(x,S,k,j):null;case kt:return Q=k._init,P(x,S,Q(k._payload),j)}if(zi(k)||ee(k))return Q!==null?null:L(x,S,k,j,null);tl(x,k)}return null}function B(x,S,k,j,Q){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(k)||null,v(S,x,""+j,Q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Re:return x=x.get(j.key===null?k:j.key)||null,E(S,x,j,Q);case Ke:return x=x.get(j.key===null?k:j.key)||null,I(S,x,j,Q);case kt:var J=j._init;return B(x,S,k,J(j._payload),Q)}if(zi(j)||ee(j))return x=x.get(k)||null,L(S,x,j,Q,null);tl(S,j)}return null}function K(x,S,k,j){for(var Q=null,J=null,Z=S,te=S=0,Je=null;Z!==null&&te<k.length;te++){Z.index>te?(Je=Z,Z=null):Je=Z.sibling;var ye=P(x,Z,k[te],j);if(ye===null){Z===null&&(Z=Je);break}r&&Z&&ye.alternate===null&&i(x,Z),S=f(ye,S,te),J===null?Q=ye:J.sibling=ye,J=ye,Z=Je}if(te===k.length)return l(x,Z),Pe&&Sr(x,te),Q;if(Z===null){for(;te<k.length;te++)Z=O(x,k[te],j),Z!==null&&(S=f(Z,S,te),J===null?Q=Z:J.sibling=Z,J=Z);return Pe&&Sr(x,te),Q}for(Z=u(x,Z);te<k.length;te++)Je=B(Z,x,te,k[te],j),Je!==null&&(r&&Je.alternate!==null&&Z.delete(Je.key===null?te:Je.key),S=f(Je,S,te),J===null?Q=Je:J.sibling=Je,J=Je);return r&&Z.forEach(function(nr){return i(x,nr)}),Pe&&Sr(x,te),Q}function W(x,S,k,j){var Q=ee(k);if(typeof Q!="function")throw Error(n(150));if(k=Q.call(k),k==null)throw Error(n(151));for(var J=Q=null,Z=S,te=S=0,Je=null,ye=k.next();Z!==null&&!ye.done;te++,ye=k.next()){Z.index>te?(Je=Z,Z=null):Je=Z.sibling;var nr=P(x,Z,ye.value,j);if(nr===null){Z===null&&(Z=Je);break}r&&Z&&nr.alternate===null&&i(x,Z),S=f(nr,S,te),J===null?Q=nr:J.sibling=nr,J=nr,Z=Je}if(ye.done)return l(x,Z),Pe&&Sr(x,te),Q;if(Z===null){for(;!ye.done;te++,ye=k.next())ye=O(x,ye.value,j),ye!==null&&(S=f(ye,S,te),J===null?Q=ye:J.sibling=ye,J=ye);return Pe&&Sr(x,te),Q}for(Z=u(x,Z);!ye.done;te++,ye=k.next())ye=B(Z,x,te,ye.value,j),ye!==null&&(r&&ye.alternate!==null&&Z.delete(ye.key===null?te:ye.key),S=f(ye,S,te),J===null?Q=ye:J.sibling=ye,J=ye);return r&&Z.forEach(function(Z1){return i(x,Z1)}),Pe&&Sr(x,te),Q}function ze(x,S,k,j){if(typeof k=="object"&&k!==null&&k.type===nt&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Re:e:{for(var Q=k.key,J=S;J!==null;){if(J.key===Q){if(Q=k.type,Q===nt){if(J.tag===7){l(x,J.sibling),S=h(J,k.props.children),S.return=x,x=S;break e}}else if(J.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===kt&&Ep(Q)===J.type){l(x,J.sibling),S=h(J,k.props),S.ref=hs(x,J,k),S.return=x,x=S;break e}l(x,J);break}else i(x,J);J=J.sibling}k.type===nt?(S=Dr(k.props.children,x.mode,j,k.key),S.return=x,x=S):(j=Tl(k.type,k.key,k.props,null,x.mode,j),j.ref=hs(x,S,k),j.return=x,x=j)}return m(x);case Ke:e:{for(J=k.key;S!==null;){if(S.key===J)if(S.tag===4&&S.stateNode.containerInfo===k.containerInfo&&S.stateNode.implementation===k.implementation){l(x,S.sibling),S=h(S,k.children||[]),S.return=x,x=S;break e}else{l(x,S);break}else i(x,S);S=S.sibling}S=Oc(k,x.mode,j),S.return=x,x=S}return m(x);case kt:return J=k._init,ze(x,S,J(k._payload),j)}if(zi(k))return K(x,S,k,j);if(ee(k))return W(x,S,k,j);tl(x,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,S!==null&&S.tag===6?(l(x,S.sibling),S=h(S,k),S.return=x,x=S):(l(x,S),S=Lc(k,x.mode,j),S.return=x,x=S),m(x)):l(x,S)}return ze}var si=Sp(!0),Cp=Sp(!1),nl=qn(null),rl=null,oi=null,bu=null;function Hu(){bu=oi=rl=null}function qu(r){var i=nl.current;Ie(nl),r._currentValue=i}function Ku(r,i,l){for(;r!==null;){var u=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),r===l)break;r=r.return}}function li(r,i){rl=r,bu=oi=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&i&&(_t=!0),r.firstContext=null)}function bt(r){var i=r._currentValue;if(bu!==r)if(r={context:r,memoizedValue:i,next:null},oi===null){if(rl===null)throw Error(n(308));oi=r,rl.dependencies={lanes:0,firstContext:r}}else oi=oi.next=r;return i}var Cr=null;function Wu(r){Cr===null?Cr=[r]:Cr.push(r)}function xp(r,i,l,u){var h=i.interleaved;return h===null?(l.next=l,Wu(i)):(l.next=h.next,h.next=l),i.interleaved=l,kn(r,u)}function kn(r,i){r.lanes|=i;var l=r.alternate;for(l!==null&&(l.lanes|=i),l=r,r=r.return;r!==null;)r.childLanes|=i,l=r.alternate,l!==null&&(l.childLanes|=i),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Qn=!1;function Qu(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kp(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Tn(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function Gn(r,i,l){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,pe&2){var h=u.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),u.pending=i,kn(r,l)}return h=u.interleaved,h===null?(i.next=i,Wu(u)):(i.next=h.next,h.next=i),u.interleaved=i,kn(r,l)}function il(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var u=i.lanes;u&=r.pendingLanes,l|=u,i.lanes=l,au(r,l)}}function Tp(r,i){var l=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var h=null,f=null;if(l=l.firstBaseUpdate,l!==null){do{var m={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};f===null?h=f=m:f=f.next=m,l=l.next}while(l!==null);f===null?h=f=i:f=f.next=i}else h=f=i;l={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:u.shared,effects:u.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}function sl(r,i,l,u){var h=r.updateQueue;Qn=!1;var f=h.firstBaseUpdate,m=h.lastBaseUpdate,v=h.shared.pending;if(v!==null){h.shared.pending=null;var E=v,I=E.next;E.next=null,m===null?f=I:m.next=I,m=E;var L=r.alternate;L!==null&&(L=L.updateQueue,v=L.lastBaseUpdate,v!==m&&(v===null?L.firstBaseUpdate=I:v.next=I,L.lastBaseUpdate=E))}if(f!==null){var O=h.baseState;m=0,L=I=E=null,v=f;do{var P=v.lane,B=v.eventTime;if((u&P)===P){L!==null&&(L=L.next={eventTime:B,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var K=r,W=v;switch(P=i,B=l,W.tag){case 1:if(K=W.payload,typeof K=="function"){O=K.call(B,O,P);break e}O=K;break e;case 3:K.flags=K.flags&-65537|128;case 0:if(K=W.payload,P=typeof K=="function"?K.call(B,O,P):K,P==null)break e;O=q({},O,P);break e;case 2:Qn=!0}}v.callback!==null&&v.lane!==0&&(r.flags|=64,P=h.effects,P===null?h.effects=[v]:P.push(v))}else B={eventTime:B,lane:P,tag:v.tag,payload:v.payload,callback:v.callback,next:null},L===null?(I=L=B,E=O):L=L.next=B,m|=P;if(v=v.next,v===null){if(v=h.shared.pending,v===null)break;P=v,v=P.next,P.next=null,h.lastBaseUpdate=P,h.shared.pending=null}}while(!0);if(L===null&&(E=O),h.baseState=E,h.firstBaseUpdate=I,h.lastBaseUpdate=L,i=h.shared.interleaved,i!==null){h=i;do m|=h.lane,h=h.next;while(h!==i)}else f===null&&(h.shared.lanes=0);Tr|=m,r.lanes=m,r.memoizedState=O}}function Ip(r,i,l){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var u=r[i],h=u.callback;if(h!==null){if(u.callback=null,u=l,typeof h!="function")throw Error(n(191,h));h.call(u)}}}var fs={},hn=qn(fs),ds=qn(fs),ps=qn(fs);function xr(r){if(r===fs)throw Error(n(174));return r}function Gu(r,i){switch(ke(ps,i),ke(ds,r),ke(hn,fs),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Ya(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=Ya(i,r)}Ie(hn),ke(hn,i)}function ai(){Ie(hn),Ie(ds),Ie(ps)}function _p(r){xr(ps.current);var i=xr(hn.current),l=Ya(i,r.type);i!==l&&(ke(ds,r),ke(hn,l))}function Yu(r){ds.current===r&&(Ie(hn),Ie(ds))}var Le=qn(0);function ol(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Xu=[];function Ju(){for(var r=0;r<Xu.length;r++)Xu[r]._workInProgressVersionPrimary=null;Xu.length=0}var ll=ce.ReactCurrentDispatcher,Zu=ce.ReactCurrentBatchConfig,kr=0,Oe=null,We=null,Ye=null,al=!1,ms=!1,gs=0,S1=0;function ut(){throw Error(n(321))}function ec(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!Xt(r[l],i[l]))return!1;return!0}function tc(r,i,l,u,h,f){if(kr=f,Oe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ll.current=r===null||r.memoizedState===null?T1:I1,r=l(u,h),ms){f=0;do{if(ms=!1,gs=0,25<=f)throw Error(n(301));f+=1,Ye=We=null,i.updateQueue=null,ll.current=_1,r=l(u,h)}while(ms)}if(ll.current=hl,i=We!==null&&We.next!==null,kr=0,Ye=We=Oe=null,al=!1,i)throw Error(n(300));return r}function nc(){var r=gs!==0;return gs=0,r}function fn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?Oe.memoizedState=Ye=r:Ye=Ye.next=r,Ye}function Ht(){if(We===null){var r=Oe.alternate;r=r!==null?r.memoizedState:null}else r=We.next;var i=Ye===null?Oe.memoizedState:Ye.next;if(i!==null)Ye=i,We=r;else{if(r===null)throw Error(n(310));We=r,r={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Ye===null?Oe.memoizedState=Ye=r:Ye=Ye.next=r}return Ye}function ys(r,i){return typeof i=="function"?i(r):i}function rc(r){var i=Ht(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var u=We,h=u.baseQueue,f=l.pending;if(f!==null){if(h!==null){var m=h.next;h.next=f.next,f.next=m}u.baseQueue=h=f,l.pending=null}if(h!==null){f=h.next,u=u.baseState;var v=m=null,E=null,I=f;do{var L=I.lane;if((kr&L)===L)E!==null&&(E=E.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),u=I.hasEagerState?I.eagerState:r(u,I.action);else{var O={lane:L,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};E===null?(v=E=O,m=u):E=E.next=O,Oe.lanes|=L,Tr|=L}I=I.next}while(I!==null&&I!==f);E===null?m=u:E.next=v,Xt(u,i.memoizedState)||(_t=!0),i.memoizedState=u,i.baseState=m,i.baseQueue=E,l.lastRenderedState=u}if(r=l.interleaved,r!==null){h=r;do f=h.lane,Oe.lanes|=f,Tr|=f,h=h.next;while(h!==r)}else h===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function ic(r){var i=Ht(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var u=l.dispatch,h=l.pending,f=i.memoizedState;if(h!==null){l.pending=null;var m=h=h.next;do f=r(f,m.action),m=m.next;while(m!==h);Xt(f,i.memoizedState)||(_t=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),l.lastRenderedState=f}return[f,u]}function Np(){}function Dp(r,i){var l=Oe,u=Ht(),h=i(),f=!Xt(u.memoizedState,h);if(f&&(u.memoizedState=h,_t=!0),u=u.queue,sc(Rp.bind(null,l,u,r),[r]),u.getSnapshot!==i||f||Ye!==null&&Ye.memoizedState.tag&1){if(l.flags|=2048,vs(9,Pp.bind(null,l,u,h,i),void 0,null),Xe===null)throw Error(n(349));kr&30||Ap(l,i,h)}return h}function Ap(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=Oe.updateQueue,i===null?(i={lastEffect:null,stores:null},Oe.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function Pp(r,i,l,u){i.value=l,i.getSnapshot=u,Lp(i)&&Op(r)}function Rp(r,i,l){return l(function(){Lp(i)&&Op(r)})}function Lp(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!Xt(r,l)}catch{return!0}}function Op(r){var i=kn(r,1);i!==null&&nn(i,r,1,-1)}function Mp(r){var i=fn();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:r},i.queue=r,r=r.dispatch=k1.bind(null,Oe,r),[i.memoizedState,r]}function vs(r,i,l,u){return r={tag:r,create:i,destroy:l,deps:u,next:null},i=Oe.updateQueue,i===null?(i={lastEffect:null,stores:null},Oe.updateQueue=i,i.lastEffect=r.next=r):(l=i.lastEffect,l===null?i.lastEffect=r.next=r:(u=l.next,l.next=r,r.next=u,i.lastEffect=r)),r}function Fp(){return Ht().memoizedState}function ul(r,i,l,u){var h=fn();Oe.flags|=r,h.memoizedState=vs(1|i,l,void 0,u===void 0?null:u)}function cl(r,i,l,u){var h=Ht();u=u===void 0?null:u;var f=void 0;if(We!==null){var m=We.memoizedState;if(f=m.destroy,u!==null&&ec(u,m.deps)){h.memoizedState=vs(i,l,f,u);return}}Oe.flags|=r,h.memoizedState=vs(1|i,l,f,u)}function jp(r,i){return ul(8390656,8,r,i)}function sc(r,i){return cl(2048,8,r,i)}function Up(r,i){return cl(4,2,r,i)}function Vp(r,i){return cl(4,4,r,i)}function zp(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function $p(r,i,l){return l=l!=null?l.concat([r]):null,cl(4,4,zp.bind(null,i,r),l)}function oc(){}function Bp(r,i){var l=Ht();i=i===void 0?null:i;var u=l.memoizedState;return u!==null&&i!==null&&ec(i,u[1])?u[0]:(l.memoizedState=[r,i],r)}function bp(r,i){var l=Ht();i=i===void 0?null:i;var u=l.memoizedState;return u!==null&&i!==null&&ec(i,u[1])?u[0]:(r=r(),l.memoizedState=[r,i],r)}function Hp(r,i,l){return kr&21?(Xt(l,i)||(l=Ed(),Oe.lanes|=l,Tr|=l,r.baseState=!0),i):(r.baseState&&(r.baseState=!1,_t=!0),r.memoizedState=l)}function C1(r,i){var l=Se;Se=l!==0&&4>l?l:4,r(!0);var u=Zu.transition;Zu.transition={};try{r(!1),i()}finally{Se=l,Zu.transition=u}}function qp(){return Ht().memoizedState}function x1(r,i,l){var u=Zn(r);if(l={lane:u,action:l,hasEagerState:!1,eagerState:null,next:null},Kp(r))Wp(i,l);else if(l=xp(r,i,l,u),l!==null){var h=St();nn(l,r,u,h),Qp(l,i,u)}}function k1(r,i,l){var u=Zn(r),h={lane:u,action:l,hasEagerState:!1,eagerState:null,next:null};if(Kp(r))Wp(i,h);else{var f=r.alternate;if(r.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var m=i.lastRenderedState,v=f(m,l);if(h.hasEagerState=!0,h.eagerState=v,Xt(v,m)){var E=i.interleaved;E===null?(h.next=h,Wu(i)):(h.next=E.next,E.next=h),i.interleaved=h;return}}catch{}finally{}l=xp(r,i,h,u),l!==null&&(h=St(),nn(l,r,u,h),Qp(l,i,u))}}function Kp(r){var i=r.alternate;return r===Oe||i!==null&&i===Oe}function Wp(r,i){ms=al=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function Qp(r,i,l){if(l&4194240){var u=i.lanes;u&=r.pendingLanes,l|=u,i.lanes=l,au(r,l)}}var hl={readContext:bt,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useInsertionEffect:ut,useLayoutEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useMutableSource:ut,useSyncExternalStore:ut,useId:ut,unstable_isNewReconciler:!1},T1={readContext:bt,useCallback:function(r,i){return fn().memoizedState=[r,i===void 0?null:i],r},useContext:bt,useEffect:jp,useImperativeHandle:function(r,i,l){return l=l!=null?l.concat([r]):null,ul(4194308,4,zp.bind(null,i,r),l)},useLayoutEffect:function(r,i){return ul(4194308,4,r,i)},useInsertionEffect:function(r,i){return ul(4,2,r,i)},useMemo:function(r,i){var l=fn();return i=i===void 0?null:i,r=r(),l.memoizedState=[r,i],r},useReducer:function(r,i,l){var u=fn();return i=l!==void 0?l(i):i,u.memoizedState=u.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},u.queue=r,r=r.dispatch=x1.bind(null,Oe,r),[u.memoizedState,r]},useRef:function(r){var i=fn();return r={current:r},i.memoizedState=r},useState:Mp,useDebugValue:oc,useDeferredValue:function(r){return fn().memoizedState=r},useTransition:function(){var r=Mp(!1),i=r[0];return r=C1.bind(null,r[1]),fn().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,l){var u=Oe,h=fn();if(Pe){if(l===void 0)throw Error(n(407));l=l()}else{if(l=i(),Xe===null)throw Error(n(349));kr&30||Ap(u,i,l)}h.memoizedState=l;var f={value:l,getSnapshot:i};return h.queue=f,jp(Rp.bind(null,u,f,r),[r]),u.flags|=2048,vs(9,Pp.bind(null,u,f,l,i),void 0,null),l},useId:function(){var r=fn(),i=Xe.identifierPrefix;if(Pe){var l=xn,u=Cn;l=(u&~(1<<32-Yt(u)-1)).toString(32)+l,i=":"+i+"R"+l,l=gs++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=S1++,i=":"+i+"r"+l.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},I1={readContext:bt,useCallback:Bp,useContext:bt,useEffect:sc,useImperativeHandle:$p,useInsertionEffect:Up,useLayoutEffect:Vp,useMemo:bp,useReducer:rc,useRef:Fp,useState:function(){return rc(ys)},useDebugValue:oc,useDeferredValue:function(r){var i=Ht();return Hp(i,We.memoizedState,r)},useTransition:function(){var r=rc(ys)[0],i=Ht().memoizedState;return[r,i]},useMutableSource:Np,useSyncExternalStore:Dp,useId:qp,unstable_isNewReconciler:!1},_1={readContext:bt,useCallback:Bp,useContext:bt,useEffect:sc,useImperativeHandle:$p,useInsertionEffect:Up,useLayoutEffect:Vp,useMemo:bp,useReducer:ic,useRef:Fp,useState:function(){return ic(ys)},useDebugValue:oc,useDeferredValue:function(r){var i=Ht();return We===null?i.memoizedState=r:Hp(i,We.memoizedState,r)},useTransition:function(){var r=ic(ys)[0],i=Ht().memoizedState;return[r,i]},useMutableSource:Np,useSyncExternalStore:Dp,useId:qp,unstable_isNewReconciler:!1};function Zt(r,i){if(r&&r.defaultProps){i=q({},i),r=r.defaultProps;for(var l in r)i[l]===void 0&&(i[l]=r[l]);return i}return i}function lc(r,i,l,u){i=r.memoizedState,l=l(u,i),l=l==null?i:q({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var fl={isMounted:function(r){return(r=r._reactInternals)?yr(r)===r:!1},enqueueSetState:function(r,i,l){r=r._reactInternals;var u=St(),h=Zn(r),f=Tn(u,h);f.payload=i,l!=null&&(f.callback=l),i=Gn(r,f,h),i!==null&&(nn(i,r,h,u),il(i,r,h))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var u=St(),h=Zn(r),f=Tn(u,h);f.tag=1,f.payload=i,l!=null&&(f.callback=l),i=Gn(r,f,h),i!==null&&(nn(i,r,h,u),il(i,r,h))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=St(),u=Zn(r),h=Tn(l,u);h.tag=2,i!=null&&(h.callback=i),i=Gn(r,h,u),i!==null&&(nn(i,r,u,l),il(i,r,u))}};function Gp(r,i,l,u,h,f,m){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,f,m):i.prototype&&i.prototype.isPureReactComponent?!is(l,u)||!is(h,f):!0}function Yp(r,i,l){var u=!1,h=Kn,f=i.contextType;return typeof f=="object"&&f!==null?f=bt(f):(h=It(i)?wr:at.current,u=i.contextTypes,f=(u=u!=null)?ti(r,h):Kn),i=new i(l,f),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=fl,r.stateNode=i,i._reactInternals=r,u&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=h,r.__reactInternalMemoizedMaskedChildContext=f),i}function Xp(r,i,l,u){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,u),i.state!==r&&fl.enqueueReplaceState(i,i.state,null)}function ac(r,i,l,u){var h=r.stateNode;h.props=l,h.state=r.memoizedState,h.refs={},Qu(r);var f=i.contextType;typeof f=="object"&&f!==null?h.context=bt(f):(f=It(i)?wr:at.current,h.context=ti(r,f)),h.state=r.memoizedState,f=i.getDerivedStateFromProps,typeof f=="function"&&(lc(r,i,f,l),h.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(i=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),i!==h.state&&fl.enqueueReplaceState(h,h.state,null),sl(r,l,h,u),h.state=r.memoizedState),typeof h.componentDidMount=="function"&&(r.flags|=4194308)}function ui(r,i){try{var l="",u=i;do l+=me(u),u=u.return;while(u);var h=l}catch(f){h=`
Error generating stack: `+f.message+`
`+f.stack}return{value:r,source:i,stack:h,digest:null}}function uc(r,i,l){return{value:r,source:null,stack:l??null,digest:i??null}}function cc(r,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var N1=typeof WeakMap=="function"?WeakMap:Map;function Jp(r,i,l){l=Tn(-1,l),l.tag=3,l.payload={element:null};var u=i.value;return l.callback=function(){wl||(wl=!0,Tc=u),cc(r,i)},l}function Zp(r,i,l){l=Tn(-1,l),l.tag=3;var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var h=i.value;l.payload=function(){return u(h)},l.callback=function(){cc(r,i)}}var f=r.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(l.callback=function(){cc(r,i),typeof u!="function"&&(Xn===null?Xn=new Set([this]):Xn.add(this));var m=i.stack;this.componentDidCatch(i.value,{componentStack:m!==null?m:""})}),l}function em(r,i,l){var u=r.pingCache;if(u===null){u=r.pingCache=new N1;var h=new Set;u.set(i,h)}else h=u.get(i),h===void 0&&(h=new Set,u.set(i,h));h.has(l)||(h.add(l),r=B1.bind(null,r,i,l),i.then(r,r))}function tm(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function nm(r,i,l,u,h){return r.mode&1?(r.flags|=65536,r.lanes=h,r):(r===i?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=Tn(-1,1),i.tag=2,Gn(l,i,1))),l.lanes|=1),r)}var D1=ce.ReactCurrentOwner,_t=!1;function Et(r,i,l,u){i.child=r===null?Cp(i,null,l,u):si(i,r.child,l,u)}function rm(r,i,l,u,h){l=l.render;var f=i.ref;return li(i,h),u=tc(r,i,l,u,f,h),l=nc(),r!==null&&!_t?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~h,In(r,i,h)):(Pe&&l&&Uu(i),i.flags|=1,Et(r,i,u,h),i.child)}function im(r,i,l,u,h){if(r===null){var f=l.type;return typeof f=="function"&&!Rc(f)&&f.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=f,sm(r,i,f,u,h)):(r=Tl(l.type,null,u,i,i.mode,h),r.ref=i.ref,r.return=i,i.child=r)}if(f=r.child,!(r.lanes&h)){var m=f.memoizedProps;if(l=l.compare,l=l!==null?l:is,l(m,u)&&r.ref===i.ref)return In(r,i,h)}return i.flags|=1,r=tr(f,u),r.ref=i.ref,r.return=i,i.child=r}function sm(r,i,l,u,h){if(r!==null){var f=r.memoizedProps;if(is(f,u)&&r.ref===i.ref)if(_t=!1,i.pendingProps=u=f,(r.lanes&h)!==0)r.flags&131072&&(_t=!0);else return i.lanes=r.lanes,In(r,i,h)}return hc(r,i,l,u,h)}function om(r,i,l){var u=i.pendingProps,h=u.children,f=r!==null?r.memoizedState:null;if(u.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(hi,Ut),Ut|=l;else{if(!(l&1073741824))return r=f!==null?f.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,ke(hi,Ut),Ut|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=f!==null?f.baseLanes:l,ke(hi,Ut),Ut|=u}else f!==null?(u=f.baseLanes|l,i.memoizedState=null):u=l,ke(hi,Ut),Ut|=u;return Et(r,i,h,l),i.child}function lm(r,i){var l=i.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function hc(r,i,l,u,h){var f=It(l)?wr:at.current;return f=ti(i,f),li(i,h),l=tc(r,i,l,u,f,h),u=nc(),r!==null&&!_t?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~h,In(r,i,h)):(Pe&&u&&Uu(i),i.flags|=1,Et(r,i,l,h),i.child)}function am(r,i,l,u,h){if(It(l)){var f=!0;Yo(i)}else f=!1;if(li(i,h),i.stateNode===null)pl(r,i),Yp(i,l,u),ac(i,l,u,h),u=!0;else if(r===null){var m=i.stateNode,v=i.memoizedProps;m.props=v;var E=m.context,I=l.contextType;typeof I=="object"&&I!==null?I=bt(I):(I=It(l)?wr:at.current,I=ti(i,I));var L=l.getDerivedStateFromProps,O=typeof L=="function"||typeof m.getSnapshotBeforeUpdate=="function";O||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==u||E!==I)&&Xp(i,m,u,I),Qn=!1;var P=i.memoizedState;m.state=P,sl(i,u,m,h),E=i.memoizedState,v!==u||P!==E||Tt.current||Qn?(typeof L=="function"&&(lc(i,l,L,u),E=i.memoizedState),(v=Qn||Gp(i,l,v,u,P,E,I))?(O||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=E),m.props=u,m.state=E,m.context=I,u=v):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{m=i.stateNode,kp(r,i),v=i.memoizedProps,I=i.type===i.elementType?v:Zt(i.type,v),m.props=I,O=i.pendingProps,P=m.context,E=l.contextType,typeof E=="object"&&E!==null?E=bt(E):(E=It(l)?wr:at.current,E=ti(i,E));var B=l.getDerivedStateFromProps;(L=typeof B=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==O||P!==E)&&Xp(i,m,u,E),Qn=!1,P=i.memoizedState,m.state=P,sl(i,u,m,h);var K=i.memoizedState;v!==O||P!==K||Tt.current||Qn?(typeof B=="function"&&(lc(i,l,B,u),K=i.memoizedState),(I=Qn||Gp(i,l,I,u,P,K,E)||!1)?(L||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,K,E),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,K,E)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===r.memoizedProps&&P===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===r.memoizedProps&&P===r.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=K),m.props=u,m.state=K,m.context=E,u=I):(typeof m.componentDidUpdate!="function"||v===r.memoizedProps&&P===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===r.memoizedProps&&P===r.memoizedState||(i.flags|=1024),u=!1)}return fc(r,i,l,u,f,h)}function fc(r,i,l,u,h,f){lm(r,i);var m=(i.flags&128)!==0;if(!u&&!m)return h&&dp(i,l,!1),In(r,i,f);u=i.stateNode,D1.current=i;var v=m&&typeof l.getDerivedStateFromError!="function"?null:u.render();return i.flags|=1,r!==null&&m?(i.child=si(i,r.child,null,f),i.child=si(i,null,v,f)):Et(r,i,v,f),i.memoizedState=u.state,h&&dp(i,l,!0),i.child}function um(r){var i=r.stateNode;i.pendingContext?hp(r,i.pendingContext,i.pendingContext!==i.context):i.context&&hp(r,i.context,!1),Gu(r,i.containerInfo)}function cm(r,i,l,u,h){return ii(),Bu(h),i.flags|=256,Et(r,i,l,u),i.child}var dc={dehydrated:null,treeContext:null,retryLane:0};function pc(r){return{baseLanes:r,cachePool:null,transitions:null}}function hm(r,i,l){var u=i.pendingProps,h=Le.current,f=!1,m=(i.flags&128)!==0,v;if((v=m)||(v=r!==null&&r.memoizedState===null?!1:(h&2)!==0),v?(f=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(h|=1),ke(Le,h&1),r===null)return $u(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(i.mode&1?r.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(m=u.children,r=u.fallback,f?(u=i.mode,f=i.child,m={mode:"hidden",children:m},!(u&1)&&f!==null?(f.childLanes=0,f.pendingProps=m):f=Il(m,u,0,null),r=Dr(r,u,l,null),f.return=i,r.return=i,f.sibling=r,i.child=f,i.child.memoizedState=pc(l),i.memoizedState=dc,r):mc(i,m));if(h=r.memoizedState,h!==null&&(v=h.dehydrated,v!==null))return A1(r,i,m,u,v,h,l);if(f){f=u.fallback,m=i.mode,h=r.child,v=h.sibling;var E={mode:"hidden",children:u.children};return!(m&1)&&i.child!==h?(u=i.child,u.childLanes=0,u.pendingProps=E,i.deletions=null):(u=tr(h,E),u.subtreeFlags=h.subtreeFlags&14680064),v!==null?f=tr(v,f):(f=Dr(f,m,l,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,m=r.child.memoizedState,m=m===null?pc(l):{baseLanes:m.baseLanes|l,cachePool:null,transitions:m.transitions},f.memoizedState=m,f.childLanes=r.childLanes&~l,i.memoizedState=dc,u}return f=r.child,r=f.sibling,u=tr(f,{mode:"visible",children:u.children}),!(i.mode&1)&&(u.lanes=l),u.return=i,u.sibling=null,r!==null&&(l=i.deletions,l===null?(i.deletions=[r],i.flags|=16):l.push(r)),i.child=u,i.memoizedState=null,u}function mc(r,i){return i=Il({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function dl(r,i,l,u){return u!==null&&Bu(u),si(i,r.child,null,l),r=mc(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function A1(r,i,l,u,h,f,m){if(l)return i.flags&256?(i.flags&=-257,u=uc(Error(n(422))),dl(r,i,m,u)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(f=u.fallback,h=i.mode,u=Il({mode:"visible",children:u.children},h,0,null),f=Dr(f,h,m,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,i.mode&1&&si(i,r.child,null,m),i.child.memoizedState=pc(m),i.memoizedState=dc,f);if(!(i.mode&1))return dl(r,i,m,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var v=u.dgst;return u=v,f=Error(n(419)),u=uc(f,u,void 0),dl(r,i,m,u)}if(v=(m&r.childLanes)!==0,_t||v){if(u=Xe,u!==null){switch(m&-m){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(u.suspendedLanes|m)?0:h,h!==0&&h!==f.retryLane&&(f.retryLane=h,kn(r,h),nn(u,r,h,-1))}return Pc(),u=uc(Error(n(421))),dl(r,i,m,u)}return h.data==="$?"?(i.flags|=128,i.child=r.child,i=b1.bind(null,r),h._reactRetry=i,null):(r=f.treeContext,jt=Hn(h.nextSibling),Ft=i,Pe=!0,Jt=null,r!==null&&($t[Bt++]=Cn,$t[Bt++]=xn,$t[Bt++]=Er,Cn=r.id,xn=r.overflow,Er=i),i=mc(i,u.children),i.flags|=4096,i)}function fm(r,i,l){r.lanes|=i;var u=r.alternate;u!==null&&(u.lanes|=i),Ku(r.return,i,l)}function gc(r,i,l,u,h){var f=r.memoizedState;f===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=u,f.tail=l,f.tailMode=h)}function dm(r,i,l){var u=i.pendingProps,h=u.revealOrder,f=u.tail;if(Et(r,i,u.children,l),u=Le.current,u&2)u=u&1|2,i.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&fm(r,l,i);else if(r.tag===19)fm(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}if(ke(Le,u),!(i.mode&1))i.memoizedState=null;else switch(h){case"forwards":for(l=i.child,h=null;l!==null;)r=l.alternate,r!==null&&ol(r)===null&&(h=l),l=l.sibling;l=h,l===null?(h=i.child,i.child=null):(h=l.sibling,l.sibling=null),gc(i,!1,h,l,f);break;case"backwards":for(l=null,h=i.child,i.child=null;h!==null;){if(r=h.alternate,r!==null&&ol(r)===null){i.child=h;break}r=h.sibling,h.sibling=l,l=h,h=r}gc(i,!0,l,null,f);break;case"together":gc(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function pl(r,i){!(i.mode&1)&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function In(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),Tr|=i.lanes,!(l&i.childLanes))return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,l=tr(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=tr(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function P1(r,i,l){switch(i.tag){case 3:um(i),ii();break;case 5:_p(i);break;case 1:It(i.type)&&Yo(i);break;case 4:Gu(i,i.stateNode.containerInfo);break;case 10:var u=i.type._context,h=i.memoizedProps.value;ke(nl,u._currentValue),u._currentValue=h;break;case 13:if(u=i.memoizedState,u!==null)return u.dehydrated!==null?(ke(Le,Le.current&1),i.flags|=128,null):l&i.child.childLanes?hm(r,i,l):(ke(Le,Le.current&1),r=In(r,i,l),r!==null?r.sibling:null);ke(Le,Le.current&1);break;case 19:if(u=(l&i.childLanes)!==0,r.flags&128){if(u)return dm(r,i,l);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ke(Le,Le.current),u)break;return null;case 22:case 23:return i.lanes=0,om(r,i,l)}return In(r,i,l)}var pm,yc,mm,gm;pm=function(r,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},yc=function(){},mm=function(r,i,l,u){var h=r.memoizedProps;if(h!==u){r=i.stateNode,xr(hn.current);var f=null;switch(l){case"input":h=Ka(r,h),u=Ka(r,u),f=[];break;case"select":h=q({},h,{value:void 0}),u=q({},u,{value:void 0}),f=[];break;case"textarea":h=Ga(r,h),u=Ga(r,u),f=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(r.onclick=Wo)}Xa(l,u);var m;l=null;for(I in h)if(!u.hasOwnProperty(I)&&h.hasOwnProperty(I)&&h[I]!=null)if(I==="style"){var v=h[I];for(m in v)v.hasOwnProperty(m)&&(l||(l={}),l[m]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(o.hasOwnProperty(I)?f||(f=[]):(f=f||[]).push(I,null));for(I in u){var E=u[I];if(v=h!=null?h[I]:void 0,u.hasOwnProperty(I)&&E!==v&&(E!=null||v!=null))if(I==="style")if(v){for(m in v)!v.hasOwnProperty(m)||E&&E.hasOwnProperty(m)||(l||(l={}),l[m]="");for(m in E)E.hasOwnProperty(m)&&v[m]!==E[m]&&(l||(l={}),l[m]=E[m])}else l||(f||(f=[]),f.push(I,l)),l=E;else I==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,v=v?v.__html:void 0,E!=null&&v!==E&&(f=f||[]).push(I,E)):I==="children"?typeof E!="string"&&typeof E!="number"||(f=f||[]).push(I,""+E):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(o.hasOwnProperty(I)?(E!=null&&I==="onScroll"&&Te("scroll",r),f||v===E||(f=[])):(f=f||[]).push(I,E))}l&&(f=f||[]).push("style",l);var I=f;(i.updateQueue=I)&&(i.flags|=4)}},gm=function(r,i,l,u){l!==u&&(i.flags|=4)};function ws(r,i){if(!Pe)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function ct(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,u=0;if(i)for(var h=r.child;h!==null;)l|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)l|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=u,r.childLanes=l,i}function R1(r,i,l){var u=i.pendingProps;switch(Vu(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(i),null;case 1:return It(i.type)&&Go(),ct(i),null;case 3:return u=i.stateNode,ai(),Ie(Tt),Ie(at),Ju(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(el(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Jt!==null&&(Nc(Jt),Jt=null))),yc(r,i),ct(i),null;case 5:Yu(i);var h=xr(ps.current);if(l=i.type,r!==null&&i.stateNode!=null)mm(r,i,l,u,h),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!u){if(i.stateNode===null)throw Error(n(166));return ct(i),null}if(r=xr(hn.current),el(i)){u=i.stateNode,l=i.type;var f=i.memoizedProps;switch(u[cn]=i,u[us]=f,r=(i.mode&1)!==0,l){case"dialog":Te("cancel",u),Te("close",u);break;case"iframe":case"object":case"embed":Te("load",u);break;case"video":case"audio":for(h=0;h<os.length;h++)Te(os[h],u);break;case"source":Te("error",u);break;case"img":case"image":case"link":Te("error",u),Te("load",u);break;case"details":Te("toggle",u);break;case"input":Yf(u,f),Te("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!f.multiple},Te("invalid",u);break;case"textarea":Zf(u,f),Te("invalid",u)}Xa(l,f),h=null;for(var m in f)if(f.hasOwnProperty(m)){var v=f[m];m==="children"?typeof v=="string"?u.textContent!==v&&(f.suppressHydrationWarning!==!0&&Ko(u.textContent,v,r),h=["children",v]):typeof v=="number"&&u.textContent!==""+v&&(f.suppressHydrationWarning!==!0&&Ko(u.textContent,v,r),h=["children",""+v]):o.hasOwnProperty(m)&&v!=null&&m==="onScroll"&&Te("scroll",u)}switch(l){case"input":xo(u),Jf(u,f,!0);break;case"textarea":xo(u),td(u);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(u.onclick=Wo)}u=h,i.updateQueue=u,u!==null&&(i.flags|=4)}else{m=h.nodeType===9?h:h.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=nd(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=m.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof u.is=="string"?r=m.createElement(l,{is:u.is}):(r=m.createElement(l),l==="select"&&(m=r,u.multiple?m.multiple=!0:u.size&&(m.size=u.size))):r=m.createElementNS(r,l),r[cn]=i,r[us]=u,pm(r,i,!1,!1),i.stateNode=r;e:{switch(m=Ja(l,u),l){case"dialog":Te("cancel",r),Te("close",r),h=u;break;case"iframe":case"object":case"embed":Te("load",r),h=u;break;case"video":case"audio":for(h=0;h<os.length;h++)Te(os[h],r);h=u;break;case"source":Te("error",r),h=u;break;case"img":case"image":case"link":Te("error",r),Te("load",r),h=u;break;case"details":Te("toggle",r),h=u;break;case"input":Yf(r,u),h=Ka(r,u),Te("invalid",r);break;case"option":h=u;break;case"select":r._wrapperState={wasMultiple:!!u.multiple},h=q({},u,{value:void 0}),Te("invalid",r);break;case"textarea":Zf(r,u),h=Ga(r,u),Te("invalid",r);break;default:h=u}Xa(l,h),v=h;for(f in v)if(v.hasOwnProperty(f)){var E=v[f];f==="style"?sd(r,E):f==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&rd(r,E)):f==="children"?typeof E=="string"?(l!=="textarea"||E!=="")&&$i(r,E):typeof E=="number"&&$i(r,""+E):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(o.hasOwnProperty(f)?E!=null&&f==="onScroll"&&Te("scroll",r):E!=null&&ie(r,f,E,m))}switch(l){case"input":xo(r),Jf(r,u,!1);break;case"textarea":xo(r),td(r);break;case"option":u.value!=null&&r.setAttribute("value",""+Ee(u.value));break;case"select":r.multiple=!!u.multiple,f=u.value,f!=null?br(r,!!u.multiple,f,!1):u.defaultValue!=null&&br(r,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(r.onclick=Wo)}switch(l){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return ct(i),null;case 6:if(r&&i.stateNode!=null)gm(r,i,r.memoizedProps,u);else{if(typeof u!="string"&&i.stateNode===null)throw Error(n(166));if(l=xr(ps.current),xr(hn.current),el(i)){if(u=i.stateNode,l=i.memoizedProps,u[cn]=i,(f=u.nodeValue!==l)&&(r=Ft,r!==null))switch(r.tag){case 3:Ko(u.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Ko(u.nodeValue,l,(r.mode&1)!==0)}f&&(i.flags|=4)}else u=(l.nodeType===9?l:l.ownerDocument).createTextNode(u),u[cn]=i,i.stateNode=u}return ct(i),null;case 13:if(Ie(Le),u=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Pe&&jt!==null&&i.mode&1&&!(i.flags&128))wp(),ii(),i.flags|=98560,f=!1;else if(f=el(i),u!==null&&u.dehydrated!==null){if(r===null){if(!f)throw Error(n(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));f[cn]=i}else ii(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;ct(i),f=!1}else Jt!==null&&(Nc(Jt),Jt=null),f=!0;if(!f)return i.flags&65536?i:null}return i.flags&128?(i.lanes=l,i):(u=u!==null,u!==(r!==null&&r.memoizedState!==null)&&u&&(i.child.flags|=8192,i.mode&1&&(r===null||Le.current&1?Qe===0&&(Qe=3):Pc())),i.updateQueue!==null&&(i.flags|=4),ct(i),null);case 4:return ai(),yc(r,i),r===null&&ls(i.stateNode.containerInfo),ct(i),null;case 10:return qu(i.type._context),ct(i),null;case 17:return It(i.type)&&Go(),ct(i),null;case 19:if(Ie(Le),f=i.memoizedState,f===null)return ct(i),null;if(u=(i.flags&128)!==0,m=f.rendering,m===null)if(u)ws(f,!1);else{if(Qe!==0||r!==null&&r.flags&128)for(r=i.child;r!==null;){if(m=ol(r),m!==null){for(i.flags|=128,ws(f,!1),u=m.updateQueue,u!==null&&(i.updateQueue=u,i.flags|=4),i.subtreeFlags=0,u=l,l=i.child;l!==null;)f=l,r=u,f.flags&=14680066,m=f.alternate,m===null?(f.childLanes=0,f.lanes=r,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=m.childLanes,f.lanes=m.lanes,f.child=m.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=m.memoizedProps,f.memoizedState=m.memoizedState,f.updateQueue=m.updateQueue,f.type=m.type,r=m.dependencies,f.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return ke(Le,Le.current&1|2),i.child}r=r.sibling}f.tail!==null&&Ve()>fi&&(i.flags|=128,u=!0,ws(f,!1),i.lanes=4194304)}else{if(!u)if(r=ol(m),r!==null){if(i.flags|=128,u=!0,l=r.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),ws(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Pe)return ct(i),null}else 2*Ve()-f.renderingStartTime>fi&&l!==1073741824&&(i.flags|=128,u=!0,ws(f,!1),i.lanes=4194304);f.isBackwards?(m.sibling=i.child,i.child=m):(l=f.last,l!==null?l.sibling=m:i.child=m,f.last=m)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Ve(),i.sibling=null,l=Le.current,ke(Le,u?l&1|2:l&1),i):(ct(i),null);case 22:case 23:return Ac(),u=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==u&&(i.flags|=8192),u&&i.mode&1?Ut&1073741824&&(ct(i),i.subtreeFlags&6&&(i.flags|=8192)):ct(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function L1(r,i){switch(Vu(i),i.tag){case 1:return It(i.type)&&Go(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return ai(),Ie(Tt),Ie(at),Ju(),r=i.flags,r&65536&&!(r&128)?(i.flags=r&-65537|128,i):null;case 5:return Yu(i),null;case 13:if(Ie(Le),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));ii()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Ie(Le),null;case 4:return ai(),null;case 10:return qu(i.type._context),null;case 22:case 23:return Ac(),null;case 24:return null;default:return null}}var ml=!1,ht=!1,O1=typeof WeakSet=="function"?WeakSet:Set,H=null;function ci(r,i){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(u){je(r,i,u)}else l.current=null}function vc(r,i,l){try{l()}catch(u){je(r,i,u)}}var ym=!1;function M1(r,i){if(Au=Mo,r=Gd(),Cu(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var h=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{l.nodeType,f.nodeType}catch{l=null;break e}var m=0,v=-1,E=-1,I=0,L=0,O=r,P=null;t:for(;;){for(var B;O!==l||h!==0&&O.nodeType!==3||(v=m+h),O!==f||u!==0&&O.nodeType!==3||(E=m+u),O.nodeType===3&&(m+=O.nodeValue.length),(B=O.firstChild)!==null;)P=O,O=B;for(;;){if(O===r)break t;if(P===l&&++I===h&&(v=m),P===f&&++L===u&&(E=m),(B=O.nextSibling)!==null)break;O=P,P=O.parentNode}O=B}l=v===-1||E===-1?null:{start:v,end:E}}else l=null}l=l||{start:0,end:0}}else l=null;for(Pu={focusedElem:r,selectionRange:l},Mo=!1,H=i;H!==null;)if(i=H,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,H=r;else for(;H!==null;){i=H;try{var K=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(K!==null){var W=K.memoizedProps,ze=K.memoizedState,x=i.stateNode,S=x.getSnapshotBeforeUpdate(i.elementType===i.type?W:Zt(i.type,W),ze);x.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var k=i.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(j){je(i,i.return,j)}if(r=i.sibling,r!==null){r.return=i.return,H=r;break}H=i.return}return K=ym,ym=!1,K}function Es(r,i,l){var u=i.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&r)===r){var f=h.destroy;h.destroy=void 0,f!==void 0&&vc(i,l,f)}h=h.next}while(h!==u)}}function gl(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&r)===r){var u=l.create;l.destroy=u()}l=l.next}while(l!==i)}}function wc(r){var i=r.ref;if(i!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof i=="function"?i(r):i.current=r}}function vm(r){var i=r.alternate;i!==null&&(r.alternate=null,vm(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[cn],delete i[us],delete i[Mu],delete i[y1],delete i[v1])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function wm(r){return r.tag===5||r.tag===3||r.tag===4}function Em(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||wm(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ec(r,i,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(r,i):l.insertBefore(r,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(r,l)):(i=l,i.appendChild(r)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Wo));else if(u!==4&&(r=r.child,r!==null))for(Ec(r,i,l),r=r.sibling;r!==null;)Ec(r,i,l),r=r.sibling}function Sc(r,i,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(u!==4&&(r=r.child,r!==null))for(Sc(r,i,l),r=r.sibling;r!==null;)Sc(r,i,l),r=r.sibling}var rt=null,en=!1;function Yn(r,i,l){for(l=l.child;l!==null;)Sm(r,i,l),l=l.sibling}function Sm(r,i,l){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(Do,l)}catch{}switch(l.tag){case 5:ht||ci(l,i);case 6:var u=rt,h=en;rt=null,Yn(r,i,l),rt=u,en=h,rt!==null&&(en?(r=rt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):rt.removeChild(l.stateNode));break;case 18:rt!==null&&(en?(r=rt,l=l.stateNode,r.nodeType===8?Ou(r.parentNode,l):r.nodeType===1&&Ou(r,l),Ji(r)):Ou(rt,l.stateNode));break;case 4:u=rt,h=en,rt=l.stateNode.containerInfo,en=!0,Yn(r,i,l),rt=u,en=h;break;case 0:case 11:case 14:case 15:if(!ht&&(u=l.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var f=h,m=f.destroy;f=f.tag,m!==void 0&&(f&2||f&4)&&vc(l,i,m),h=h.next}while(h!==u)}Yn(r,i,l);break;case 1:if(!ht&&(ci(l,i),u=l.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=l.memoizedProps,u.state=l.memoizedState,u.componentWillUnmount()}catch(v){je(l,i,v)}Yn(r,i,l);break;case 21:Yn(r,i,l);break;case 22:l.mode&1?(ht=(u=ht)||l.memoizedState!==null,Yn(r,i,l),ht=u):Yn(r,i,l);break;default:Yn(r,i,l)}}function Cm(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new O1),i.forEach(function(u){var h=H1.bind(null,r,u);l.has(u)||(l.add(u),u.then(h,h))})}}function tn(r,i){var l=i.deletions;if(l!==null)for(var u=0;u<l.length;u++){var h=l[u];try{var f=r,m=i,v=m;e:for(;v!==null;){switch(v.tag){case 5:rt=v.stateNode,en=!1;break e;case 3:rt=v.stateNode.containerInfo,en=!0;break e;case 4:rt=v.stateNode.containerInfo,en=!0;break e}v=v.return}if(rt===null)throw Error(n(160));Sm(f,m,h),rt=null,en=!1;var E=h.alternate;E!==null&&(E.return=null),h.return=null}catch(I){je(h,i,I)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)xm(i,r),i=i.sibling}function xm(r,i){var l=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(tn(i,r),dn(r),u&4){try{Es(3,r,r.return),gl(3,r)}catch(W){je(r,r.return,W)}try{Es(5,r,r.return)}catch(W){je(r,r.return,W)}}break;case 1:tn(i,r),dn(r),u&512&&l!==null&&ci(l,l.return);break;case 5:if(tn(i,r),dn(r),u&512&&l!==null&&ci(l,l.return),r.flags&32){var h=r.stateNode;try{$i(h,"")}catch(W){je(r,r.return,W)}}if(u&4&&(h=r.stateNode,h!=null)){var f=r.memoizedProps,m=l!==null?l.memoizedProps:f,v=r.type,E=r.updateQueue;if(r.updateQueue=null,E!==null)try{v==="input"&&f.type==="radio"&&f.name!=null&&Xf(h,f),Ja(v,m);var I=Ja(v,f);for(m=0;m<E.length;m+=2){var L=E[m],O=E[m+1];L==="style"?sd(h,O):L==="dangerouslySetInnerHTML"?rd(h,O):L==="children"?$i(h,O):ie(h,L,O,I)}switch(v){case"input":Wa(h,f);break;case"textarea":ed(h,f);break;case"select":var P=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!f.multiple;var B=f.value;B!=null?br(h,!!f.multiple,B,!1):P!==!!f.multiple&&(f.defaultValue!=null?br(h,!!f.multiple,f.defaultValue,!0):br(h,!!f.multiple,f.multiple?[]:"",!1))}h[us]=f}catch(W){je(r,r.return,W)}}break;case 6:if(tn(i,r),dn(r),u&4){if(r.stateNode===null)throw Error(n(162));h=r.stateNode,f=r.memoizedProps;try{h.nodeValue=f}catch(W){je(r,r.return,W)}}break;case 3:if(tn(i,r),dn(r),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Ji(i.containerInfo)}catch(W){je(r,r.return,W)}break;case 4:tn(i,r),dn(r);break;case 13:tn(i,r),dn(r),h=r.child,h.flags&8192&&(f=h.memoizedState!==null,h.stateNode.isHidden=f,!f||h.alternate!==null&&h.alternate.memoizedState!==null||(kc=Ve())),u&4&&Cm(r);break;case 22:if(L=l!==null&&l.memoizedState!==null,r.mode&1?(ht=(I=ht)||L,tn(i,r),ht=I):tn(i,r),dn(r),u&8192){if(I=r.memoizedState!==null,(r.stateNode.isHidden=I)&&!L&&r.mode&1)for(H=r,L=r.child;L!==null;){for(O=H=L;H!==null;){switch(P=H,B=P.child,P.tag){case 0:case 11:case 14:case 15:Es(4,P,P.return);break;case 1:ci(P,P.return);var K=P.stateNode;if(typeof K.componentWillUnmount=="function"){u=P,l=P.return;try{i=u,K.props=i.memoizedProps,K.state=i.memoizedState,K.componentWillUnmount()}catch(W){je(u,l,W)}}break;case 5:ci(P,P.return);break;case 22:if(P.memoizedState!==null){Im(O);continue}}B!==null?(B.return=P,H=B):Im(O)}L=L.sibling}e:for(L=null,O=r;;){if(O.tag===5){if(L===null){L=O;try{h=O.stateNode,I?(f=h.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(v=O.stateNode,E=O.memoizedProps.style,m=E!=null&&E.hasOwnProperty("display")?E.display:null,v.style.display=id("display",m))}catch(W){je(r,r.return,W)}}}else if(O.tag===6){if(L===null)try{O.stateNode.nodeValue=I?"":O.memoizedProps}catch(W){je(r,r.return,W)}}else if((O.tag!==22&&O.tag!==23||O.memoizedState===null||O===r)&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===r)break e;for(;O.sibling===null;){if(O.return===null||O.return===r)break e;L===O&&(L=null),O=O.return}L===O&&(L=null),O.sibling.return=O.return,O=O.sibling}}break;case 19:tn(i,r),dn(r),u&4&&Cm(r);break;case 21:break;default:tn(i,r),dn(r)}}function dn(r){var i=r.flags;if(i&2){try{e:{for(var l=r.return;l!==null;){if(wm(l)){var u=l;break e}l=l.return}throw Error(n(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&($i(h,""),u.flags&=-33);var f=Em(r);Sc(r,f,h);break;case 3:case 4:var m=u.stateNode.containerInfo,v=Em(r);Ec(r,v,m);break;default:throw Error(n(161))}}catch(E){je(r,r.return,E)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function F1(r,i,l){H=r,km(r)}function km(r,i,l){for(var u=(r.mode&1)!==0;H!==null;){var h=H,f=h.child;if(h.tag===22&&u){var m=h.memoizedState!==null||ml;if(!m){var v=h.alternate,E=v!==null&&v.memoizedState!==null||ht;v=ml;var I=ht;if(ml=m,(ht=E)&&!I)for(H=h;H!==null;)m=H,E=m.child,m.tag===22&&m.memoizedState!==null?_m(h):E!==null?(E.return=m,H=E):_m(h);for(;f!==null;)H=f,km(f),f=f.sibling;H=h,ml=v,ht=I}Tm(r)}else h.subtreeFlags&8772&&f!==null?(f.return=h,H=f):Tm(r)}}function Tm(r){for(;H!==null;){var i=H;if(i.flags&8772){var l=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:ht||gl(5,i);break;case 1:var u=i.stateNode;if(i.flags&4&&!ht)if(l===null)u.componentDidMount();else{var h=i.elementType===i.type?l.memoizedProps:Zt(i.type,l.memoizedProps);u.componentDidUpdate(h,l.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var f=i.updateQueue;f!==null&&Ip(i,f,u);break;case 3:var m=i.updateQueue;if(m!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}Ip(i,m,l)}break;case 5:var v=i.stateNode;if(l===null&&i.flags&4){l=v;var E=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&l.focus();break;case"img":E.src&&(l.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var I=i.alternate;if(I!==null){var L=I.memoizedState;if(L!==null){var O=L.dehydrated;O!==null&&Ji(O)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ht||i.flags&512&&wc(i)}catch(P){je(i,i.return,P)}}if(i===r){H=null;break}if(l=i.sibling,l!==null){l.return=i.return,H=l;break}H=i.return}}function Im(r){for(;H!==null;){var i=H;if(i===r){H=null;break}var l=i.sibling;if(l!==null){l.return=i.return,H=l;break}H=i.return}}function _m(r){for(;H!==null;){var i=H;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{gl(4,i)}catch(E){je(i,l,E)}break;case 1:var u=i.stateNode;if(typeof u.componentDidMount=="function"){var h=i.return;try{u.componentDidMount()}catch(E){je(i,h,E)}}var f=i.return;try{wc(i)}catch(E){je(i,f,E)}break;case 5:var m=i.return;try{wc(i)}catch(E){je(i,m,E)}}}catch(E){je(i,i.return,E)}if(i===r){H=null;break}var v=i.sibling;if(v!==null){v.return=i.return,H=v;break}H=i.return}}var j1=Math.ceil,yl=ce.ReactCurrentDispatcher,Cc=ce.ReactCurrentOwner,qt=ce.ReactCurrentBatchConfig,pe=0,Xe=null,$e=null,it=0,Ut=0,hi=qn(0),Qe=0,Ss=null,Tr=0,vl=0,xc=0,Cs=null,Nt=null,kc=0,fi=1/0,_n=null,wl=!1,Tc=null,Xn=null,El=!1,Jn=null,Sl=0,xs=0,Ic=null,Cl=-1,xl=0;function St(){return pe&6?Ve():Cl!==-1?Cl:Cl=Ve()}function Zn(r){return r.mode&1?pe&2&&it!==0?it&-it:E1.transition!==null?(xl===0&&(xl=Ed()),xl):(r=Se,r!==0||(r=window.event,r=r===void 0?16:Dd(r.type)),r):1}function nn(r,i,l,u){if(50<xs)throw xs=0,Ic=null,Error(n(185));Wi(r,l,u),(!(pe&2)||r!==Xe)&&(r===Xe&&(!(pe&2)&&(vl|=l),Qe===4&&er(r,it)),Dt(r,u),l===1&&pe===0&&!(i.mode&1)&&(fi=Ve()+500,Xo&&Wn()))}function Dt(r,i){var l=r.callbackNode;E0(r,i);var u=Ro(r,r===Xe?it:0);if(u===0)l!==null&&yd(l),r.callbackNode=null,r.callbackPriority=0;else if(i=u&-u,r.callbackPriority!==i){if(l!=null&&yd(l),i===1)r.tag===0?w1(Dm.bind(null,r)):pp(Dm.bind(null,r)),m1(function(){!(pe&6)&&Wn()}),l=null;else{switch(Sd(u)){case 1:l=su;break;case 4:l=vd;break;case 16:l=No;break;case 536870912:l=wd;break;default:l=No}l=jm(l,Nm.bind(null,r))}r.callbackPriority=i,r.callbackNode=l}}function Nm(r,i){if(Cl=-1,xl=0,pe&6)throw Error(n(327));var l=r.callbackNode;if(di()&&r.callbackNode!==l)return null;var u=Ro(r,r===Xe?it:0);if(u===0)return null;if(u&30||u&r.expiredLanes||i)i=kl(r,u);else{i=u;var h=pe;pe|=2;var f=Pm();(Xe!==r||it!==i)&&(_n=null,fi=Ve()+500,_r(r,i));do try{z1();break}catch(v){Am(r,v)}while(!0);Hu(),yl.current=f,pe=h,$e!==null?i=0:(Xe=null,it=0,i=Qe)}if(i!==0){if(i===2&&(h=ou(r),h!==0&&(u=h,i=_c(r,h))),i===1)throw l=Ss,_r(r,0),er(r,u),Dt(r,Ve()),l;if(i===6)er(r,u);else{if(h=r.current.alternate,!(u&30)&&!U1(h)&&(i=kl(r,u),i===2&&(f=ou(r),f!==0&&(u=f,i=_c(r,f))),i===1))throw l=Ss,_r(r,0),er(r,u),Dt(r,Ve()),l;switch(r.finishedWork=h,r.finishedLanes=u,i){case 0:case 1:throw Error(n(345));case 2:Nr(r,Nt,_n);break;case 3:if(er(r,u),(u&130023424)===u&&(i=kc+500-Ve(),10<i)){if(Ro(r,0)!==0)break;if(h=r.suspendedLanes,(h&u)!==u){St(),r.pingedLanes|=r.suspendedLanes&h;break}r.timeoutHandle=Lu(Nr.bind(null,r,Nt,_n),i);break}Nr(r,Nt,_n);break;case 4:if(er(r,u),(u&4194240)===u)break;for(i=r.eventTimes,h=-1;0<u;){var m=31-Yt(u);f=1<<m,m=i[m],m>h&&(h=m),u&=~f}if(u=h,u=Ve()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*j1(u/1960))-u,10<u){r.timeoutHandle=Lu(Nr.bind(null,r,Nt,_n),u);break}Nr(r,Nt,_n);break;case 5:Nr(r,Nt,_n);break;default:throw Error(n(329))}}}return Dt(r,Ve()),r.callbackNode===l?Nm.bind(null,r):null}function _c(r,i){var l=Cs;return r.current.memoizedState.isDehydrated&&(_r(r,i).flags|=256),r=kl(r,i),r!==2&&(i=Nt,Nt=l,i!==null&&Nc(i)),r}function Nc(r){Nt===null?Nt=r:Nt.push.apply(Nt,r)}function U1(r){for(var i=r;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var u=0;u<l.length;u++){var h=l[u],f=h.getSnapshot;h=h.value;try{if(!Xt(f(),h))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function er(r,i){for(i&=~xc,i&=~vl,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var l=31-Yt(i),u=1<<l;r[l]=-1,i&=~u}}function Dm(r){if(pe&6)throw Error(n(327));di();var i=Ro(r,0);if(!(i&1))return Dt(r,Ve()),null;var l=kl(r,i);if(r.tag!==0&&l===2){var u=ou(r);u!==0&&(i=u,l=_c(r,u))}if(l===1)throw l=Ss,_r(r,0),er(r,i),Dt(r,Ve()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Nr(r,Nt,_n),Dt(r,Ve()),null}function Dc(r,i){var l=pe;pe|=1;try{return r(i)}finally{pe=l,pe===0&&(fi=Ve()+500,Xo&&Wn())}}function Ir(r){Jn!==null&&Jn.tag===0&&!(pe&6)&&di();var i=pe;pe|=1;var l=qt.transition,u=Se;try{if(qt.transition=null,Se=1,r)return r()}finally{Se=u,qt.transition=l,pe=i,!(pe&6)&&Wn()}}function Ac(){Ut=hi.current,Ie(hi)}function _r(r,i){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,p1(l)),$e!==null)for(l=$e.return;l!==null;){var u=l;switch(Vu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Go();break;case 3:ai(),Ie(Tt),Ie(at),Ju();break;case 5:Yu(u);break;case 4:ai();break;case 13:Ie(Le);break;case 19:Ie(Le);break;case 10:qu(u.type._context);break;case 22:case 23:Ac()}l=l.return}if(Xe=r,$e=r=tr(r.current,null),it=Ut=i,Qe=0,Ss=null,xc=vl=Tr=0,Nt=Cs=null,Cr!==null){for(i=0;i<Cr.length;i++)if(l=Cr[i],u=l.interleaved,u!==null){l.interleaved=null;var h=u.next,f=l.pending;if(f!==null){var m=f.next;f.next=h,u.next=m}l.pending=u}Cr=null}return r}function Am(r,i){do{var l=$e;try{if(Hu(),ll.current=hl,al){for(var u=Oe.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}al=!1}if(kr=0,Ye=We=Oe=null,ms=!1,gs=0,Cc.current=null,l===null||l.return===null){Qe=1,Ss=i,$e=null;break}e:{var f=r,m=l.return,v=l,E=i;if(i=it,v.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var I=E,L=v,O=L.tag;if(!(L.mode&1)&&(O===0||O===11||O===15)){var P=L.alternate;P?(L.updateQueue=P.updateQueue,L.memoizedState=P.memoizedState,L.lanes=P.lanes):(L.updateQueue=null,L.memoizedState=null)}var B=tm(m);if(B!==null){B.flags&=-257,nm(B,m,v,f,i),B.mode&1&&em(f,I,i),i=B,E=I;var K=i.updateQueue;if(K===null){var W=new Set;W.add(E),i.updateQueue=W}else K.add(E);break e}else{if(!(i&1)){em(f,I,i),Pc();break e}E=Error(n(426))}}else if(Pe&&v.mode&1){var ze=tm(m);if(ze!==null){!(ze.flags&65536)&&(ze.flags|=256),nm(ze,m,v,f,i),Bu(ui(E,v));break e}}f=E=ui(E,v),Qe!==4&&(Qe=2),Cs===null?Cs=[f]:Cs.push(f),f=m;do{switch(f.tag){case 3:f.flags|=65536,i&=-i,f.lanes|=i;var x=Jp(f,E,i);Tp(f,x);break e;case 1:v=E;var S=f.type,k=f.stateNode;if(!(f.flags&128)&&(typeof S.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Xn===null||!Xn.has(k)))){f.flags|=65536,i&=-i,f.lanes|=i;var j=Zp(f,v,i);Tp(f,j);break e}}f=f.return}while(f!==null)}Lm(l)}catch(Q){i=Q,$e===l&&l!==null&&($e=l=l.return);continue}break}while(!0)}function Pm(){var r=yl.current;return yl.current=hl,r===null?hl:r}function Pc(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),Xe===null||!(Tr&268435455)&&!(vl&268435455)||er(Xe,it)}function kl(r,i){var l=pe;pe|=2;var u=Pm();(Xe!==r||it!==i)&&(_n=null,_r(r,i));do try{V1();break}catch(h){Am(r,h)}while(!0);if(Hu(),pe=l,yl.current=u,$e!==null)throw Error(n(261));return Xe=null,it=0,Qe}function V1(){for(;$e!==null;)Rm($e)}function z1(){for(;$e!==null&&!h0();)Rm($e)}function Rm(r){var i=Fm(r.alternate,r,Ut);r.memoizedProps=r.pendingProps,i===null?Lm(r):$e=i,Cc.current=null}function Lm(r){var i=r;do{var l=i.alternate;if(r=i.return,i.flags&32768){if(l=L1(l,i),l!==null){l.flags&=32767,$e=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Qe=6,$e=null;return}}else if(l=R1(l,i,Ut),l!==null){$e=l;return}if(i=i.sibling,i!==null){$e=i;return}$e=i=r}while(i!==null);Qe===0&&(Qe=5)}function Nr(r,i,l){var u=Se,h=qt.transition;try{qt.transition=null,Se=1,$1(r,i,l,u)}finally{qt.transition=h,Se=u}return null}function $1(r,i,l,u){do di();while(Jn!==null);if(pe&6)throw Error(n(327));l=r.finishedWork;var h=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var f=l.lanes|l.childLanes;if(S0(r,f),r===Xe&&($e=Xe=null,it=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||El||(El=!0,jm(No,function(){return di(),null})),f=(l.flags&15990)!==0,l.subtreeFlags&15990||f){f=qt.transition,qt.transition=null;var m=Se;Se=1;var v=pe;pe|=4,Cc.current=null,M1(r,l),xm(l,r),l1(Pu),Mo=!!Au,Pu=Au=null,r.current=l,F1(l),f0(),pe=v,Se=m,qt.transition=f}else r.current=l;if(El&&(El=!1,Jn=r,Sl=h),f=r.pendingLanes,f===0&&(Xn=null),m0(l.stateNode),Dt(r,Ve()),i!==null)for(u=r.onRecoverableError,l=0;l<i.length;l++)h=i[l],u(h.value,{componentStack:h.stack,digest:h.digest});if(wl)throw wl=!1,r=Tc,Tc=null,r;return Sl&1&&r.tag!==0&&di(),f=r.pendingLanes,f&1?r===Ic?xs++:(xs=0,Ic=r):xs=0,Wn(),null}function di(){if(Jn!==null){var r=Sd(Sl),i=qt.transition,l=Se;try{if(qt.transition=null,Se=16>r?16:r,Jn===null)var u=!1;else{if(r=Jn,Jn=null,Sl=0,pe&6)throw Error(n(331));var h=pe;for(pe|=4,H=r.current;H!==null;){var f=H,m=f.child;if(H.flags&16){var v=f.deletions;if(v!==null){for(var E=0;E<v.length;E++){var I=v[E];for(H=I;H!==null;){var L=H;switch(L.tag){case 0:case 11:case 15:Es(8,L,f)}var O=L.child;if(O!==null)O.return=L,H=O;else for(;H!==null;){L=H;var P=L.sibling,B=L.return;if(vm(L),L===I){H=null;break}if(P!==null){P.return=B,H=P;break}H=B}}}var K=f.alternate;if(K!==null){var W=K.child;if(W!==null){K.child=null;do{var ze=W.sibling;W.sibling=null,W=ze}while(W!==null)}}H=f}}if(f.subtreeFlags&2064&&m!==null)m.return=f,H=m;else e:for(;H!==null;){if(f=H,f.flags&2048)switch(f.tag){case 0:case 11:case 15:Es(9,f,f.return)}var x=f.sibling;if(x!==null){x.return=f.return,H=x;break e}H=f.return}}var S=r.current;for(H=S;H!==null;){m=H;var k=m.child;if(m.subtreeFlags&2064&&k!==null)k.return=m,H=k;else e:for(m=S;H!==null;){if(v=H,v.flags&2048)try{switch(v.tag){case 0:case 11:case 15:gl(9,v)}}catch(Q){je(v,v.return,Q)}if(v===m){H=null;break e}var j=v.sibling;if(j!==null){j.return=v.return,H=j;break e}H=v.return}}if(pe=h,Wn(),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(Do,r)}catch{}u=!0}return u}finally{Se=l,qt.transition=i}}return!1}function Om(r,i,l){i=ui(l,i),i=Jp(r,i,1),r=Gn(r,i,1),i=St(),r!==null&&(Wi(r,1,i),Dt(r,i))}function je(r,i,l){if(r.tag===3)Om(r,r,l);else for(;i!==null;){if(i.tag===3){Om(i,r,l);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Xn===null||!Xn.has(u))){r=ui(l,r),r=Zp(i,r,1),i=Gn(i,r,1),r=St(),i!==null&&(Wi(i,1,r),Dt(i,r));break}}i=i.return}}function B1(r,i,l){var u=r.pingCache;u!==null&&u.delete(i),i=St(),r.pingedLanes|=r.suspendedLanes&l,Xe===r&&(it&l)===l&&(Qe===4||Qe===3&&(it&130023424)===it&&500>Ve()-kc?_r(r,0):xc|=l),Dt(r,i)}function Mm(r,i){i===0&&(r.mode&1?(i=Po,Po<<=1,!(Po&130023424)&&(Po=4194304)):i=1);var l=St();r=kn(r,i),r!==null&&(Wi(r,i,l),Dt(r,l))}function b1(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),Mm(r,l)}function H1(r,i){var l=0;switch(r.tag){case 13:var u=r.stateNode,h=r.memoizedState;h!==null&&(l=h.retryLane);break;case 19:u=r.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(i),Mm(r,l)}var Fm;Fm=function(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps||Tt.current)_t=!0;else{if(!(r.lanes&l)&&!(i.flags&128))return _t=!1,P1(r,i,l);_t=!!(r.flags&131072)}else _t=!1,Pe&&i.flags&1048576&&mp(i,Zo,i.index);switch(i.lanes=0,i.tag){case 2:var u=i.type;pl(r,i),r=i.pendingProps;var h=ti(i,at.current);li(i,l),h=tc(null,i,u,r,h,l);var f=nc();return i.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,It(u)?(f=!0,Yo(i)):f=!1,i.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Qu(i),h.updater=fl,i.stateNode=h,h._reactInternals=i,ac(i,u,r,l),i=fc(null,i,u,!0,f,l)):(i.tag=0,Pe&&f&&Uu(i),Et(null,i,h,l),i=i.child),i;case 16:u=i.elementType;e:{switch(pl(r,i),r=i.pendingProps,h=u._init,u=h(u._payload),i.type=u,h=i.tag=K1(u),r=Zt(u,r),h){case 0:i=hc(null,i,u,r,l);break e;case 1:i=am(null,i,u,r,l);break e;case 11:i=rm(null,i,u,r,l);break e;case 14:i=im(null,i,u,Zt(u.type,r),l);break e}throw Error(n(306,u,""))}return i;case 0:return u=i.type,h=i.pendingProps,h=i.elementType===u?h:Zt(u,h),hc(r,i,u,h,l);case 1:return u=i.type,h=i.pendingProps,h=i.elementType===u?h:Zt(u,h),am(r,i,u,h,l);case 3:e:{if(um(i),r===null)throw Error(n(387));u=i.pendingProps,f=i.memoizedState,h=f.element,kp(r,i),sl(i,u,null,l);var m=i.memoizedState;if(u=m.element,f.isDehydrated)if(f={element:u,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){h=ui(Error(n(423)),i),i=cm(r,i,u,l,h);break e}else if(u!==h){h=ui(Error(n(424)),i),i=cm(r,i,u,l,h);break e}else for(jt=Hn(i.stateNode.containerInfo.firstChild),Ft=i,Pe=!0,Jt=null,l=Cp(i,null,u,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ii(),u===h){i=In(r,i,l);break e}Et(r,i,u,l)}i=i.child}return i;case 5:return _p(i),r===null&&$u(i),u=i.type,h=i.pendingProps,f=r!==null?r.memoizedProps:null,m=h.children,Ru(u,h)?m=null:f!==null&&Ru(u,f)&&(i.flags|=32),lm(r,i),Et(r,i,m,l),i.child;case 6:return r===null&&$u(i),null;case 13:return hm(r,i,l);case 4:return Gu(i,i.stateNode.containerInfo),u=i.pendingProps,r===null?i.child=si(i,null,u,l):Et(r,i,u,l),i.child;case 11:return u=i.type,h=i.pendingProps,h=i.elementType===u?h:Zt(u,h),rm(r,i,u,h,l);case 7:return Et(r,i,i.pendingProps,l),i.child;case 8:return Et(r,i,i.pendingProps.children,l),i.child;case 12:return Et(r,i,i.pendingProps.children,l),i.child;case 10:e:{if(u=i.type._context,h=i.pendingProps,f=i.memoizedProps,m=h.value,ke(nl,u._currentValue),u._currentValue=m,f!==null)if(Xt(f.value,m)){if(f.children===h.children&&!Tt.current){i=In(r,i,l);break e}}else for(f=i.child,f!==null&&(f.return=i);f!==null;){var v=f.dependencies;if(v!==null){m=f.child;for(var E=v.firstContext;E!==null;){if(E.context===u){if(f.tag===1){E=Tn(-1,l&-l),E.tag=2;var I=f.updateQueue;if(I!==null){I=I.shared;var L=I.pending;L===null?E.next=E:(E.next=L.next,L.next=E),I.pending=E}}f.lanes|=l,E=f.alternate,E!==null&&(E.lanes|=l),Ku(f.return,l,i),v.lanes|=l;break}E=E.next}}else if(f.tag===10)m=f.type===i.type?null:f.child;else if(f.tag===18){if(m=f.return,m===null)throw Error(n(341));m.lanes|=l,v=m.alternate,v!==null&&(v.lanes|=l),Ku(m,l,i),m=f.sibling}else m=f.child;if(m!==null)m.return=f;else for(m=f;m!==null;){if(m===i){m=null;break}if(f=m.sibling,f!==null){f.return=m.return,m=f;break}m=m.return}f=m}Et(r,i,h.children,l),i=i.child}return i;case 9:return h=i.type,u=i.pendingProps.children,li(i,l),h=bt(h),u=u(h),i.flags|=1,Et(r,i,u,l),i.child;case 14:return u=i.type,h=Zt(u,i.pendingProps),h=Zt(u.type,h),im(r,i,u,h,l);case 15:return sm(r,i,i.type,i.pendingProps,l);case 17:return u=i.type,h=i.pendingProps,h=i.elementType===u?h:Zt(u,h),pl(r,i),i.tag=1,It(u)?(r=!0,Yo(i)):r=!1,li(i,l),Yp(i,u,h),ac(i,u,h,l),fc(null,i,u,!0,r,l);case 19:return dm(r,i,l);case 22:return om(r,i,l)}throw Error(n(156,i.tag))};function jm(r,i){return gd(r,i)}function q1(r,i,l,u){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(r,i,l,u){return new q1(r,i,l,u)}function Rc(r){return r=r.prototype,!(!r||!r.isReactComponent)}function K1(r){if(typeof r=="function")return Rc(r)?1:0;if(r!=null){if(r=r.$$typeof,r===ln)return 11;if(r===an)return 14}return 2}function tr(r,i){var l=r.alternate;return l===null?(l=Kt(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Tl(r,i,l,u,h,f){var m=2;if(u=r,typeof r=="function")Rc(r)&&(m=1);else if(typeof r=="string")m=5;else e:switch(r){case nt:return Dr(l.children,h,f,i);case xt:m=8,h|=8;break;case Qt:return r=Kt(12,l,i,h|2),r.elementType=Qt,r.lanes=f,r;case Lt:return r=Kt(13,l,i,h),r.elementType=Lt,r.lanes=f,r;case Gt:return r=Kt(19,l,i,h),r.elementType=Gt,r.lanes=f,r;case Fe:return Il(l,h,f,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case wn:m=10;break e;case gr:m=9;break e;case ln:m=11;break e;case an:m=14;break e;case kt:m=16,u=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=Kt(m,l,i,h),i.elementType=r,i.type=u,i.lanes=f,i}function Dr(r,i,l,u){return r=Kt(7,r,u,i),r.lanes=l,r}function Il(r,i,l,u){return r=Kt(22,r,u,i),r.elementType=Fe,r.lanes=l,r.stateNode={isHidden:!1},r}function Lc(r,i,l){return r=Kt(6,r,null,i),r.lanes=l,r}function Oc(r,i,l){return i=Kt(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function W1(r,i,l,u,h){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lu(0),this.expirationTimes=lu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lu(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Mc(r,i,l,u,h,f,m,v,E){return r=new W1(r,i,l,v,E),i===1?(i=1,f===!0&&(i|=8)):i=0,f=Kt(3,null,null,i),r.current=f,f.stateNode=r,f.memoizedState={element:u,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qu(f),r}function Q1(r,i,l){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ke,key:u==null?null:""+u,children:r,containerInfo:i,implementation:l}}function Um(r){if(!r)return Kn;r=r._reactInternals;e:{if(yr(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(It(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(It(l))return fp(r,l,i)}return i}function Vm(r,i,l,u,h,f,m,v,E){return r=Mc(l,u,!0,r,h,f,m,v,E),r.context=Um(null),l=r.current,u=St(),h=Zn(l),f=Tn(u,h),f.callback=i??null,Gn(l,f,h),r.current.lanes=h,Wi(r,h,u),Dt(r,u),r}function _l(r,i,l,u){var h=i.current,f=St(),m=Zn(h);return l=Um(l),i.context===null?i.context=l:i.pendingContext=l,i=Tn(f,m),i.payload={element:r},u=u===void 0?null:u,u!==null&&(i.callback=u),r=Gn(h,i,m),r!==null&&(nn(r,h,m,f),il(r,h,m)),m}function Nl(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function zm(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function Fc(r,i){zm(r,i),(r=r.alternate)&&zm(r,i)}function G1(){return null}var $m=typeof reportError=="function"?reportError:function(r){console.error(r)};function jc(r){this._internalRoot=r}Dl.prototype.render=jc.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));_l(r,i,null,null)},Dl.prototype.unmount=jc.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Ir(function(){_l(null,r,null,null)}),i[En]=null}};function Dl(r){this._internalRoot=r}Dl.prototype.unstable_scheduleHydration=function(r){if(r){var i=kd();r={blockedOn:null,target:r,priority:i};for(var l=0;l<$n.length&&i!==0&&i<$n[l].priority;l++);$n.splice(l,0,r),l===0&&_d(r)}};function Uc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Al(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Bm(){}function Y1(r,i,l,u,h){if(h){if(typeof u=="function"){var f=u;u=function(){var I=Nl(m);f.call(I)}}var m=Vm(i,u,r,0,null,!1,!1,"",Bm);return r._reactRootContainer=m,r[En]=m.current,ls(r.nodeType===8?r.parentNode:r),Ir(),m}for(;h=r.lastChild;)r.removeChild(h);if(typeof u=="function"){var v=u;u=function(){var I=Nl(E);v.call(I)}}var E=Mc(r,0,!1,null,null,!1,!1,"",Bm);return r._reactRootContainer=E,r[En]=E.current,ls(r.nodeType===8?r.parentNode:r),Ir(function(){_l(i,E,l,u)}),E}function Pl(r,i,l,u,h){var f=l._reactRootContainer;if(f){var m=f;if(typeof h=="function"){var v=h;h=function(){var E=Nl(m);v.call(E)}}_l(i,m,r,h)}else m=Y1(l,i,r,h,u);return Nl(m)}Cd=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var l=Ki(i.pendingLanes);l!==0&&(au(i,l|1),Dt(i,Ve()),!(pe&6)&&(fi=Ve()+500,Wn()))}break;case 13:Ir(function(){var u=kn(r,1);if(u!==null){var h=St();nn(u,r,1,h)}}),Fc(r,1)}},uu=function(r){if(r.tag===13){var i=kn(r,134217728);if(i!==null){var l=St();nn(i,r,134217728,l)}Fc(r,134217728)}},xd=function(r){if(r.tag===13){var i=Zn(r),l=kn(r,i);if(l!==null){var u=St();nn(l,r,i,u)}Fc(r,i)}},kd=function(){return Se},Td=function(r,i){var l=Se;try{return Se=r,i()}finally{Se=l}},tu=function(r,i,l){switch(i){case"input":if(Wa(r,l),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var u=l[i];if(u!==r&&u.form===r.form){var h=Qo(u);if(!h)throw Error(n(90));Gf(u),Wa(u,h)}}}break;case"textarea":ed(r,l);break;case"select":i=l.value,i!=null&&br(r,!!l.multiple,i,!1)}},ud=Dc,cd=Ir;var X1={usingClientEntryPoint:!1,Events:[cs,Zr,Qo,ld,ad,Dc]},ks={findFiberByHostInstance:vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},J1={bundleType:ks.bundleType,version:ks.version,rendererPackageName:ks.rendererPackageName,rendererConfig:ks.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ce.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=pd(r),r===null?null:r.stateNode},findFiberByHostInstance:ks.findFiberByHostInstance||G1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rl.isDisabled&&Rl.supportsFiber)try{Do=Rl.inject(J1),un=Rl}catch{}}return At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X1,At.createPortal=function(r,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uc(i))throw Error(n(200));return Q1(r,i,null,l)},At.createRoot=function(r,i){if(!Uc(r))throw Error(n(299));var l=!1,u="",h=$m;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onRecoverableError!==void 0&&(h=i.onRecoverableError)),i=Mc(r,1,!1,null,null,l,!1,u,h),r[En]=i.current,ls(r.nodeType===8?r.parentNode:r),new jc(i)},At.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=pd(i),r=r===null?null:r.stateNode,r},At.flushSync=function(r){return Ir(r)},At.hydrate=function(r,i,l){if(!Al(i))throw Error(n(200));return Pl(null,r,i,!0,l)},At.hydrateRoot=function(r,i,l){if(!Uc(r))throw Error(n(405));var u=l!=null&&l.hydratedSources||null,h=!1,f="",m=$m;if(l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onRecoverableError!==void 0&&(m=l.onRecoverableError)),i=Vm(i,null,r,1,l??null,h,!1,f,m),r[En]=i.current,ls(r),u)for(r=0;r<u.length;r++)l=u[r],h=l._getVersion,h=h(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,h]:i.mutableSourceEagerHydrationData.push(l,h);return new Dl(i)},At.render=function(r,i,l){if(!Al(i))throw Error(n(200));return Pl(null,r,i,!1,l)},At.unmountComponentAtNode=function(r){if(!Al(r))throw Error(n(40));return r._reactRootContainer?(Ir(function(){Pl(null,null,r,!1,function(){r._reactRootContainer=null,r[En]=null})}),!0):!1},At.unstable_batchedUpdates=Dc,At.unstable_renderSubtreeIntoContainer=function(r,i,l,u){if(!Al(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Pl(r,i,l,!1,u)},At.version="18.3.1-next-f1338f8080-20240426",At}var Ym;function gy(){if(Ym)return $c.exports;Ym=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$c.exports=uE(),$c.exports}var Xm;function cE(){if(Xm)return Ll;Xm=1;var t=gy();return Ll.createRoot=t.createRoot,Ll.hydrateRoot=t.hydrateRoot,Ll}var hE=cE();gy();/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $s(){return $s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},$s.apply(this,arguments)}var rr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(rr||(rr={}));const Jm="popstate";function fE(t){t===void 0&&(t={});function e(s,o){let{pathname:a,search:c,hash:d}=s.location;return ah("",{pathname:a,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Ql(o)}return pE(e,n,null,t)}function qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yy(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dE(){return Math.random().toString(36).substr(2,8)}function Zm(t,e){return{usr:t.state,key:t.key,idx:e}}function ah(t,e,n,s){return n===void 0&&(n=null),$s({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Pi(e):e,{state:n,key:e&&e.key||s||dE()})}function Ql(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Pi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function pE(t,e,n,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:a=!1}=s,c=o.history,d=rr.Pop,p=null,g=y();g==null&&(g=0,c.replaceState($s({},c.state,{idx:g}),""));function y(){return(c.state||{idx:null}).idx}function w(){d=rr.Pop;let A=y(),G=A==null?null:A-g;g=A,p&&p({action:d,location:F.location,delta:G})}function T(A,G){d=rr.Push;let ne=ah(F.location,A,G);g=y()+1;let ie=Zm(ne,g),ce=F.createHref(ne);try{c.pushState(ie,"",ce)}catch(Re){if(Re instanceof DOMException&&Re.name==="DataCloneError")throw Re;o.location.assign(ce)}a&&p&&p({action:d,location:F.location,delta:1})}function N(A,G){d=rr.Replace;let ne=ah(F.location,A,G);g=y();let ie=Zm(ne,g),ce=F.createHref(ne);c.replaceState(ie,"",ce),a&&p&&p({action:d,location:F.location,delta:0})}function U(A){let G=o.location.origin!=="null"?o.location.origin:o.location.href,ne=typeof A=="string"?A:Ql(A);return ne=ne.replace(/ $/,"%20"),qe(G,"No window.location.(origin|href) available to create URL for href: "+ne),new URL(ne,G)}let F={get action(){return d},get location(){return t(o,c)},listen(A){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Jm,w),p=A,()=>{o.removeEventListener(Jm,w),p=null}},createHref(A){return e(o,A)},createURL:U,encodeLocation(A){let G=U(A);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:T,replace:N,go(A){return c.go(A)}};return F}var eg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(eg||(eg={}));function mE(t,e,n){return n===void 0&&(n="/"),gE(t,e,n)}function gE(t,e,n,s){let o=typeof e=="string"?Pi(e):e,a=Hh(o.pathname||"/",n);if(a==null)return null;let c=vy(t);yE(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=DE(a);d=IE(c[p],g)}return d}function vy(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let o=(a,c,d)=>{let p={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};p.relativePath.startsWith("/")&&(qe(p.relativePath.startsWith(s),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(s.length));let g=sr([s,p.relativePath]),y=n.concat(p);a.children&&a.children.length>0&&(qe(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),vy(a.children,e,y,g)),!(a.path==null&&!a.index)&&e.push({path:g,score:kE(g,a.index),routesMeta:y})};return t.forEach((a,c)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))o(a,c);else for(let p of wy(a.path))o(a,c,p)}),e}function wy(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return o?[a,""]:[a];let c=wy(s.join("/")),d=[];return d.push(...c.map(p=>p===""?a:[a,p].join("/"))),o&&d.push(...c),d.map(p=>t.startsWith("/")&&p===""?"/":p)}function yE(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:TE(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const vE=/^:[\w-]+$/,wE=3,EE=2,SE=1,CE=10,xE=-2,tg=t=>t==="*";function kE(t,e){let n=t.split("/"),s=n.length;return n.some(tg)&&(s+=xE),e&&(s+=EE),n.filter(o=>!tg(o)).reduce((o,a)=>o+(vE.test(a)?wE:a===""?SE:CE),s)}function TE(t,e){return t.length===e.length&&t.slice(0,-1).every((s,o)=>s===e[o])?t[t.length-1]-e[e.length-1]:0}function IE(t,e,n){let{routesMeta:s}=t,o={},a="/",c=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,y=a==="/"?e:e.slice(a.length)||"/",w=_E({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},y),T=p.route;if(!w)return null;Object.assign(o,w.params),c.push({params:o,pathname:sr([a,w.pathname]),pathnameBase:LE(sr([a,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(a=sr([a,w.pathnameBase]))}return c}function _E(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=NE(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,y,w)=>{let{paramName:T,isOptional:N}=y;if(T==="*"){let F=d[w]||"";c=a.slice(0,a.length-F.length).replace(/(.)\/+$/,"$1")}const U=d[w];return N&&!U?g[T]=void 0:g[T]=(U||"").replace(/%2F/g,"/"),g},{}),pathname:a,pathnameBase:c,pattern:t}}function NE(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),yy(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function DE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yy(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Hh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function AE(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:o=""}=typeof t=="string"?Pi(t):t;return{pathname:n?n.startsWith("/")?n:PE(n,e):e,search:OE(s),hash:ME(o)}}function PE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Hc(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function RE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ey(t,e){let n=RE(t);return e?n.map((s,o)=>o===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Sy(t,e,n,s){s===void 0&&(s=!1);let o;typeof t=="string"?o=Pi(t):(o=$s({},t),qe(!o.pathname||!o.pathname.includes("?"),Hc("?","pathname","search",o)),qe(!o.pathname||!o.pathname.includes("#"),Hc("#","pathname","hash",o)),qe(!o.search||!o.search.includes("#"),Hc("#","search","hash",o)));let a=t===""||o.pathname==="",c=a?"/":o.pathname,d;if(c==null)d=n;else{let w=e.length-1;if(!s&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),w-=1;o.pathname=T.join("/")}d=w>=0?e[w]:"/"}let p=AE(o,d),g=c&&c!=="/"&&c.endsWith("/"),y=(a||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||y)&&(p.pathname+="/"),p}const sr=t=>t.join("/").replace(/\/\/+/g,"/"),LE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),OE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ME=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function FE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Cy=["post","put","patch","delete"];new Set(Cy);const jE=["get",...Cy];new Set(jE);/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bs(){return Bs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Bs.apply(this,arguments)}const qh=V.createContext(null),UE=V.createContext(null),Vr=V.createContext(null),fa=V.createContext(null),fr=V.createContext({outlet:null,matches:[],isDataRoute:!1}),xy=V.createContext(null);function VE(t,e){let{relative:n}=e===void 0?{}:e;oo()||qe(!1);let{basename:s,navigator:o}=V.useContext(Vr),{hash:a,pathname:c,search:d}=Iy(t,{relative:n}),p=c;return s!=="/"&&(p=c==="/"?s:sr([s,c])),o.createHref({pathname:p,search:d,hash:a})}function oo(){return V.useContext(fa)!=null}function da(){return oo()||qe(!1),V.useContext(fa).location}function ky(t){V.useContext(Vr).static||V.useLayoutEffect(t)}function zE(){let{isDataRoute:t}=V.useContext(fr);return t?ZE():$E()}function $E(){oo()||qe(!1);let t=V.useContext(qh),{basename:e,future:n,navigator:s}=V.useContext(Vr),{matches:o}=V.useContext(fr),{pathname:a}=da(),c=JSON.stringify(Ey(o,n.v7_relativeSplatPath)),d=V.useRef(!1);return ky(()=>{d.current=!0}),V.useCallback(function(g,y){if(y===void 0&&(y={}),!d.current)return;if(typeof g=="number"){s.go(g);return}let w=Sy(g,JSON.parse(c),a,y.relative==="path");t==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:sr([e,w.pathname])),(y.replace?s.replace:s.push)(w,y.state,y)},[e,s,c,a,t])}function Ty(){let{matches:t}=V.useContext(fr),e=t[t.length-1];return e?e.params:{}}function Iy(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=V.useContext(Vr),{matches:o}=V.useContext(fr),{pathname:a}=da(),c=JSON.stringify(Ey(o,s.v7_relativeSplatPath));return V.useMemo(()=>Sy(t,JSON.parse(c),a,n==="path"),[t,c,a,n])}function BE(t,e){return bE(t,e)}function bE(t,e,n,s){oo()||qe(!1);let{navigator:o,static:a}=V.useContext(Vr),{matches:c}=V.useContext(fr),d=c[c.length-1],p=d?d.params:{};d&&d.pathname;let g=d?d.pathnameBase:"/";d&&d.route;let y=da(),w;if(e){var T;let G=typeof e=="string"?Pi(e):e;g==="/"||(T=G.pathname)!=null&&T.startsWith(g)||qe(!1),w=G}else w=y;let N=w.pathname||"/",U=N;if(g!=="/"){let G=g.replace(/^\//,"").split("/");U="/"+N.replace(/^\//,"").split("/").slice(G.length).join("/")}let F=mE(t,{pathname:U}),A=QE(F&&F.map(G=>Object.assign({},G,{params:Object.assign({},p,G.params),pathname:sr([g,o.encodeLocation?o.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?g:sr([g,o.encodeLocation?o.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),c,n,s);return e&&A?V.createElement(fa.Provider,{value:{location:Bs({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:rr.Pop}},A):A}function HE(){let t=JE(),e=FE(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:o},n):null,null)}const qE=V.createElement(HE,null);class KE extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?V.createElement(fr.Provider,{value:this.props.routeContext},V.createElement(xy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function WE(t){let{routeContext:e,match:n,children:s}=t,o=V.useContext(qh);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(fr.Provider,{value:e},s)}function QE(t,e,n,s){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,d=(o=n)==null?void 0:o.errors;if(d!=null){let y=c.findIndex(w=>w.route.id&&(d==null?void 0:d[w.route.id])!==void 0);y>=0||qe(!1),c=c.slice(0,Math.min(c.length,y+1))}let p=!1,g=-1;if(n&&s&&s.v7_partialHydration)for(let y=0;y<c.length;y++){let w=c[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(g=y),w.route.id){let{loaderData:T,errors:N}=n,U=w.route.loader&&T[w.route.id]===void 0&&(!N||N[w.route.id]===void 0);if(w.route.lazy||U){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((y,w,T)=>{let N,U=!1,F=null,A=null;n&&(N=d&&w.route.id?d[w.route.id]:void 0,F=w.route.errorElement||qE,p&&(g<0&&T===0?(eS("route-fallback"),U=!0,A=null):g===T&&(U=!0,A=w.route.hydrateFallbackElement||null)));let G=e.concat(c.slice(0,T+1)),ne=()=>{let ie;return N?ie=F:U?ie=A:w.route.Component?ie=V.createElement(w.route.Component,null):w.route.element?ie=w.route.element:ie=y,V.createElement(WE,{match:w,routeContext:{outlet:y,matches:G,isDataRoute:n!=null},children:ie})};return n&&(w.route.ErrorBoundary||w.route.errorElement||T===0)?V.createElement(KE,{location:n.location,revalidation:n.revalidation,component:F,error:N,children:ne(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):ne()},null)}var _y=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(_y||{}),Gl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Gl||{});function GE(t){let e=V.useContext(qh);return e||qe(!1),e}function YE(t){let e=V.useContext(UE);return e||qe(!1),e}function XE(t){let e=V.useContext(fr);return e||qe(!1),e}function Ny(t){let e=XE(),n=e.matches[e.matches.length-1];return n.route.id||qe(!1),n.route.id}function JE(){var t;let e=V.useContext(xy),n=YE(Gl.UseRouteError),s=Ny(Gl.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function ZE(){let{router:t}=GE(_y.UseNavigateStable),e=Ny(Gl.UseNavigateStable),n=V.useRef(!1);return ky(()=>{n.current=!0}),V.useCallback(function(o,a){a===void 0&&(a={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,Bs({fromRouteId:e},a)))},[t,e])}const ng={};function eS(t,e,n){ng[t]||(ng[t]=!0)}function tS(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ds(t){qe(!1)}function nS(t){let{basename:e="/",children:n=null,location:s,navigationType:o=rr.Pop,navigator:a,static:c=!1,future:d}=t;oo()&&qe(!1);let p=e.replace(/^\/*/,"/"),g=V.useMemo(()=>({basename:p,navigator:a,static:c,future:Bs({v7_relativeSplatPath:!1},d)}),[p,d,a,c]);typeof s=="string"&&(s=Pi(s));let{pathname:y="/",search:w="",hash:T="",state:N=null,key:U="default"}=s,F=V.useMemo(()=>{let A=Hh(y,p);return A==null?null:{location:{pathname:A,search:w,hash:T,state:N,key:U},navigationType:o}},[p,y,w,T,N,U,o]);return F==null?null:V.createElement(Vr.Provider,{value:g},V.createElement(fa.Provider,{children:n,value:F}))}function rS(t){let{children:e,location:n}=t;return BE(uh(e),n)}new Promise(()=>{});function uh(t,e){e===void 0&&(e=[]);let n=[];return V.Children.forEach(t,(s,o)=>{if(!V.isValidElement(s))return;let a=[...e,o];if(s.type===V.Fragment){n.push.apply(n,uh(s.props.children,a));return}s.type!==Ds&&qe(!1),!s.props.index||!s.props.children||qe(!1);let c={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=uh(s.props.children,a)),n.push(c)}),n}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ch(){return ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ch.apply(this,arguments)}function iS(t,e){if(t==null)return{};var n={},s=Object.keys(t),o,a;for(a=0;a<s.length;a++)o=s[a],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function sS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function oS(t,e){return t.button===0&&(!e||e==="_self")&&!sS(t)}const lS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],aS="6";try{window.__reactRouterVersion=aS}catch{}const uS="startTransition",rg=oE[uS];function cS(t){let{basename:e,children:n,future:s,window:o}=t,a=V.useRef();a.current==null&&(a.current=fE({window:o,v5Compat:!0}));let c=a.current,[d,p]=V.useState({action:c.action,location:c.location}),{v7_startTransition:g}=s||{},y=V.useCallback(w=>{g&&rg?rg(()=>p(w)):p(w)},[p,g]);return V.useLayoutEffect(()=>c.listen(y),[c,y]),V.useEffect(()=>tS(s),[s]),V.createElement(nS,{basename:e,children:n,location:d.location,navigationType:d.action,navigator:c,future:s})}const hS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bl=V.forwardRef(function(e,n){let{onClick:s,relative:o,reloadDocument:a,replace:c,state:d,target:p,to:g,preventScrollReset:y,viewTransition:w}=e,T=iS(e,lS),{basename:N}=V.useContext(Vr),U,F=!1;if(typeof g=="string"&&fS.test(g)&&(U=g,hS))try{let ie=new URL(window.location.href),ce=g.startsWith("//")?new URL(ie.protocol+g):new URL(g),Re=Hh(ce.pathname,N);ce.origin===ie.origin&&Re!=null?g=Re+ce.search+ce.hash:F=!0}catch{}let A=VE(g,{relative:o}),G=dS(g,{replace:c,state:d,target:p,preventScrollReset:y,relative:o,viewTransition:w});function ne(ie){s&&s(ie),ie.defaultPrevented||G(ie)}return V.createElement("a",ch({},T,{href:U||A,onClick:F||a?s:ne,ref:n,target:p}))});var ig;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ig||(ig={}));var sg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(sg||(sg={}));function dS(t,e){let{target:n,replace:s,state:o,preventScrollReset:a,relative:c,viewTransition:d}=e===void 0?{}:e,p=zE(),g=da(),y=Iy(t,{relative:c});return V.useCallback(w=>{if(oS(w,n)){w.preventDefault();let T=s!==void 0?s:Ql(g)===Ql(y);p(t,{replace:T,state:o,preventScrollReset:a,relative:c,viewTransition:d})}},[g,p,y,s,o,n,t,a,c,d])}const pS=()=>_.jsx("nav",{className:"bg-blue-600 p-4 text-white",children:_.jsxs("div",{className:"container mx-auto flex justify-between",children:[_.jsx(bl,{to:"/",className:"text-2xl font-bold",children:"My Blog"}),_.jsxs("div",{children:[_.jsx(bl,{to:"/",className:"mr-4",children:"Home"}),_.jsx(bl,{to:"/create",className:"bg-white text-blue-600 px-3 py-2 rounded",children:"Create Post"})]})]})});var og={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let o=t.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},mS=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const o=t[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[s++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],c=t[n++],d=t[n++],p=((o&7)<<18|(a&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const a=t[n++],c=t[n++];e[s++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},Ay={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<t.length;o+=3){const a=t[o],c=o+1<t.length,d=c?t[o+1]:0,p=o+2<t.length,g=p?t[o+2]:0,y=a>>2,w=(a&3)<<4|d>>4;let T=(d&15)<<2|g>>6,N=g&63;p||(N=64,c||(T=64)),s.push(n[y],n[w],n[T],n[N])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Dy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],d=o<t.length?n[t.charAt(o)]:0;++o;const g=o<t.length?n[t.charAt(o)]:64;++o;const w=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||d==null||g==null||w==null)throw new gS;const T=a<<2|d>>4;if(s.push(T),g!==64){const N=d<<4&240|g>>2;if(s.push(N),w!==64){const U=g<<6&192|w;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class gS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yS=function(t){const e=Dy(t);return Ay.encodeByteArray(e,!0)},Yl=function(t){return yS(t).replace(/\./g,"")},vS=function(t){try{return Ay.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=()=>wS().__FIREBASE_DEFAULTS__,SS=()=>{if(typeof process>"u"||typeof og>"u")return;const t=og.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},CS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vS(t[1]);return e&&JSON.parse(e)},Py=()=>{try{return ES()||SS()||CS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xS=t=>{var e,n;return(n=(e=Py())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},kS=t=>{const e=xS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Ry=()=>{var t;return(t=Py())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Yl(JSON.stringify(n)),Yl(JSON.stringify(c)),""].join(".")}function _S(){try{return typeof indexedDB=="object"}catch{return!1}}function NS(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="FirebaseError";class Ri extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=DS,Object.setPrototypeOf(this,Ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ly.prototype.create)}}class Ly{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?AS(a,s):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Ri(o,d,s)}}function AS(t,e){return t.replace(PS,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const PS=/\{\$([^}]+)}/g;function hh(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const a=t[o],c=e[o];if(lg(a)&&lg(c)){if(!hh(a,c))return!1}else if(a!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function lg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(t){return t&&t._delegate?t._delegate:t}class bs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new TS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OS(e))try{this.getOrInitializeService({instanceIdentifier:Ar})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});s.resolve(a)}catch{}}}}clearInstance(e=Ar){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ar){return this.instances.has(e)}getOptions(e=Ar){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[a,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);s===d&&c.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),a=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:LS(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ar){return this.component?this.component.multipleInstances?e:Ar:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LS(t){return t===Ar?void 0:t}function OS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new RS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const FS={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},jS=we.INFO,US={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},VS=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),o=US[e];if(o)console[o](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Oy{constructor(e){this.name=e,this._logLevel=jS,this._logHandler=VS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const zS=(t,e)=>e.some(n=>t instanceof n);let ag,ug;function $S(){return ag||(ag=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BS(){return ug||(ug=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const My=new WeakMap,fh=new WeakMap,Fy=new WeakMap,qc=new WeakMap,Kh=new WeakMap;function bS(t){const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",c)},a=()=>{n(or(t.result)),o()},c=()=>{s(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&My.set(n,t)}).catch(()=>{}),Kh.set(e,t),e}function HS(t){if(fh.has(t))return;const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",c),t.removeEventListener("abort",c)},a=()=>{n(),o()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",c),t.addEventListener("abort",c)});fh.set(t,e)}let dh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Fy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return or(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qS(t){dh=t(dh)}function KS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Kc(this),e,...n);return Fy.set(s,e.sort?e.sort():[e]),or(s)}:BS().includes(t)?function(...e){return t.apply(Kc(this),e),or(My.get(this))}:function(...e){return or(t.apply(Kc(this),e))}}function WS(t){return typeof t=="function"?KS(t):(t instanceof IDBTransaction&&HS(t),zS(t,$S())?new Proxy(t,dh):t)}function or(t){if(t instanceof IDBRequest)return bS(t);if(qc.has(t))return qc.get(t);const e=WS(t);return e!==t&&(qc.set(t,e),Kh.set(e,t)),e}const Kc=t=>Kh.get(t);function QS(t,e,{blocked:n,upgrade:s,blocking:o,terminated:a}={}){const c=indexedDB.open(t,e),d=or(c);return s&&c.addEventListener("upgradeneeded",p=>{s(or(c.result),p.oldVersion,p.newVersion,or(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const GS=["get","getKey","getAll","getAllKeys","count"],YS=["put","add","delete","clear"],Wc=new Map;function cg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wc.get(e))return Wc.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=YS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||GS.includes(n)))return;const a=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),o&&p.done]))[0]};return Wc.set(e,a),a}qS(t=>({...t,get:(e,n,s)=>cg(e,n)||t.get(e,n,s),has:(e,n)=>!!cg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(JS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function JS(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ph="@firebase/app",hg="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr=new Oy("@firebase/app"),ZS="@firebase/app-compat",eC="@firebase/analytics-compat",tC="@firebase/analytics",nC="@firebase/app-check-compat",rC="@firebase/app-check",iC="@firebase/auth",sC="@firebase/auth-compat",oC="@firebase/database",lC="@firebase/database-compat",aC="@firebase/functions",uC="@firebase/functions-compat",cC="@firebase/installations",hC="@firebase/installations-compat",fC="@firebase/messaging",dC="@firebase/messaging-compat",pC="@firebase/performance",mC="@firebase/performance-compat",gC="@firebase/remote-config",yC="@firebase/remote-config-compat",vC="@firebase/storage",wC="@firebase/storage-compat",EC="@firebase/firestore",SC="@firebase/firestore-compat",CC="firebase",xC="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh="[DEFAULT]",kC={[ph]:"fire-core",[ZS]:"fire-core-compat",[tC]:"fire-analytics",[eC]:"fire-analytics-compat",[rC]:"fire-app-check",[nC]:"fire-app-check-compat",[iC]:"fire-auth",[sC]:"fire-auth-compat",[oC]:"fire-rtdb",[lC]:"fire-rtdb-compat",[aC]:"fire-fn",[uC]:"fire-fn-compat",[cC]:"fire-iid",[hC]:"fire-iid-compat",[fC]:"fire-fcm",[dC]:"fire-fcm-compat",[pC]:"fire-perf",[mC]:"fire-perf-compat",[gC]:"fire-rc",[yC]:"fire-rc-compat",[vC]:"fire-gcs",[wC]:"fire-gcs-compat",[EC]:"fire-fst",[SC]:"fire-fst-compat","fire-js":"fire-js",[CC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=new Map,gh=new Map;function TC(t,e){try{t.container.addComponent(e)}catch(n){Mr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Jl(t){const e=t.name;if(gh.has(e))return Mr.debug(`There were multiple attempts to register component ${e}.`),!1;gh.set(e,t);for(const n of Xl.values())TC(n,t);return!0}function IC(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},lr=new Ly("app","Firebase",_C);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=xC;function jy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:mh,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw lr.create("bad-app-name",{appName:String(o)});if(n||(n=Ry()),!n)throw lr.create("no-options");const a=Xl.get(o);if(a){if(hh(n,a.options)&&hh(s,a.config))return a;throw lr.create("duplicate-app",{appName:o})}const c=new MS(o);for(const p of gh.values())c.addComponent(p);const d=new NC(n,s,c);return Xl.set(o,d),d}function AC(t=mh){const e=Xl.get(t);if(!e&&t===mh&&Ry())return jy();if(!e)throw lr.create("no-app",{appName:t});return e}function vi(t,e,n){var s;let o=(s=kC[t])!==null&&s!==void 0?s:t;n&&(o+=`-${n}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const d=[`Unable to register library "${o}" with version "${e}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mr.warn(d.join(" "));return}Jl(new bs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="firebase-heartbeat-database",RC=1,Hs="firebase-heartbeat-store";let Qc=null;function Uy(){return Qc||(Qc=QS(PC,RC,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Hs)}}}).catch(t=>{throw lr.create("idb-open",{originalErrorMessage:t.message})})),Qc}async function LC(t){try{return await(await Uy()).transaction(Hs).objectStore(Hs).get(Vy(t))}catch(e){if(e instanceof Ri)Mr.warn(e.message);else{const n=lr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mr.warn(n.message)}}}async function fg(t,e){try{const s=(await Uy()).transaction(Hs,"readwrite");await s.objectStore(Hs).put(e,Vy(t)),await s.done}catch(n){if(n instanceof Ri)Mr.warn(n.message);else{const s=lr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mr.warn(s.message)}}}function Vy(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=1024,MC=30*24*60*60*1e3;class FC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new UC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=dg();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=MC}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=dg(),{heartbeatsToSend:n,unsentEntries:s}=jC(this._heartbeatsCache.heartbeats),o=Yl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function dg(){return new Date().toISOString().substring(0,10)}function jC(t,e=OC){const n=[];let s=t.slice();for(const o of t){const a=n.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),pg(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),pg(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class UC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _S()?NS().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await LC(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return fg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return fg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function pg(t){return Yl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(t){Jl(new bs("platform-logger",e=>new XS(e),"PRIVATE")),Jl(new bs("heartbeat",e=>new FC(e),"PRIVATE")),vi(ph,hg,t),vi(ph,hg,"esm2017"),vi("fire-js","")}VC("");var zC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},z,Wh=Wh||{},se=zC||self;function pa(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ma(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function $C(t,e,n){return t.call.apply(t.bind,arguments)}function BC(t,e,n){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,s),t.apply(e,o)}}return function(){return t.apply(e,arguments)}}function gt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?gt=$C:gt=BC,gt.apply(null,arguments)}function Ol(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function tt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(s,o,a){for(var c=Array(arguments.length-2),d=2;d<arguments.length;d++)c[d-2]=arguments[d];return e.prototype[o].apply(s,c)}}function dr(){this.s=this.s,this.o=this.o}var bC=0;dr.prototype.s=!1;dr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),bC!=0)};dr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const zy=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Qh(t){const e=t.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=t[s];return n}return[]}function mg(t,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(pa(s)){const o=t.length||0,a=s.length||0;t.length=o+a;for(let c=0;c<a;c++)t[o+c]=s[c]}else t.push(s)}}function yt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}yt.prototype.h=function(){this.defaultPrevented=!0};var HC=function(){if(!se.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{se.addEventListener("test",()=>{},e),se.removeEventListener("test",()=>{},e)}catch{}return t}();function qs(t){return/^[\s\xa0]*$/.test(t)}function ga(){var t=se.navigator;return t&&(t=t.userAgent)?t:""}function pn(t){return ga().indexOf(t)!=-1}function Gh(t){return Gh[" "](t),t}Gh[" "]=function(){};function qC(t,e){var n=Ux;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var KC=pn("Opera"),xi=pn("Trident")||pn("MSIE"),$y=pn("Edge"),yh=$y||xi,By=pn("Gecko")&&!(ga().toLowerCase().indexOf("webkit")!=-1&&!pn("Edge"))&&!(pn("Trident")||pn("MSIE"))&&!pn("Edge"),WC=ga().toLowerCase().indexOf("webkit")!=-1&&!pn("Edge");function by(){var t=se.document;return t?t.documentMode:void 0}var vh;e:{var Gc="",Yc=function(){var t=ga();if(By)return/rv:([^\);]+)(\)|;)/.exec(t);if($y)return/Edge\/([\d\.]+)/.exec(t);if(xi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(WC)return/WebKit\/(\S+)/.exec(t);if(KC)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Yc&&(Gc=Yc?Yc[1]:""),xi){var Xc=by();if(Xc!=null&&Xc>parseFloat(Gc)){vh=String(Xc);break e}}vh=Gc}var wh;if(se.document&&xi){var gg=by();wh=gg||parseInt(vh,10)||void 0}else wh=void 0;var QC=wh;function Ks(t,e){if(yt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(By){e:{try{Gh(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:GC[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ks.$.h.call(this)}}tt(Ks,yt);var GC={2:"touch",3:"pen",4:"mouse"};Ks.prototype.h=function(){Ks.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ya="closure_listenable_"+(1e6*Math.random()|0),YC=0;function XC(t,e,n,s,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=o,this.key=++YC,this.fa=this.ia=!1}function va(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Yh(t,e,n){for(const s in t)e.call(n,t[s],s,t)}function JC(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Hy(t){const e={};for(const n in t)e[n]=t[n];return e}const yg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qy(t,e){let n,s;for(let o=1;o<arguments.length;o++){s=arguments[o];for(n in s)t[n]=s[n];for(let a=0;a<yg.length;a++)n=yg[a],Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}}function wa(t){this.src=t,this.g={},this.h=0}wa.prototype.add=function(t,e,n,s,o){var a=t.toString();t=this.g[a],t||(t=this.g[a]=[],this.h++);var c=Sh(t,e,s,o);return-1<c?(e=t[c],n||(e.ia=!1)):(e=new XC(e,this.src,a,!!s,o),e.ia=n,t.push(e)),e};function Eh(t,e){var n=e.type;if(n in t.g){var s=t.g[n],o=zy(s,e),a;(a=0<=o)&&Array.prototype.splice.call(s,o,1),a&&(va(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Sh(t,e,n,s){for(var o=0;o<t.length;++o){var a=t[o];if(!a.fa&&a.listener==e&&a.capture==!!n&&a.la==s)return o}return-1}var Xh="closure_lm_"+(1e6*Math.random()|0),Jc={};function Ky(t,e,n,s,o){if(Array.isArray(e)){for(var a=0;a<e.length;a++)Ky(t,e[a],n,s,o);return null}return n=Gy(n),t&&t[ya]?t.O(e,n,ma(s)?!!s.capture:!1,o):ZC(t,e,n,!1,s,o)}function ZC(t,e,n,s,o,a){if(!e)throw Error("Invalid event type");var c=ma(o)?!!o.capture:!!o,d=Zh(t);if(d||(t[Xh]=d=new wa(t)),n=d.add(e,n,s,c,a),n.proxy)return n;if(s=ex(),n.proxy=s,s.src=t,s.listener=n,t.addEventListener)HC||(o=c),o===void 0&&(o=!1),t.addEventListener(e.toString(),s,o);else if(t.attachEvent)t.attachEvent(Qy(e.toString()),s);else if(t.addListener&&t.removeListener)t.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function ex(){function t(n){return e.call(t.src,t.listener,n)}const e=tx;return t}function Wy(t,e,n,s,o){if(Array.isArray(e))for(var a=0;a<e.length;a++)Wy(t,e[a],n,s,o);else s=ma(s)?!!s.capture:!!s,n=Gy(n),t&&t[ya]?(t=t.i,e=String(e).toString(),e in t.g&&(a=t.g[e],n=Sh(a,n,s,o),-1<n&&(va(a[n]),Array.prototype.splice.call(a,n,1),a.length==0&&(delete t.g[e],t.h--)))):t&&(t=Zh(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Sh(e,n,s,o)),(n=-1<t?e[t]:null)&&Jh(n))}function Jh(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[ya])Eh(e.i,t);else{var n=t.type,s=t.proxy;e.removeEventListener?e.removeEventListener(n,s,t.capture):e.detachEvent?e.detachEvent(Qy(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=Zh(e))?(Eh(n,t),n.h==0&&(n.src=null,e[Xh]=null)):va(t)}}}function Qy(t){return t in Jc?Jc[t]:Jc[t]="on"+t}function tx(t,e){if(t.fa)t=!0;else{e=new Ks(e,this);var n=t.listener,s=t.la||t.src;t.ia&&Jh(t),t=n.call(s,e)}return t}function Zh(t){return t=t[Xh],t instanceof wa?t:null}var Zc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gy(t){return typeof t=="function"?t:(t[Zc]||(t[Zc]=function(e){return t.handleEvent(e)}),t[Zc])}function et(){dr.call(this),this.i=new wa(this),this.S=this,this.J=null}tt(et,dr);et.prototype[ya]=!0;et.prototype.removeEventListener=function(t,e,n,s){Wy(this,t,e,n,s)};function lt(t,e){var n,s=t.J;if(s)for(n=[];s;s=s.J)n.push(s);if(t=t.S,s=e.type||e,typeof e=="string")e=new yt(e,t);else if(e instanceof yt)e.target=e.target||t;else{var o=e;e=new yt(s,t),qy(e,o)}if(o=!0,n)for(var a=n.length-1;0<=a;a--){var c=e.g=n[a];o=Ml(c,s,!0,e)&&o}if(c=e.g=t,o=Ml(c,s,!0,e)&&o,o=Ml(c,s,!1,e)&&o,n)for(a=0;a<n.length;a++)c=e.g=n[a],o=Ml(c,s,!1,e)&&o}et.prototype.N=function(){if(et.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],s=0;s<n.length;s++)va(n[s]);delete t.g[e],t.h--}}this.J=null};et.prototype.O=function(t,e,n,s){return this.i.add(String(t),e,!1,n,s)};et.prototype.P=function(t,e,n,s){return this.i.add(String(t),e,!0,n,s)};function Ml(t,e,n,s){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var o=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.fa&&c.capture==n){var d=c.listener,p=c.la||c.src;c.ia&&Eh(t.i,c),o=d.call(p,s)!==!1&&o}}return o&&!s.defaultPrevented}var ef=se.JSON.stringify;class nx{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function rx(){var t=tf;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class ix{constructor(){this.h=this.g=null}add(e,n){const s=Yy.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}}var Yy=new nx(()=>new sx,t=>t.reset());class sx{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function ox(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function lx(t){se.setTimeout(()=>{throw t},0)}let Ws,Qs=!1,tf=new ix,Xy=()=>{const t=se.Promise.resolve(void 0);Ws=()=>{t.then(ax)}};var ax=()=>{for(var t;t=rx();){try{t.h.call(t.g)}catch(n){lx(n)}var e=Yy;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Qs=!1};function Ea(t,e){et.call(this),this.h=t||1,this.g=e||se,this.j=gt(this.qb,this),this.l=Date.now()}tt(Ea,et);z=Ea.prototype;z.ga=!1;z.T=null;z.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),lt(this,"tick"),this.ga&&(nf(this),this.start()))}};z.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function nf(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}z.N=function(){Ea.$.N.call(this),nf(this),delete this.g};function rf(t,e,n){if(typeof t=="function")n&&(t=gt(t,n));else if(t&&typeof t.handleEvent=="function")t=gt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:se.setTimeout(t,e||0)}function Jy(t){t.g=rf(()=>{t.g=null,t.i&&(t.i=!1,Jy(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class ux extends dr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Jy(this)}N(){super.N(),this.g&&(se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gs(t){dr.call(this),this.h=t,this.g={}}tt(Gs,dr);var vg=[];function Zy(t,e,n,s){Array.isArray(n)||(n&&(vg[0]=n.toString()),n=vg);for(var o=0;o<n.length;o++){var a=Ky(e,n[o],s||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}}function ev(t){Yh(t.g,function(e,n){this.g.hasOwnProperty(n)&&Jh(e)},t),t.g={}}Gs.prototype.N=function(){Gs.$.N.call(this),ev(this)};Gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Sa(){this.g=!0}Sa.prototype.Ea=function(){this.g=!1};function cx(t,e,n,s,o,a){t.info(function(){if(t.g)if(a)for(var c="",d=a.split("&"),p=0;p<d.length;p++){var g=d[p].split("=");if(1<g.length){var y=g[0];g=g[1];var w=y.split("_");c=2<=w.length&&w[1]=="type"?c+(y+"="+g+"&"):c+(y+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+s+") [attempt "+o+"]: "+e+`
`+n+`
`+c})}function hx(t,e,n,s,o,a,c){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+o+"]: "+e+`
`+n+`
`+a+" "+c})}function yi(t,e,n,s){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+dx(t,n)+(s?" "+s:"")})}function fx(t,e){t.info(function(){return"TIMEOUT: "+e})}Sa.prototype.info=function(){};function dx(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var s=n[t];if(!(2>s.length)){var o=s[1];if(Array.isArray(o)&&!(1>o.length)){var a=o[0];if(a!="noop"&&a!="stop"&&a!="close")for(var c=1;c<o.length;c++)o[c]=""}}}}return ef(n)}catch{return e}}var zr={},wg=null;function Ca(){return wg=wg||new et}zr.Ta="serverreachability";function tv(t){yt.call(this,zr.Ta,t)}tt(tv,yt);function Ys(t){const e=Ca();lt(e,new tv(e))}zr.STAT_EVENT="statevent";function nv(t,e){yt.call(this,zr.STAT_EVENT,t),this.stat=e}tt(nv,yt);function Ct(t){const e=Ca();lt(e,new nv(e,t))}zr.Ua="timingevent";function rv(t,e){yt.call(this,zr.Ua,t),this.size=e}tt(rv,yt);function lo(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return se.setTimeout(function(){t()},e)}var xa={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},iv={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function sf(){}sf.prototype.h=null;function Eg(t){return t.h||(t.h=t.i())}function sv(){}var ao={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function of(){yt.call(this,"d")}tt(of,yt);function lf(){yt.call(this,"c")}tt(lf,yt);var Ch;function ka(){}tt(ka,sf);ka.prototype.g=function(){return new XMLHttpRequest};ka.prototype.i=function(){return{}};Ch=new ka;function uo(t,e,n,s){this.l=t,this.j=e,this.m=n,this.W=s||1,this.U=new Gs(this),this.P=px,t=yh?125:void 0,this.V=new Ea(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ov}function ov(){this.i=null,this.g="",this.h=!1}var px=45e3,xh={},Zl={};z=uo.prototype;z.setTimeout=function(t){this.P=t};function kh(t,e,n){t.L=1,t.v=Ia(Ln(e)),t.s=n,t.S=!0,lv(t,null)}function lv(t,e){t.G=Date.now(),co(t),t.A=Ln(t.v);var n=t.A,s=t.W;Array.isArray(s)||(s=[String(s)]),mv(n.i,"t",s),t.C=0,n=t.l.J,t.h=new ov,t.g=Fv(t.l,n?e:null,!t.s),0<t.O&&(t.M=new ux(gt(t.Pa,t,t.g),t.O)),Zy(t.U,t.g,"readystatechange",t.nb),e=t.I?Hy(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Ys(),cx(t.j,t.u,t.A,t.m,t.W,t.s)}z.nb=function(t){t=t.target;const e=this.M;e&&mn(t)==3?e.l():this.Pa(t)};z.Pa=function(t){try{if(t==this.g)e:{const y=mn(this.g);var e=this.g.Ia();const w=this.g.da();if(!(3>y)&&(y!=3||yh||this.g&&(this.h.h||this.g.ja()||kg(this.g)))){this.J||y!=4||e==7||(e==8||0>=w?Ys(3):Ys(2)),Ta(this);var n=this.g.da();this.ca=n;t:if(av(this)){var s=kg(this.g);t="";var o=s.length,a=mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pr(this),Fs(this);var c="";break t}this.h.i=new se.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,t+=this.h.i.decode(s[e],{stream:a&&e==o-1});s.splice(0,o),this.h.g+=t,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=n==200,hx(this.j,this.u,this.A,this.m,this.W,y,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qs(d)){var g=d;break t}}g=null}if(n=g)yi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Th(this,n);else{this.i=!1,this.o=3,Ct(12),Pr(this),Fs(this);break e}}this.S?(uv(this,y,c),yh&&this.i&&y==3&&(Zy(this.U,this.V,"tick",this.mb),this.V.start())):(yi(this.j,this.m,c,null),Th(this,c)),y==4&&Pr(this),this.i&&!this.J&&(y==4?Rv(this.l,this):(this.i=!1,co(this)))}else Mx(this.g),n==400&&0<c.indexOf("Unknown SID")?(this.o=3,Ct(12)):(this.o=0,Ct(13)),Pr(this),Fs(this)}}}catch{}finally{}};function av(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function uv(t,e,n){let s=!0,o;for(;!t.J&&t.C<n.length;)if(o=mx(t,n),o==Zl){e==4&&(t.o=4,Ct(14),s=!1),yi(t.j,t.m,null,"[Incomplete Response]");break}else if(o==xh){t.o=4,Ct(15),yi(t.j,t.m,n,"[Invalid Chunk]"),s=!1;break}else yi(t.j,t.m,o,null),Th(t,o);av(t)&&o!=Zl&&o!=xh&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Ct(16),s=!1),t.i=t.i&&s,s?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),df(e),e.M=!0,Ct(11))):(yi(t.j,t.m,n,"[Invalid Chunked Response]"),Pr(t),Fs(t))}z.mb=function(){if(this.g){var t=mn(this.g),e=this.g.ja();this.C<e.length&&(Ta(this),uv(this,t,e),this.i&&t!=4&&co(this))}};function mx(t,e){var n=t.C,s=e.indexOf(`
`,n);return s==-1?Zl:(n=Number(e.substring(n,s)),isNaN(n)?xh:(s+=1,s+n>e.length?Zl:(e=e.slice(s,s+n),t.C=s+n,e)))}z.cancel=function(){this.J=!0,Pr(this)};function co(t){t.Y=Date.now()+t.P,cv(t,t.P)}function cv(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=lo(gt(t.lb,t),e)}function Ta(t){t.B&&(se.clearTimeout(t.B),t.B=null)}z.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(fx(this.j,this.A),this.L!=2&&(Ys(),Ct(17)),Pr(this),this.o=2,Fs(this)):cv(this,this.Y-t)};function Fs(t){t.l.H==0||t.J||Rv(t.l,t)}function Pr(t){Ta(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,nf(t.V),ev(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Th(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Ih(n.i,t))){if(!t.K&&Ih(n.i,t)&&n.H==3){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&s.length==3){var o=s;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)na(n),Da(n);else break e;ff(n),Ct(18)}}else n.Fa=o[1],0<n.Fa-n.V&&37500>o[2]&&n.G&&n.A==0&&!n.v&&(n.v=lo(gt(n.ib,n),6e3));if(1>=vv(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Rr(n,11)}else if((t.K||n.g==t)&&na(n),!qs(e))for(o=n.Ja.g.parse(e),e=0;e<o.length;e++){let g=o[e];if(n.V=g[0],g=g[1],n.H==2)if(g[0]=="c"){n.K=g[1],n.pa=g[2];const y=g[3];y!=null&&(n.ra=y,n.l.info("VER="+n.ra));const w=g[4];w!=null&&(n.Ga=w,n.l.info("SVER="+n.Ga));const T=g[5];T!=null&&typeof T=="number"&&0<T&&(s=1.5*T,n.L=s,n.l.info("backChannelRequestTimeoutMs_="+s)),s=n;const N=t.g;if(N){const U=N.g?N.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(U){var a=s.i;a.g||U.indexOf("spdy")==-1&&U.indexOf("quic")==-1&&U.indexOf("h2")==-1||(a.j=a.l,a.g=new Set,a.h&&(af(a,a.h),a.h=null))}if(s.F){const F=N.g?N.g.getResponseHeader("X-HTTP-Session-Id"):null;F&&(s.Da=F,_e(s.I,s.F,F))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),s=n;var c=t;if(s.wa=Mv(s,s.J?s.pa:null,s.Y),c.K){wv(s.i,c);var d=c,p=s.L;p&&d.setTimeout(p),d.B&&(Ta(d),co(d)),s.g=c}else Av(s);0<n.j.length&&Aa(n)}else g[0]!="stop"&&g[0]!="close"||Rr(n,7);else n.H==3&&(g[0]=="stop"||g[0]=="close"?g[0]=="stop"?Rr(n,7):hf(n):g[0]!="noop"&&n.h&&n.h.Aa(g),n.A=0)}}Ys(4)}catch{}}function gx(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(pa(t)){for(var e=[],n=t.length,s=0;s<n;s++)e.push(t[s]);return e}e=[],n=0;for(s in t)e[n++]=t[s];return e}function yx(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(pa(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const s in t)e[n++]=s;return e}}}function hv(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(pa(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=yx(t),s=gx(t),o=s.length,a=0;a<o;a++)e.call(void 0,s[a],n&&n[a],t)}var fv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vx(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var s=t[n].indexOf("="),o=null;if(0<=s){var a=t[n].substring(0,s);o=t[n].substring(s+1)}else a=t[n];e(a,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Or(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Or){this.h=t.h,ea(this,t.j),this.s=t.s,this.g=t.g,ta(this,t.m),this.l=t.l;var e=t.i,n=new Xs;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Sg(this,n),this.o=t.o}else t&&(e=String(t).match(fv))?(this.h=!1,ea(this,e[1]||"",!0),this.s=As(e[2]||""),this.g=As(e[3]||"",!0),ta(this,e[4]),this.l=As(e[5]||"",!0),Sg(this,e[6]||"",!0),this.o=As(e[7]||"")):(this.h=!1,this.i=new Xs(null,this.h))}Or.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ps(e,Cg,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ps(e,Cg,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ps(n,n.charAt(0)=="/"?Sx:Ex,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ps(n,xx)),t.join("")};function Ln(t){return new Or(t)}function ea(t,e,n){t.j=n?As(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ta(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Sg(t,e,n){e instanceof Xs?(t.i=e,kx(t.i,t.h)):(n||(e=Ps(e,Cx)),t.i=new Xs(e,t.h))}function _e(t,e,n){t.i.set(e,n)}function Ia(t){return _e(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function As(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ps(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,wx),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function wx(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Cg=/[#\/\?@]/g,Ex=/[#\?:]/g,Sx=/[#\?]/g,Cx=/[#\?@]/g,xx=/#/g;function Xs(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function pr(t){t.g||(t.g=new Map,t.h=0,t.i&&vx(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}z=Xs.prototype;z.add=function(t,e){pr(this),this.i=null,t=Li(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function dv(t,e){pr(t),e=Li(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function pv(t,e){return pr(t),e=Li(t,e),t.g.has(e)}z.forEach=function(t,e){pr(this),this.g.forEach(function(n,s){n.forEach(function(o){t.call(e,o,s,this)},this)},this)};z.ta=function(){pr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const o=t[s];for(let a=0;a<o.length;a++)n.push(e[s])}return n};z.Z=function(t){pr(this);let e=[];if(typeof t=="string")pv(this,t)&&(e=e.concat(this.g.get(Li(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};z.set=function(t,e){return pr(this),this.i=null,t=Li(this,t),pv(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};z.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function mv(t,e,n){dv(t,e),0<n.length&&(t.i=null,t.g.set(Li(t,e),Qh(n)),t.h+=n.length)}z.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const a=encodeURIComponent(String(s)),c=this.Z(s);for(s=0;s<c.length;s++){var o=a;c[s]!==""&&(o+="="+encodeURIComponent(String(c[s]))),t.push(o)}}return this.i=t.join("&")};function Li(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function kx(t,e){e&&!t.j&&(pr(t),t.i=null,t.g.forEach(function(n,s){var o=s.toLowerCase();s!=o&&(dv(this,s),mv(this,o,n))},t)),t.j=e}var Tx=class{constructor(t,e){this.g=t,this.map=e}};function gv(t){this.l=t||Ix,se.PerformanceNavigationTiming?(t=se.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(se.g&&se.g.Ka&&se.g.Ka()&&se.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ix=10;function yv(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function vv(t){return t.h?1:t.g?t.g.size:0}function Ih(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function af(t,e){t.g?t.g.add(e):t.h=e}function wv(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}gv.prototype.cancel=function(){if(this.i=Ev(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Ev(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Qh(t.i)}var _x=class{stringify(t){return se.JSON.stringify(t,void 0)}parse(t){return se.JSON.parse(t,void 0)}};function Nx(){this.g=new _x}function Dx(t,e,n){const s=n||"";try{hv(t,function(o,a){let c=o;ma(o)&&(c=ef(o)),e.push(s+a+"="+encodeURIComponent(c))})}catch(o){throw e.push(s+"type="+encodeURIComponent("_badmap")),o}}function Ax(t,e){const n=new Sa;if(se.Image){const s=new Image;s.onload=Ol(Fl,n,s,"TestLoadImage: loaded",!0,e),s.onerror=Ol(Fl,n,s,"TestLoadImage: error",!1,e),s.onabort=Ol(Fl,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=Ol(Fl,n,s,"TestLoadImage: timeout",!1,e),se.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else e(!1)}function Fl(t,e,n,s,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(s)}catch{}}function ho(t){this.l=t.fc||null,this.j=t.ob||!1}tt(ho,sf);ho.prototype.g=function(){return new _a(this.l,this.j)};ho.prototype.i=function(t){return function(){return t}}({});function _a(t,e){et.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=uf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}tt(_a,et);var uf=0;z=_a.prototype;z.open=function(t,e){if(this.readyState!=uf)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Js(this)};z.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||se).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fo(this)),this.readyState=uf};z.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Js(this)),this.g&&(this.readyState=3,Js(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof se.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Sv(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Sv(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}z.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?fo(this):Js(this),this.readyState==3&&Sv(this)}};z.Za=function(t){this.g&&(this.response=this.responseText=t,fo(this))};z.Ya=function(t){this.g&&(this.response=t,fo(this))};z.ka=function(){this.g&&fo(this)};function fo(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Js(t)}z.setRequestHeader=function(t,e){this.v.append(t,e)};z.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};z.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Js(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(_a.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Px=se.JSON.parse;function Ue(t){et.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Cv,this.L=this.M=!1}tt(Ue,et);var Cv="",Rx=/^https?$/i,Lx=["POST","PUT"];z=Ue.prototype;z.Oa=function(t){this.M=t};z.ha=function(t,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ch.g(),this.C=this.u?Eg(this.u):Eg(Ch),this.g.onreadystatechange=gt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(a){xg(this,a);return}if(t=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var o in s)n.set(o,s[o]);else if(typeof s.keys=="function"&&typeof s.get=="function")for(const a of s.keys())n.set(a,s.get(a));else throw Error("Unknown input type for opt_headers: "+String(s));s=Array.from(n.keys()).find(a=>a.toLowerCase()=="content-type"),o=se.FormData&&t instanceof se.FormData,!(0<=zy(Lx,e))||s||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,c]of n)this.g.setRequestHeader(a,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Tv(this),0<this.B&&((this.L=Ox(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gt(this.ua,this)):this.A=rf(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(a){xg(this,a)}};function Ox(t){return xi&&typeof t.timeout=="number"&&t.ontimeout!==void 0}z.ua=function(){typeof Wh<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,lt(this,"timeout"),this.abort(8))};function xg(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,xv(t),Na(t)}function xv(t){t.F||(t.F=!0,lt(t,"complete"),lt(t,"error"))}z.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,lt(this,"complete"),lt(this,"abort"),Na(this))};z.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Na(this,!0)),Ue.$.N.call(this)};z.La=function(){this.s||(this.G||this.v||this.l?kv(this):this.kb())};z.kb=function(){kv(this)};function kv(t){if(t.h&&typeof Wh<"u"&&(!t.C[1]||mn(t)!=4||t.da()!=2)){if(t.v&&mn(t)==4)rf(t.La,0,t);else if(lt(t,"readystatechange"),mn(t)==4){t.h=!1;try{const c=t.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=c===0){var o=String(t.I).match(fv)[1]||null;!o&&se.self&&se.self.location&&(o=se.self.location.protocol.slice(0,-1)),s=!Rx.test(o?o.toLowerCase():"")}n=s}if(n)lt(t,"complete"),lt(t,"success");else{t.m=6;try{var a=2<mn(t)?t.g.statusText:""}catch{a=""}t.j=a+" ["+t.da()+"]",xv(t)}}finally{Na(t)}}}}function Na(t,e){if(t.g){Tv(t);const n=t.g,s=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||lt(t,"ready");try{n.onreadystatechange=s}catch{}}}function Tv(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(se.clearTimeout(t.A),t.A=null)}z.isActive=function(){return!!this.g};function mn(t){return t.g?t.g.readyState:0}z.da=function(){try{return 2<mn(this)?this.g.status:-1}catch{return-1}};z.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};z.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Px(e)}};function kg(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Cv:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Mx(t){const e={};t=(t.g&&2<=mn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let s=0;s<t.length;s++){if(qs(t[s]))continue;var n=ox(t[s]);const o=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const a=e[o]||[];e[o]=a,a.push(n)}JC(e,function(s){return s.join(", ")})}z.Ia=function(){return this.m};z.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Iv(t){let e="";return Yh(t,function(n,s){e+=s,e+=":",e+=n,e+=`\r
`}),e}function cf(t,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=Iv(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):_e(t,e,n))}function Is(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function _v(t){this.Ga=0,this.j=[],this.l=new Sa,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Is("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Is("baseRetryDelayMs",5e3,t),this.hb=Is("retryDelaySeedMs",1e4,t),this.eb=Is("forwardChannelMaxRetries",2,t),this.xa=Is("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new gv(t&&t.concurrentRequestLimit),this.Ja=new Nx,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}z=_v.prototype;z.ra=8;z.H=1;function hf(t){if(Nv(t),t.H==3){var e=t.W++,n=Ln(t.I);if(_e(n,"SID",t.K),_e(n,"RID",e),_e(n,"TYPE","terminate"),po(t,n),e=new uo(t,t.l,e),e.L=2,e.v=Ia(Ln(n)),n=!1,se.navigator&&se.navigator.sendBeacon)try{n=se.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&se.Image&&(new Image().src=e.v,n=!0),n||(e.g=Fv(e.l,null),e.g.ha(e.v)),e.G=Date.now(),co(e)}Ov(t)}function Da(t){t.g&&(df(t),t.g.cancel(),t.g=null)}function Nv(t){Da(t),t.u&&(se.clearTimeout(t.u),t.u=null),na(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&se.clearTimeout(t.m),t.m=null)}function Aa(t){if(!yv(t.i)&&!t.m){t.m=!0;var e=t.Na;Ws||Xy(),Qs||(Ws(),Qs=!0),tf.add(e,t),t.C=0}}function Fx(t,e){return vv(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=lo(gt(t.Na,t,e),Lv(t,t.C)),t.C++,!0)}z.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const o=new uo(this,this.l,t);let a=this.s;if(this.U&&(a?(a=Hy(a),qy(a,this.U)):a=this.U),this.o!==null||this.O||(o.I=a,a=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var s=this.j[n];if("__data__"in s.map&&(s=s.map.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(e+=s,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Dv(this,o,e),n=Ln(this.I),_e(n,"RID",t),_e(n,"CVER",22),this.F&&_e(n,"X-HTTP-Session-Id",this.F),po(this,n),a&&(this.O?e="headers="+encodeURIComponent(String(Iv(a)))+"&"+e:this.o&&cf(n,this.o,a)),af(this.i,o),this.bb&&_e(n,"TYPE","init"),this.P?(_e(n,"$req",e),_e(n,"SID","null"),o.aa=!0,kh(o,n,null)):kh(o,n,e),this.H=2}}else this.H==3&&(t?Tg(this,t):this.j.length==0||yv(this.i)||Tg(this))};function Tg(t,e){var n;e?n=e.m:n=t.W++;const s=Ln(t.I);_e(s,"SID",t.K),_e(s,"RID",n),_e(s,"AID",t.V),po(t,s),t.o&&t.s&&cf(s,t.o,t.s),n=new uo(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Dv(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),af(t.i,n),kh(n,s,e)}function po(t,e){t.na&&Yh(t.na,function(n,s){_e(e,s,n)}),t.h&&hv({},function(n,s){_e(e,s,n)})}function Dv(t,e,n){n=Math.min(t.j.length,n);var s=t.h?gt(t.h.Va,t.h,t):null;e:{var o=t.j;let a=-1;for(;;){const c=["count="+n];a==-1?0<n?(a=o[0].g,c.push("ofs="+a)):a=0:c.push("ofs="+a);let d=!0;for(let p=0;p<n;p++){let g=o[p].g;const y=o[p].map;if(g-=a,0>g)a=Math.max(0,o[p].g-100),d=!1;else try{Dx(y,c,"req"+g+"_")}catch{s&&s(y)}}if(d){s=c.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,s}function Av(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ws||Xy(),Qs||(Ws(),Qs=!0),tf.add(e,t),t.A=0}}function ff(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=lo(gt(t.Ma,t),Lv(t,t.A)),t.A++,!0)}z.Ma=function(){if(this.u=null,Pv(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=lo(gt(this.jb,this),t)}};z.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ct(10),Da(this),Pv(this))};function df(t){t.B!=null&&(se.clearTimeout(t.B),t.B=null)}function Pv(t){t.g=new uo(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ln(t.wa);_e(e,"RID","rpc"),_e(e,"SID",t.K),_e(e,"AID",t.V),_e(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&_e(e,"TO",t.qa),_e(e,"TYPE","xmlhttp"),po(t,e),t.o&&t.s&&cf(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Ia(Ln(e)),n.s=null,n.S=!0,lv(n,t)}z.ib=function(){this.v!=null&&(this.v=null,Da(this),ff(this),Ct(19))};function na(t){t.v!=null&&(se.clearTimeout(t.v),t.v=null)}function Rv(t,e){var n=null;if(t.g==e){na(t),df(t),t.g=null;var s=2}else if(Ih(t.i,e))n=e.F,wv(t.i,e),s=1;else return;if(t.H!=0){if(e.i)if(s==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var o=t.C;s=Ca(),lt(s,new rv(s,n)),Aa(t)}else Av(t);else if(o=e.o,o==3||o==0&&0<e.ca||!(s==1&&Fx(t,e)||s==2&&ff(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),o){case 1:Rr(t,5);break;case 4:Rr(t,10);break;case 3:Rr(t,6);break;default:Rr(t,2)}}}function Lv(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Rr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var s=gt(t.pb,t);n||(n=new Or("//www.google.com/images/cleardot.gif"),se.location&&se.location.protocol=="http"||ea(n,"https"),Ia(n)),Ax(n.toString(),s)}else Ct(2);t.H=0,t.h&&t.h.za(e),Ov(t),Nv(t)}z.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ct(2)):(this.l.info("Failed to ping google.com"),Ct(1))};function Ov(t){if(t.H=0,t.ma=[],t.h){const e=Ev(t.i);(e.length!=0||t.j.length!=0)&&(mg(t.ma,e),mg(t.ma,t.j),t.i.i.length=0,Qh(t.j),t.j.length=0),t.h.ya()}}function Mv(t,e,n){var s=n instanceof Or?Ln(n):new Or(n);if(s.g!="")e&&(s.g=e+"."+s.g),ta(s,s.m);else{var o=se.location;s=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var a=new Or(null);s&&ea(a,s),e&&(a.g=e),o&&ta(a,o),n&&(a.l=n),s=a}return n=t.F,e=t.Da,n&&e&&_e(s,n,e),_e(s,"VER",t.ra),po(t,s),s}function Fv(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Ue(new ho({ob:!0})):new Ue(t.va),e.Oa(t.J),e}z.isActive=function(){return!!this.h&&this.h.isActive(this)};function jv(){}z=jv.prototype;z.Ba=function(){};z.Aa=function(){};z.za=function(){};z.ya=function(){};z.isActive=function(){return!0};z.Va=function(){};function ra(){if(xi&&!(10<=Number(QC)))throw Error("Environmental error: no available transport.")}ra.prototype.g=function(t,e){return new zt(t,e)};function zt(t,e){et.call(this),this.g=new _v(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!qs(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qs(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Oi(this)}tt(zt,et);zt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ct(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Mv(t,null,t.Y),Aa(t)};zt.prototype.close=function(){hf(this.g)};zt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=ef(t),t=n);e.j.push(new Tx(e.fb++,t)),e.H==3&&Aa(e)};zt.prototype.N=function(){this.g.h=null,delete this.j,hf(this.g),delete this.g,zt.$.N.call(this)};function Uv(t){of.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}tt(Uv,of);function Vv(){lf.call(this),this.status=1}tt(Vv,lf);function Oi(t){this.g=t}tt(Oi,jv);Oi.prototype.Ba=function(){lt(this.g,"a")};Oi.prototype.Aa=function(t){lt(this.g,new Uv(t))};Oi.prototype.za=function(t){lt(this.g,new Vv)};Oi.prototype.ya=function(){lt(this.g,"b")};function jx(){this.blockSize=-1}function sn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}tt(sn,jx);sn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function eh(t,e,n){n||(n=0);var s=Array(16);if(typeof e=="string")for(var o=0;16>o;++o)s[o]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(o=0;16>o;++o)s[o]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],o=t.g[2];var a=t.g[3],c=e+(a^n&(o^a))+s[0]+3614090360&4294967295;e=n+(c<<7&4294967295|c>>>25),c=a+(o^e&(n^o))+s[1]+3905402710&4294967295,a=e+(c<<12&4294967295|c>>>20),c=o+(n^a&(e^n))+s[2]+606105819&4294967295,o=a+(c<<17&4294967295|c>>>15),c=n+(e^o&(a^e))+s[3]+3250441966&4294967295,n=o+(c<<22&4294967295|c>>>10),c=e+(a^n&(o^a))+s[4]+4118548399&4294967295,e=n+(c<<7&4294967295|c>>>25),c=a+(o^e&(n^o))+s[5]+1200080426&4294967295,a=e+(c<<12&4294967295|c>>>20),c=o+(n^a&(e^n))+s[6]+2821735955&4294967295,o=a+(c<<17&4294967295|c>>>15),c=n+(e^o&(a^e))+s[7]+4249261313&4294967295,n=o+(c<<22&4294967295|c>>>10),c=e+(a^n&(o^a))+s[8]+1770035416&4294967295,e=n+(c<<7&4294967295|c>>>25),c=a+(o^e&(n^o))+s[9]+2336552879&4294967295,a=e+(c<<12&4294967295|c>>>20),c=o+(n^a&(e^n))+s[10]+4294925233&4294967295,o=a+(c<<17&4294967295|c>>>15),c=n+(e^o&(a^e))+s[11]+2304563134&4294967295,n=o+(c<<22&4294967295|c>>>10),c=e+(a^n&(o^a))+s[12]+1804603682&4294967295,e=n+(c<<7&4294967295|c>>>25),c=a+(o^e&(n^o))+s[13]+4254626195&4294967295,a=e+(c<<12&4294967295|c>>>20),c=o+(n^a&(e^n))+s[14]+2792965006&4294967295,o=a+(c<<17&4294967295|c>>>15),c=n+(e^o&(a^e))+s[15]+1236535329&4294967295,n=o+(c<<22&4294967295|c>>>10),c=e+(o^a&(n^o))+s[1]+4129170786&4294967295,e=n+(c<<5&4294967295|c>>>27),c=a+(n^o&(e^n))+s[6]+3225465664&4294967295,a=e+(c<<9&4294967295|c>>>23),c=o+(e^n&(a^e))+s[11]+643717713&4294967295,o=a+(c<<14&4294967295|c>>>18),c=n+(a^e&(o^a))+s[0]+3921069994&4294967295,n=o+(c<<20&4294967295|c>>>12),c=e+(o^a&(n^o))+s[5]+3593408605&4294967295,e=n+(c<<5&4294967295|c>>>27),c=a+(n^o&(e^n))+s[10]+38016083&4294967295,a=e+(c<<9&4294967295|c>>>23),c=o+(e^n&(a^e))+s[15]+3634488961&4294967295,o=a+(c<<14&4294967295|c>>>18),c=n+(a^e&(o^a))+s[4]+3889429448&4294967295,n=o+(c<<20&4294967295|c>>>12),c=e+(o^a&(n^o))+s[9]+568446438&4294967295,e=n+(c<<5&4294967295|c>>>27),c=a+(n^o&(e^n))+s[14]+3275163606&4294967295,a=e+(c<<9&4294967295|c>>>23),c=o+(e^n&(a^e))+s[3]+4107603335&4294967295,o=a+(c<<14&4294967295|c>>>18),c=n+(a^e&(o^a))+s[8]+1163531501&4294967295,n=o+(c<<20&4294967295|c>>>12),c=e+(o^a&(n^o))+s[13]+2850285829&4294967295,e=n+(c<<5&4294967295|c>>>27),c=a+(n^o&(e^n))+s[2]+4243563512&4294967295,a=e+(c<<9&4294967295|c>>>23),c=o+(e^n&(a^e))+s[7]+1735328473&4294967295,o=a+(c<<14&4294967295|c>>>18),c=n+(a^e&(o^a))+s[12]+2368359562&4294967295,n=o+(c<<20&4294967295|c>>>12),c=e+(n^o^a)+s[5]+4294588738&4294967295,e=n+(c<<4&4294967295|c>>>28),c=a+(e^n^o)+s[8]+2272392833&4294967295,a=e+(c<<11&4294967295|c>>>21),c=o+(a^e^n)+s[11]+1839030562&4294967295,o=a+(c<<16&4294967295|c>>>16),c=n+(o^a^e)+s[14]+4259657740&4294967295,n=o+(c<<23&4294967295|c>>>9),c=e+(n^o^a)+s[1]+2763975236&4294967295,e=n+(c<<4&4294967295|c>>>28),c=a+(e^n^o)+s[4]+1272893353&4294967295,a=e+(c<<11&4294967295|c>>>21),c=o+(a^e^n)+s[7]+4139469664&4294967295,o=a+(c<<16&4294967295|c>>>16),c=n+(o^a^e)+s[10]+3200236656&4294967295,n=o+(c<<23&4294967295|c>>>9),c=e+(n^o^a)+s[13]+681279174&4294967295,e=n+(c<<4&4294967295|c>>>28),c=a+(e^n^o)+s[0]+3936430074&4294967295,a=e+(c<<11&4294967295|c>>>21),c=o+(a^e^n)+s[3]+3572445317&4294967295,o=a+(c<<16&4294967295|c>>>16),c=n+(o^a^e)+s[6]+76029189&4294967295,n=o+(c<<23&4294967295|c>>>9),c=e+(n^o^a)+s[9]+3654602809&4294967295,e=n+(c<<4&4294967295|c>>>28),c=a+(e^n^o)+s[12]+3873151461&4294967295,a=e+(c<<11&4294967295|c>>>21),c=o+(a^e^n)+s[15]+530742520&4294967295,o=a+(c<<16&4294967295|c>>>16),c=n+(o^a^e)+s[2]+3299628645&4294967295,n=o+(c<<23&4294967295|c>>>9),c=e+(o^(n|~a))+s[0]+4096336452&4294967295,e=n+(c<<6&4294967295|c>>>26),c=a+(n^(e|~o))+s[7]+1126891415&4294967295,a=e+(c<<10&4294967295|c>>>22),c=o+(e^(a|~n))+s[14]+2878612391&4294967295,o=a+(c<<15&4294967295|c>>>17),c=n+(a^(o|~e))+s[5]+4237533241&4294967295,n=o+(c<<21&4294967295|c>>>11),c=e+(o^(n|~a))+s[12]+1700485571&4294967295,e=n+(c<<6&4294967295|c>>>26),c=a+(n^(e|~o))+s[3]+2399980690&4294967295,a=e+(c<<10&4294967295|c>>>22),c=o+(e^(a|~n))+s[10]+4293915773&4294967295,o=a+(c<<15&4294967295|c>>>17),c=n+(a^(o|~e))+s[1]+2240044497&4294967295,n=o+(c<<21&4294967295|c>>>11),c=e+(o^(n|~a))+s[8]+1873313359&4294967295,e=n+(c<<6&4294967295|c>>>26),c=a+(n^(e|~o))+s[15]+4264355552&4294967295,a=e+(c<<10&4294967295|c>>>22),c=o+(e^(a|~n))+s[6]+2734768916&4294967295,o=a+(c<<15&4294967295|c>>>17),c=n+(a^(o|~e))+s[13]+1309151649&4294967295,n=o+(c<<21&4294967295|c>>>11),c=e+(o^(n|~a))+s[4]+4149444226&4294967295,e=n+(c<<6&4294967295|c>>>26),c=a+(n^(e|~o))+s[11]+3174756917&4294967295,a=e+(c<<10&4294967295|c>>>22),c=o+(e^(a|~n))+s[2]+718787259&4294967295,o=a+(c<<15&4294967295|c>>>17),c=n+(a^(o|~e))+s[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(o+(c<<21&4294967295|c>>>11))&4294967295,t.g[2]=t.g[2]+o&4294967295,t.g[3]=t.g[3]+a&4294967295}sn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,s=this.m,o=this.h,a=0;a<e;){if(o==0)for(;a<=n;)eh(this,t,a),a+=this.blockSize;if(typeof t=="string"){for(;a<e;)if(s[o++]=t.charCodeAt(a++),o==this.blockSize){eh(this,s),o=0;break}}else for(;a<e;)if(s[o++]=t[a++],o==this.blockSize){eh(this,s),o=0;break}}this.h=o,this.i+=e};sn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)t[n++]=this.g[e]>>>s&255;return t};function Ce(t,e){this.h=e;for(var n=[],s=!0,o=t.length-1;0<=o;o--){var a=t[o]|0;s&&a==e||(n[o]=a,s=!1)}this.g=n}var Ux={};function pf(t){return-128<=t&&128>t?qC(t,function(e){return new Ce([e|0],0>e?-1:0)}):new Ce([t|0],0>t?-1:0)}function gn(t){if(isNaN(t)||!isFinite(t))return wi;if(0>t)return ot(gn(-t));for(var e=[],n=1,s=0;t>=n;s++)e[s]=t/n|0,n*=_h;return new Ce(e,0)}function zv(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return ot(zv(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=gn(Math.pow(e,8)),s=wi,o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o),c=parseInt(t.substring(o,o+a),e);8>a?(a=gn(Math.pow(e,a)),s=s.R(a).add(gn(c))):(s=s.R(n),s=s.add(gn(c)))}return s}var _h=4294967296,wi=pf(0),Nh=pf(1),Ig=pf(16777216);z=Ce.prototype;z.ea=function(){if(Wt(this))return-ot(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);t+=(0<=s?s:_h+s)*e,e*=_h}return t};z.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Dn(this))return"0";if(Wt(this))return"-"+ot(this).toString(t);for(var e=gn(Math.pow(t,6)),n=this,s="";;){var o=sa(n,e).g;n=ia(n,o.R(e));var a=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=o,Dn(n))return a+s;for(;6>a.length;)a="0"+a;s=a+s}};z.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Dn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Wt(t){return t.h==-1}z.X=function(t){return t=ia(this,t),Wt(t)?-1:Dn(t)?0:1};function ot(t){for(var e=t.g.length,n=[],s=0;s<e;s++)n[s]=~t.g[s];return new Ce(n,~t.h).add(Nh)}z.abs=function(){return Wt(this)?ot(this):this};z.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0,o=0;o<=e;o++){var a=s+(this.D(o)&65535)+(t.D(o)&65535),c=(a>>>16)+(this.D(o)>>>16)+(t.D(o)>>>16);s=c>>>16,a&=65535,c&=65535,n[o]=c<<16|a}return new Ce(n,n[n.length-1]&-2147483648?-1:0)};function ia(t,e){return t.add(ot(e))}z.R=function(t){if(Dn(this)||Dn(t))return wi;if(Wt(this))return Wt(t)?ot(this).R(ot(t)):ot(ot(this).R(t));if(Wt(t))return ot(this.R(ot(t)));if(0>this.X(Ig)&&0>t.X(Ig))return gn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var o=0;o<t.g.length;o++){var a=this.D(s)>>>16,c=this.D(s)&65535,d=t.D(o)>>>16,p=t.D(o)&65535;n[2*s+2*o]+=c*p,jl(n,2*s+2*o),n[2*s+2*o+1]+=a*p,jl(n,2*s+2*o+1),n[2*s+2*o+1]+=c*d,jl(n,2*s+2*o+1),n[2*s+2*o+2]+=a*d,jl(n,2*s+2*o+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new Ce(n,0)};function jl(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function _s(t,e){this.g=t,this.h=e}function sa(t,e){if(Dn(e))throw Error("division by zero");if(Dn(t))return new _s(wi,wi);if(Wt(t))return e=sa(ot(t),e),new _s(ot(e.g),ot(e.h));if(Wt(e))return e=sa(t,ot(e)),new _s(ot(e.g),e.h);if(30<t.g.length){if(Wt(t)||Wt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Nh,s=e;0>=s.X(t);)n=_g(n),s=_g(s);var o=pi(n,1),a=pi(s,1);for(s=pi(s,2),n=pi(n,2);!Dn(s);){var c=a.add(s);0>=c.X(t)&&(o=o.add(n),a=c),s=pi(s,1),n=pi(n,1)}return e=ia(t,o.R(e)),new _s(o,e)}for(o=wi;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),s=Math.ceil(Math.log(n)/Math.LN2),s=48>=s?1:Math.pow(2,s-48),a=gn(n),c=a.R(e);Wt(c)||0<c.X(t);)n-=s,a=gn(n),c=a.R(e);Dn(a)&&(a=Nh),o=o.add(a),t=ia(t,c)}return new _s(o,t)}z.gb=function(t){return sa(this,t).h};z.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&t.D(s);return new Ce(n,this.h&t.h)};z.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|t.D(s);return new Ce(n,this.h|t.h)};z.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^t.D(s);return new Ce(n,this.h^t.h)};function _g(t){for(var e=t.g.length+1,n=[],s=0;s<e;s++)n[s]=t.D(s)<<1|t.D(s-1)>>>31;return new Ce(n,t.h)}function pi(t,e){var n=e>>5;e%=32;for(var s=t.g.length-n,o=[],a=0;a<s;a++)o[a]=0<e?t.D(a+n)>>>e|t.D(a+n+1)<<32-e:t.D(a+n);return new Ce(o,t.h)}ra.prototype.createWebChannel=ra.prototype.g;zt.prototype.send=zt.prototype.u;zt.prototype.open=zt.prototype.m;zt.prototype.close=zt.prototype.close;xa.NO_ERROR=0;xa.TIMEOUT=8;xa.HTTP_ERROR=6;iv.COMPLETE="complete";sv.EventType=ao;ao.OPEN="a";ao.CLOSE="b";ao.ERROR="c";ao.MESSAGE="d";et.prototype.listen=et.prototype.O;Ue.prototype.listenOnce=Ue.prototype.P;Ue.prototype.getLastError=Ue.prototype.Sa;Ue.prototype.getLastErrorCode=Ue.prototype.Ia;Ue.prototype.getStatus=Ue.prototype.da;Ue.prototype.getResponseJson=Ue.prototype.Wa;Ue.prototype.getResponseText=Ue.prototype.ja;Ue.prototype.send=Ue.prototype.ha;Ue.prototype.setWithCredentials=Ue.prototype.Oa;sn.prototype.digest=sn.prototype.l;sn.prototype.reset=sn.prototype.reset;sn.prototype.update=sn.prototype.j;Ce.prototype.add=Ce.prototype.add;Ce.prototype.multiply=Ce.prototype.R;Ce.prototype.modulo=Ce.prototype.gb;Ce.prototype.compare=Ce.prototype.X;Ce.prototype.toNumber=Ce.prototype.ea;Ce.prototype.toString=Ce.prototype.toString;Ce.prototype.getBits=Ce.prototype.D;Ce.fromNumber=gn;Ce.fromString=zv;var Vx=function(){return new ra},zx=function(){return Ca()},th=xa,$x=iv,Bx=zr,Ng={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},bx=ho,Ul=sv,Hx=Ue,qx=sn,Ei=Ce;const Dg="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dt.UNAUTHENTICATED=new dt(null),dt.GOOGLE_CREDENTIALS=new dt("google-credentials-uid"),dt.FIRST_PARTY=new dt("first-party-uid"),dt.MOCK_USER=new dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mi="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new Oy("@firebase/firestore");function Ag(){return Fr.logLevel}function Y(t,...e){if(Fr.logLevel<=we.DEBUG){const n=e.map(mf);Fr.debug(`Firestore (${Mi}): ${t}`,...n)}}function On(t,...e){if(Fr.logLevel<=we.ERROR){const n=e.map(mf);Fr.error(`Firestore (${Mi}): ${t}`,...n)}}function ki(t,...e){if(Fr.logLevel<=we.WARN){const n=e.map(mf);Fr.warn(`Firestore (${Mi}): ${t}`,...n)}}function mf(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(t="Unexpected state"){const e=`FIRESTORE (${Mi}) INTERNAL ASSERTION FAILED: `+t;throw On(e),new Error(e)}function De(t,e){t||re()}function le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class b extends Ri{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Kx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(dt.UNAUTHENTICATED))}shutdown(){}}class Wx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Qx{constructor(e){this.t=e,this.currentUser=dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let a=new An;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new An,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=a;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.auth.addAuthTokenListener(this.o),c()};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new An)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(De(typeof s.accessToken=="string"),new $v(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string"),new dt(e)}}class Gx{constructor(e,n,s){this.h=e,this.l=n,this.m=s,this.type="FirstParty",this.user=dt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Yx{constructor(e,n,s){this.h=e,this.l=n,this.m=s}getToken(){return Promise.resolve(new Gx(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jx{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const s=a=>{a.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.T;return this.T=a.token,Y("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>s(a))};const o=a=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?o(a):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string"),this.T=n.token,new Xx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=Zx(40);for(let a=0;a<o.length;++a)s.length<20&&o[a]<n&&(s+=e.charAt(o[a]%e.length))}return s}}function ve(t,e){return t<e?-1:t>e?1:0}function Ti(t,e,n){return t.length===e.length&&t.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new b(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new b(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new b(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new b(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new Ge(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new oe(e)}static min(){return new oe(new Ge(0,0))}static max(){return new oe(new Ge(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n,s){n===void 0?n=0:n>e.length&&re(),s===void 0?s=e.length-n:s>e.length-n&&re(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Zs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zs?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const a=e.get(o),c=n.get(o);if(a<c)return-1;if(a>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ne extends Zs{construct(e,n,s){return new Ne(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new b(D.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new Ne(n)}static emptyPath(){return new Ne([])}}const ek=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mt extends Zs{construct(e,n,s){return new mt(e,n,s)}static isValidIdentifier(e){return ek.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new mt(["__name__"])}static fromServerFormat(e){const n=[];let s="",o=0;const a=()=>{if(s.length===0)throw new b(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new b(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new b(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(s+=d,o++):(a(),o++)}if(a(),c)throw new b(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mt(n)}static emptyPath(){return new mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.path=e}static fromPath(e){return new X(Ne.fromString(e))}static fromName(e){return new X(Ne.fromString(e).popFirst(5))}static empty(){return new X(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new X(new Ne(e.slice()))}}function tk(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,o=oe.fromTimestamp(s===1e9?new Ge(n+1,0):new Ge(n,s));return new ur(o,X.empty(),e)}function nk(t){return new ur(t.readTime,t.key,-1)}class ur{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ur(oe.min(),X.empty(),-1)}static max(){return new ur(oe.max(),X.empty(),-1)}}function rk(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=X.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(t){if(t.code!==D.FAILED_PRECONDITION||t.message!==ik)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((s,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(s,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,s)=>{n(e)})}static reject(e){return new M((n,s)=>{s(e)})}static waitFor(e){return new M((n,s)=>{let o=0,a=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++a,c&&a===o&&n()},p=>s(p))}),c=!0,a===o&&n()})}static or(e){let n=M.resolve(!1);for(const s of e)n=n.next(o=>o?M.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,a)=>{s.push(n.call(this,o,a))}),this.waitFor(s)}static mapArray(e,n){return new M((s,o)=>{const a=e.length,c=new Array(a);let d=0;for(let p=0;p<a;p++){const g=p;n(e[g]).next(y=>{c[g]=y,++d,d===a&&s(c)},y=>o(y))}})}static doWhile(e,n){return new M((s,o)=>{const a=()=>{e()===!0?n().next(()=>{a()},o):s()};a()})}}function go(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>n.writeSequenceNumber(s))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}gf.ct=-1;function Pa(t){return t==null}function oa(t){return t===0&&1/t==-1/0}function ok(t){return typeof t=="number"&&Number.isInteger(t)&&!oa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $r(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function bv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,n){this.comparator=e,this.root=n||st.EMPTY}insert(e,n){return new Me(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,st.BLACK,null,null))}remove(e){return new Me(this.comparator,this.root.remove(e,this.comparator).copy(null,null,st.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vl(this.root,e,this.comparator,!0)}}class Vl{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?s(e.key,n):1,n&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class st{constructor(e,n,s,o,a){this.key=e,this.value=n,this.color=s??st.RED,this.left=o??st.EMPTY,this.right=a??st.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,a){return new st(e??this.key,n??this.value,s??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const a=s(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,n,s),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return st.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return st.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,st.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,st.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw re();const e=this.left.check();if(e!==this.right.check())throw re();return e+(this.isRed()?0:1)}}st.EMPTY=null,st.RED=!0,st.BLACK=!1;st.EMPTY=new class{constructor(){this.size=0}get key(){throw re()}get value(){throw re()}get color(){throw re()}get left(){throw re()}get right(){throw re()}copy(t,e,n,s,o){return this}insert(t,e,n){return new st(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.comparator=e,this.data=new Me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Rg(this.data.getIterator())}getIteratorFrom(e){return new Rg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=s.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vt(this.comparator);return n.data=e,n}}class Rg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.fields=e,e.sort(mt.comparator)}static empty(){return new Vt([])}unionWith(e){let n=new vt(mt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Vt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ti(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Hv("Invalid base64 string: "+o):o}}(e);return new wt(n)}static fromUint8Array(e){const n=function(s){let o="";for(let a=0;a<s.length;++a)o+=String.fromCharCode(s[a]);return o}(e);return new wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wt.EMPTY_BYTE_STRING=new wt("");const lk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cr(t){if(De(!!t),typeof t=="string"){let e=0;const n=lk.exec(t);if(De(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:be(t.seconds),nanos:be(t.nanos)}}function be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function jr(t){return typeof t=="string"?wt.fromBase64String(t):wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function vf(t){const e=t.mapValue.fields.__previous_value__;return yf(e)?vf(e):e}function eo(t){const e=cr(t.mapValue.fields.__local_write_time__.timestampValue);return new Ge(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,n,s,o,a,c,d,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}class to{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new to("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof to&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl={mapValue:{}};function Ur(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yf(t)?4:uk(t)?9007199254740991:10:re()}function vn(t,e){if(t===e)return!0;const n=Ur(t);if(n!==Ur(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return eo(t).isEqual(eo(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const a=cr(s.timestampValue),c=cr(o.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return jr(s.bytesValue).isEqual(jr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return be(s.geoPointValue.latitude)===be(o.geoPointValue.latitude)&&be(s.geoPointValue.longitude)===be(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return be(s.integerValue)===be(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const a=be(s.doubleValue),c=be(o.doubleValue);return a===c?oa(a)===oa(c):isNaN(a)&&isNaN(c)}return!1}(t,e);case 9:return Ti(t.arrayValue.values||[],e.arrayValue.values||[],vn);case 10:return function(s,o){const a=s.mapValue.fields||{},c=o.mapValue.fields||{};if(Pg(a)!==Pg(c))return!1;for(const d in a)if(a.hasOwnProperty(d)&&(c[d]===void 0||!vn(a[d],c[d])))return!1;return!0}(t,e);default:return re()}}function no(t,e){return(t.values||[]).find(n=>vn(n,e))!==void 0}function Ii(t,e){if(t===e)return 0;const n=Ur(t),s=Ur(e);if(n!==s)return ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(o,a){const c=be(o.integerValue||o.doubleValue),d=be(a.integerValue||a.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return Lg(t.timestampValue,e.timestampValue);case 4:return Lg(eo(t),eo(e));case 5:return ve(t.stringValue,e.stringValue);case 6:return function(o,a){const c=jr(o),d=jr(a);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const c=o.split("/"),d=a.split("/");for(let p=0;p<c.length&&p<d.length;p++){const g=ve(c[p],d[p]);if(g!==0)return g}return ve(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const c=ve(be(o.latitude),be(a.latitude));return c!==0?c:ve(be(o.longitude),be(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,a){const c=o.values||[],d=a.values||[];for(let p=0;p<c.length&&p<d.length;++p){const g=Ii(c[p],d[p]);if(g)return g}return ve(c.length,d.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,a){if(o===zl.mapValue&&a===zl.mapValue)return 0;if(o===zl.mapValue)return 1;if(a===zl.mapValue)return-1;const c=o.fields||{},d=Object.keys(c),p=a.fields||{},g=Object.keys(p);d.sort(),g.sort();for(let y=0;y<d.length&&y<g.length;++y){const w=ve(d[y],g[y]);if(w!==0)return w;const T=Ii(c[d[y]],p[g[y]]);if(T!==0)return T}return ve(d.length,g.length)}(t.mapValue,e.mapValue);default:throw re()}}function Lg(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);const n=cr(t),s=cr(e),o=ve(n.seconds,s.seconds);return o!==0?o:ve(n.nanos,s.nanos)}function _i(t){return Dh(t)}function Dh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(s){const o=cr(s);return`time(${o.seconds},${o.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?jr(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,X.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(s){let o="[",a=!0;for(const c of s.values||[])a?a=!1:o+=",",o+=Dh(c);return o+"]"}(t.arrayValue):"mapValue"in t?function(s){const o=Object.keys(s.fields||{}).sort();let a="{",c=!0;for(const d of o)c?c=!1:a+=",",a+=`${d}:${Dh(s.fields[d])}`;return a+"}"}(t.mapValue):re();var e,n}function Og(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ah(t){return!!t&&"integerValue"in t}function wf(t){return!!t&&"arrayValue"in t}function Mg(t){return!!t&&"nullValue"in t}function Fg(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hl(t){return!!t&&"mapValue"in t}function js(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return $r(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=js(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=js(t.arrayValue.values[n]);return e}return Object.assign({},t)}function uk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.value=e}static empty(){return new Pt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Hl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=js(n)}setAll(e){let n=mt.emptyPath(),s={},o=[];e.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=d.popLast()}c?s[d.lastSegment()]=js(c):o.push(d.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,s,o)}delete(e){const n=this.field(e.popLast());Hl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Hl(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){$r(n,(o,a)=>e[o]=a);for(const o of s)delete e[o]}clone(){return new Pt(js(this.value))}}function qv(t){const e=[];return $r(t.fields,(n,s)=>{const o=new mt([n]);if(Hl(s)){const a=qv(s.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)}),new Vt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n,s,o,a,c,d){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=a,this.data=c,this.documentState=d}static newInvalidDocument(e){return new pt(e,0,oe.min(),oe.min(),oe.min(),Pt.empty(),0)}static newFoundDocument(e,n,s,o){return new pt(e,1,n,oe.min(),s,o,0)}static newNoDocument(e,n){return new pt(e,2,n,oe.min(),oe.min(),Pt.empty(),0)}static newUnknownDocument(e,n){return new pt(e,3,n,oe.min(),oe.min(),Pt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n){this.position=e,this.inclusive=n}}function jg(t,e,n){let s=0;for(let o=0;o<t.position.length;o++){const a=e[o],c=t.position[o];if(a.field.isKeyField()?s=X.comparator(X.fromName(c.referenceValue),n.key):s=Ii(c,n.data.field(a.field)),a.dir==="desc"&&(s*=-1),s!==0)break}return s}function Ug(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n="asc"){this.field=e,this.dir=n}}function ck(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{}class He extends Kv{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new fk(e,n,s):n==="array-contains"?new mk(e,s):n==="in"?new gk(e,s):n==="not-in"?new yk(e,s):n==="array-contains-any"?new vk(e,s):new He(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new dk(e,s):new pk(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ii(n,this.value)):n!==null&&Ur(this.value)===Ur(n)&&this.matchesComparison(Ii(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class on extends Kv{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new on(e,n)}matches(e){return Wv(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Wv(t){return t.op==="and"}function Qv(t){return hk(t)&&Wv(t)}function hk(t){for(const e of t.filters)if(e instanceof on)return!1;return!0}function Ph(t){if(t instanceof He)return t.field.canonicalString()+t.op.toString()+_i(t.value);if(Qv(t))return t.filters.map(e=>Ph(e)).join(",");{const e=t.filters.map(n=>Ph(n)).join(",");return`${t.op}(${e})`}}function Gv(t,e){return t instanceof He?function(n,s){return s instanceof He&&n.op===s.op&&n.field.isEqual(s.field)&&vn(n.value,s.value)}(t,e):t instanceof on?function(n,s){return s instanceof on&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((o,a,c)=>o&&Gv(a,s.filters[c]),!0):!1}(t,e):void re()}function Yv(t){return t instanceof He?function(e){return`${e.field.canonicalString()} ${e.op} ${_i(e.value)}`}(t):t instanceof on?function(e){return e.op.toString()+" {"+e.getFilters().map(Yv).join(" ,")+"}"}(t):"Filter"}class fk extends He{constructor(e,n,s){super(e,n,s),this.key=X.fromName(s.referenceValue)}matches(e){const n=X.comparator(e.key,this.key);return this.matchesComparison(n)}}class dk extends He{constructor(e,n){super(e,"in",n),this.keys=Xv("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class pk extends He{constructor(e,n){super(e,"not-in",n),this.keys=Xv("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Xv(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>X.fromName(s.referenceValue))}class mk extends He{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wf(n)&&no(n.arrayValue,this.value)}}class gk extends He{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&no(this.value.arrayValue,n)}}class yk extends He{constructor(e,n){super(e,"not-in",n)}matches(e){if(no(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!no(this.value.arrayValue,n)}}class vk extends He{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>no(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,n=null,s=[],o=[],a=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=a,this.startAt=c,this.endAt=d,this.dt=null}}function Vg(t,e=null,n=[],s=[],o=null,a=null,c=null){return new wk(t,e,n,s,o,a,c)}function Ef(t){const e=le(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Ph(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(o){return o.field.canonicalString()+o.dir}(s)).join(","),Pa(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>_i(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>_i(s)).join(",")),e.dt=n}return e.dt}function Sf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ck(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Gv(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ug(t.startAt,e.startAt)&&Ug(t.endAt,e.endAt)}function Rh(t){return X.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n=null,s=[],o=[],a=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=a,this.limitType=c,this.startAt=d,this.endAt=p,this.wt=null,this._t=null,this.startAt,this.endAt}}function Ek(t,e,n,s,o,a,c,d){return new yo(t,e,n,s,o,a,c,d)}function Cf(t){return new yo(t)}function zg(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Jv(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function xf(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function Zv(t){return t.collectionGroup!==null}function Si(t){const e=le(t);if(e.wt===null){e.wt=[];const n=xf(e),s=Jv(e);if(n!==null&&s===null)n.isKeyField()||e.wt.push(new Us(n)),e.wt.push(new Us(mt.keyField(),"asc"));else{let o=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(o=!0);if(!o){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Us(mt.keyField(),a))}}}return e.wt}function Mn(t){const e=le(t);if(!e._t)if(e.limitType==="F")e._t=Vg(e.path,e.collectionGroup,Si(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const a of Si(e)){const c=a.dir==="desc"?"asc":"desc";n.push(new Us(a.field,c))}const s=e.endAt?new la(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new la(e.startAt.position,e.startAt.inclusive):null;e._t=Vg(e.path,e.collectionGroup,n,e.filters,e.limit,s,o)}return e._t}function Lh(t,e){e.getFirstInequalityField(),xf(t);const n=t.filters.concat([e]);return new yo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Oh(t,e,n){return new yo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ra(t,e){return Sf(Mn(t),Mn(e))&&t.limitType===e.limitType}function ew(t){return`${Ef(Mn(t))}|lt:${t.limitType}`}function Mh(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(s=>Yv(s)).join(", ")}]`),Pa(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>_i(s)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>_i(s)).join(",")),`Target(${n})`}(Mn(t))}; limitType=${t.limitType})`}function La(t,e){return e.isFoundDocument()&&function(n,s){const o=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):X.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(t,e)&&function(n,s){for(const o of Si(n))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const o of n.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(o,a,c){const d=jg(o,a,c);return o.inclusive?d<=0:d<0}(n.startAt,Si(n),s)||n.endAt&&!function(o,a,c){const d=jg(o,a,c);return o.inclusive?d>=0:d>0}(n.endAt,Si(n),s))}(t,e)}function Sk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function tw(t){return(e,n)=>{let s=!1;for(const o of Si(t)){const a=Ck(o,e,n);if(a!==0)return a;s=s||o.field.isKeyField()}return 0}}function Ck(t,e,n){const s=t.field.isKeyField()?X.comparator(e.key,n.key):function(o,a,c){const d=a.data.field(o),p=c.data.field(o);return d!==null&&p!==null?Ii(d,p):re()}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,a]of s)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){$r(this.inner,(n,s)=>{for(const[o,a]of s)e(o,a)})}isEmpty(){return bv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk=new Me(X.comparator);function Fn(){return xk}const nw=new Me(X.comparator);function Rs(...t){let e=nw;for(const n of t)e=e.insert(n.key,n);return e}function rw(t){let e=nw;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Lr(){return Vs()}function iw(){return Vs()}function Vs(){return new Fi(t=>t.toString(),(t,e)=>t.isEqual(e))}const kk=new Me(X.comparator),Tk=new vt(X.comparator);function fe(...t){let e=Tk;for(const n of t)e=e.add(n);return e}const Ik=new vt(ve);function _k(){return Ik}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oa(e)?"-0":e}}function ow(t){return{integerValue:""+t}}function lw(t,e){return ok(e)?ow(e):sw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(){this._=void 0}}function Nk(t,e,n){return t instanceof aa?function(s,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&yf(o)&&(o=vf(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof ro?uw(t,e):t instanceof io?cw(t,e):function(s,o){const a=aw(s,o),c=$g(a)+$g(s.gt);return Ah(a)&&Ah(s.gt)?ow(c):sw(s.serializer,c)}(t,e)}function Dk(t,e,n){return t instanceof ro?uw(t,e):t instanceof io?cw(t,e):n}function aw(t,e){return t instanceof so?Ah(n=e)||function(s){return!!s&&"doubleValue"in s}(n)?e:{integerValue:0}:null;var n}class aa extends Oa{}class ro extends Oa{constructor(e){super(),this.elements=e}}function uw(t,e){const n=hw(e);for(const s of t.elements)n.some(o=>vn(o,s))||n.push(s);return{arrayValue:{values:n}}}class io extends Oa{constructor(e){super(),this.elements=e}}function cw(t,e){let n=hw(e);for(const s of t.elements)n=n.filter(o=>!vn(o,s));return{arrayValue:{values:n}}}class so extends Oa{constructor(e,n){super(),this.serializer=e,this.gt=n}}function $g(t){return be(t.integerValue||t.doubleValue)}function hw(t){return wf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,n){this.field=e,this.transform=n}}function Pk(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof ro&&s instanceof ro||n instanceof io&&s instanceof io?Ti(n.elements,s.elements,vn):n instanceof so&&s instanceof so?vn(n.gt,s.gt):n instanceof aa&&s instanceof aa}(t.transform,e.transform)}class Rk{constructor(e,n){this.version=e,this.transformResults=n}}class rn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rn}static exists(e){return new rn(void 0,e)}static updateTime(e){return new rn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ql(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ma{}function fw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new kf(t.key,rn.none()):new vo(t.key,t.data,rn.none());{const n=t.data,s=Pt.empty();let o=new vt(mt.comparator);for(let a of e.fields)if(!o.has(a)){let c=n.field(a);c===null&&a.length>1&&(a=a.popLast(),c=n.field(a)),c===null?s.delete(a):s.set(a,c),o=o.add(a)}return new mr(t.key,s,new Vt(o.toArray()),rn.none())}}function Lk(t,e,n){t instanceof vo?function(s,o,a){const c=s.value.clone(),d=bg(s.fieldTransforms,o,a.transformResults);c.setAll(d),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):t instanceof mr?function(s,o,a){if(!ql(s.precondition,o))return void o.convertToUnknownDocument(a.version);const c=bg(s.fieldTransforms,o,a.transformResults),d=o.data;d.setAll(dw(s)),d.setAll(c),o.convertToFoundDocument(a.version,d).setHasCommittedMutations()}(t,e,n):function(s,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function zs(t,e,n,s){return t instanceof vo?function(o,a,c,d){if(!ql(o.precondition,a))return c;const p=o.value.clone(),g=Hg(o.fieldTransforms,d,a);return p.setAll(g),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),null}(t,e,n,s):t instanceof mr?function(o,a,c,d){if(!ql(o.precondition,a))return c;const p=Hg(o.fieldTransforms,d,a),g=a.data;return g.setAll(dw(o)),g.setAll(p),a.convertToFoundDocument(a.version,g).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(t,e,n,s):function(o,a,c){return ql(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(t,e,n)}function Ok(t,e){let n=null;for(const s of t.fieldTransforms){const o=e.data.field(s.field),a=aw(s.transform,o||null);a!=null&&(n===null&&(n=Pt.empty()),n.set(s.field,a))}return n||null}function Bg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Ti(n,s,(o,a)=>Pk(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class vo extends Ma{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class mr extends Ma{constructor(e,n,s,o,a=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function dw(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function bg(t,e,n){const s=new Map;De(t.length===n.length);for(let o=0;o<n.length;o++){const a=t[o],c=a.transform,d=e.data.field(a.field);s.set(a.field,Dk(c,d,n[o]))}return s}function Hg(t,e,n){const s=new Map;for(const o of t){const a=o.transform,c=n.data.field(o.field);s.set(o.field,Nk(a,c,e))}return s}class kf extends Ma{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Mk extends Ma{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&Lk(a,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=zs(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=zs(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=iw();return this.mutations.forEach(o=>{const a=e.get(o.key),c=a.overlayedDocument;let d=this.applyToLocalView(c,a.mutatedFields);d=n.has(o.key)?null:d;const p=fw(c,d);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(oe.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&Ti(this.mutations,e.mutations,(n,s)=>Bg(n,s))&&Ti(this.baseMutations,e.baseMutations,(n,s)=>Bg(n,s))}}class Tf{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){De(e.mutations.length===s.length);let o=kk;const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,s[c].version);return new Tf(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be,de;function Vk(t){switch(t){default:return re();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function pw(t){if(t===void 0)return On("GRPC error has no .code"),D.UNKNOWN;switch(t){case Be.OK:return D.OK;case Be.CANCELLED:return D.CANCELLED;case Be.UNKNOWN:return D.UNKNOWN;case Be.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Be.INTERNAL:return D.INTERNAL;case Be.UNAVAILABLE:return D.UNAVAILABLE;case Be.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Be.NOT_FOUND:return D.NOT_FOUND;case Be.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Be.ABORTED:return D.ABORTED;case Be.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Be.DATA_LOSS:return D.DATA_LOSS;default:return re()}}(de=Be||(Be={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return $l}static getOrCreateInstance(){return $l===null&&($l=new If),$l}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let $l=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=new Ei([4294967295,4294967295],0);function qg(t){const e=zk().encode(t),n=new qx;return n.update(e),new Uint8Array(n.digest())}function Kg(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ei([n,s],0),new Ei([o,a],0)]}class _f{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ls(`Invalid padding: ${n}`);if(s<0)throw new Ls(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ls(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ls(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Ei.fromNumber(this.It)}Et(e,n,s){let o=e.add(n.multiply(Ei.fromNumber(s)));return o.compare($k)===1&&(o=new Ei([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=qg(e),[s,o]=Kg(n);for(let a=0;a<this.hashCount;a++){const c=this.Et(s,o,a);if(!this.At(c))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new _f(a,o,n);return s.forEach(d=>c.insert(d)),c}insert(e){if(this.It===0)return;const n=qg(e),[s,o]=Kg(n);for(let a=0;a<this.hashCount;a++){const c=this.Et(s,o,a);this.Rt(c)}}Rt(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ls extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n,s,o,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,wo.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Fa(oe.min(),o,new Me(ve),Fn(),fe())}}class wo{constructor(e,n,s,o,a){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new wo(s,n,fe(),fe(),fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n,s,o){this.Pt=e,this.removedTargetIds=n,this.key=s,this.bt=o}}class mw{constructor(e,n){this.targetId=e,this.Vt=n}}class gw{constructor(e,n,s=wt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Wg{constructor(){this.St=0,this.Dt=Gg(),this.Ct=wt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=fe(),n=fe(),s=fe();return this.Dt.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:re()}}),new wo(this.Ct,this.xt,e,n,s)}Ft(){this.Nt=!1,this.Dt=Gg()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Bk{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Fn(),this.zt=Qg(),this.Wt=new Me(ve)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const s=this.Zt(n);switch(e.state){case 0:this.te(n)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(n);break;case 3:this.te(n)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),s.$t(e.resumeToken));break;default:re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((s,o)=>{this.te(o)&&n(o)})}ne(e){var n;const s=e.targetId,o=e.Vt.count,a=this.se(s);if(a){const c=a.target;if(Rh(c))if(o===0){const d=new X(c.path);this.Yt(s,d,pt.newNoDocument(d,oe.min()))}else De(o===1);else{const d=this.ie(s);if(d!==o){const p=this.re(e,d);if(p!==0){this.ee(s);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(s,g)}(n=If.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(g,y,w){var T,N,U,F,A,G;const ne={localCacheCount:y,existenceFilterCount:w.count},ie=w.unchangedNames;return ie&&(ne.bloomFilter={applied:g===0,hashCount:(T=ie==null?void 0:ie.hashCount)!==null&&T!==void 0?T:0,bitmapLength:(F=(U=(N=ie==null?void 0:ie.bits)===null||N===void 0?void 0:N.bitmap)===null||U===void 0?void 0:U.length)!==null&&F!==void 0?F:0,padding:(G=(A=ie==null?void 0:ie.bits)===null||A===void 0?void 0:A.padding)!==null&&G!==void 0?G:0}),ne}(p,d,e.Vt))}}}}re(e,n){const{unchangedNames:s,count:o}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:a="",padding:c=0},hashCount:d=0}=s;let p,g;try{p=jr(a).toUint8Array()}catch(y){if(y instanceof Hv)return ki("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw y}try{g=new _f(p,c,d)}catch(y){return ki(y instanceof Ls?"BloomFilter error: ":"Applying bloom filter failed: ",y),1}return g.It===0?1:o!==n-this.oe(e.targetId,g)?2:0}oe(e,n){const s=this.Gt.getRemoteKeysForTarget(e);let o=0;return s.forEach(a=>{const c=this.Gt.ue(),d=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;n.vt(d)||(this.Yt(e,a,null),o++)}),o}ce(e){const n=new Map;this.Qt.forEach((a,c)=>{const d=this.se(c);if(d){if(a.current&&Rh(d.target)){const p=new X(d.target.path);this.jt.get(p)!==null||this.ae(c,p)||this.Yt(c,p,pt.newNoDocument(p,e))}a.Mt&&(n.set(c,a.Ot()),a.Ft())}});let s=fe();this.zt.forEach((a,c)=>{let d=!0;c.forEachWhile(p=>{const g=this.se(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(a))}),this.jt.forEach((a,c)=>c.setReadTime(e));const o=new Fa(e,n,this.Wt,this.jt,s);return this.jt=Fn(),this.zt=Qg(),this.Wt=new Me(ve),o}Jt(e,n){if(!this.te(e))return;const s=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,s),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,s){if(!this.te(e))return;const o=this.Zt(e);this.ae(e,n)?o.Bt(n,1):o.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),s&&(this.jt=this.jt.insert(n,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Wg,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new vt(ve),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Wg),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Qg(){return new Me(X.comparator)}function Gg(){return new Me(X.comparator)}const bk={asc:"ASCENDING",desc:"DESCENDING"},Hk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qk={and:"AND",or:"OR"};class Kk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Fh(t,e){return t.useProto3Json||Pa(e)?e:{value:e}}function ua(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Wk(t,e){return ua(t,e.toTimestamp())}function yn(t){return De(!!t),oe.fromTimestamp(function(e){const n=cr(e);return new Ge(n.seconds,n.nanos)}(t))}function Nf(t,e){return function(n){return new Ne(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function vw(t){const e=Ne.fromString(t);return De(Cw(e)),e}function jh(t,e){return Nf(t.databaseId,e.path)}function nh(t,e){const n=vw(e);if(n.get(1)!==t.databaseId.projectId)throw new b(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new b(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new X(ww(n))}function Uh(t,e){return Nf(t.databaseId,e)}function Qk(t){const e=vw(t);return e.length===4?Ne.emptyPath():ww(e)}function Vh(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ww(t){return De(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Yg(t,e,n){return{name:jh(t,e),fields:n.value.mapValue.fields}}function Gk(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:re()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(De(g===void 0||typeof g=="string"),wt.fromBase64String(g||"")):(De(g===void 0||g instanceof Uint8Array),wt.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(p){const g=p.code===void 0?D.UNKNOWN:pw(p.code);return new b(g,p.message||"")}(c);n=new gw(s,o,a,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=nh(t,s.document.name),a=yn(s.document.updateTime),c=s.document.createTime?yn(s.document.createTime):oe.min(),d=new Pt({mapValue:{fields:s.document.fields}}),p=pt.newFoundDocument(o,a,c,d),g=s.targetIds||[],y=s.removedTargetIds||[];n=new Kl(g,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=nh(t,s.document),a=s.readTime?yn(s.readTime):oe.min(),c=pt.newNoDocument(o,a),d=s.removedTargetIds||[];n=new Kl([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=nh(t,s.document),a=s.removedTargetIds||[];n=new Kl([],a,o,null)}else{if(!("filter"in e))return re();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:a}=s,c=new Uk(o,a),d=s.targetId;n=new mw(d,c)}}return n}function Yk(t,e){let n;if(e instanceof vo)n={update:Yg(t,e.key,e.value)};else if(e instanceof kf)n={delete:jh(t,e.key)};else if(e instanceof mr)n={update:Yg(t,e.key,e.data),updateMask:sT(e.fieldMask)};else{if(!(e instanceof Mk))return re();n={verify:jh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(o,a){const c=a.transform;if(c instanceof aa)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof ro)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof io)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof so)return{fieldPath:a.field.canonicalString(),increment:c.gt};throw re()}(0,s))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:Wk(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:re()}(t,e.precondition)),n}function Xk(t,e){return t&&t.length>0?(De(e!==void 0),t.map(n=>function(s,o){let a=s.updateTime?yn(s.updateTime):yn(o);return a.isEqual(oe.min())&&(a=yn(o)),new Rk(a,s.transformResults||[])}(n,e))):[]}function Jk(t,e){return{documents:[Uh(t,e.path)]}}function Zk(t,e){const n={structuredQuery:{}},s=e.path;e.collectionGroup!==null?(n.parent=Uh(t,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Uh(t,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const o=function(p){if(p.length!==0)return Sw(on.create(p,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(p){if(p.length!==0)return p.map(g=>function(y){return{field:mi(y.field),direction:nT(y.dir)}}(g))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const c=Fh(t,e.limit);var d;return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt={before:(d=e.startAt).inclusive,values:d.position}),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),n}function eT(t){let e=Qk(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){De(s===1);const y=n.from[0];y.allDescendants?o=y.collectionId:e=e.child(y.collectionId)}let a=[];n.where&&(a=function(y){const w=Ew(y);return w instanceof on&&Qv(w)?w.getFilters():[w]}(n.where));let c=[];n.orderBy&&(c=n.orderBy.map(y=>function(w){return new Us(gi(w.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(y)));let d=null;n.limit&&(d=function(y){let w;return w=typeof y=="object"?y.value:y,Pa(w)?null:w}(n.limit));let p=null;n.startAt&&(p=function(y){const w=!!y.before,T=y.values||[];return new la(T,w)}(n.startAt));let g=null;return n.endAt&&(g=function(y){const w=!y.before,T=y.values||[];return new la(T,w)}(n.endAt)),Ek(e,o,c,a,d,"F",p,g)}function tT(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ew(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=gi(e.unaryFilter.field);return He.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=gi(e.unaryFilter.field);return He.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=gi(e.unaryFilter.field);return He.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=gi(e.unaryFilter.field);return He.create(a,"!=",{nullValue:"NULL_VALUE"});default:return re()}}(t):t.fieldFilter!==void 0?function(e){return He.create(gi(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return re()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return on.create(e.compositeFilter.filters.map(n=>Ew(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return re()}}(e.compositeFilter.op))}(t):re()}function nT(t){return bk[t]}function rT(t){return Hk[t]}function iT(t){return qk[t]}function mi(t){return{fieldPath:t.canonicalString()}}function gi(t){return mt.fromServerFormat(t.fieldPath)}function Sw(t){return t instanceof He?function(e){if(e.op==="=="){if(Fg(e.value))return{unaryFilter:{field:mi(e.field),op:"IS_NAN"}};if(Mg(e.value))return{unaryFilter:{field:mi(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Fg(e.value))return{unaryFilter:{field:mi(e.field),op:"IS_NOT_NAN"}};if(Mg(e.value))return{unaryFilter:{field:mi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mi(e.field),op:rT(e.op),value:e.value}}}(t):t instanceof on?function(e){const n=e.getFilters().map(s=>Sw(s));return n.length===1?n[0]:{compositeFilter:{op:iT(e.op),filters:n}}}(t):re()}function sT(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Cw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,n,s,o,a=oe.min(),c=oe.min(),d=wt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new ir(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e){this.fe=e}}function lT(t){const e=eT({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Oh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(){this.rn=new uT}addToCollectionParentIndex(e,n){return this.rn.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(ur.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(ur.min())}updateCollectionGroup(e,n,s){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class uT{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new vt(Ne.comparator),a=!o.has(s);return this.index[n]=o.add(s),a}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new vt(Ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ni(0)}static Mn(){return new Ni(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(){this.changes=new Fi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?M.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&zs(s.mutation,o,Vt.empty(),Ge.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,fe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=fe()){const o=Lr();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(a=>{let c=Rs();return a.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const s=Lr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,fe()))}populateOverlays(e,n,s){const o=[];return s.forEach(a=>{n.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((c,d)=>{n.set(c,d)})})}computeViews(e,n,s,o){let a=Fn();const c=Vs(),d=Vs();return n.forEach((p,g)=>{const y=s.get(g.key);o.has(g.key)&&(y===void 0||y.mutation instanceof mr)?a=a.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),zs(y.mutation,g,y.mutation.getFieldMask(),Ge.now())):c.set(g.key,Vt.empty())}),this.recalculateAndSaveOverlays(e,a).next(p=>(p.forEach((g,y)=>c.set(g,y)),n.forEach((g,y)=>{var w;return d.set(g,new hT(y,(w=c.get(g))!==null&&w!==void 0?w:null))}),d))}recalculateAndSaveOverlays(e,n){const s=Vs();let o=new Me((c,d)=>c-d),a=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const d of c)d.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let y=s.get(p)||Vt.empty();y=d.applyToLocalView(g,y),s.set(p,y);const w=(o.get(d.batchId)||fe()).add(p);o=o.insert(d.batchId,w)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,y=p.value,w=iw();y.forEach(T=>{if(!a.has(T)){const N=fw(n.get(T),s.get(T));N!==null&&w.set(T,N),a=a.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,w))}return M.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s){return function(o){return X.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Zv(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s):this.getDocumentsMatchingCollectionQuery(e,n,s)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-a.size):M.resolve(Lr());let d=-1,p=a;return c.next(g=>M.forEach(g,(y,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),a.get(y)?M.resolve():this.remoteDocumentCache.getEntry(e,y).next(T=>{p=p.insert(y,T)}))).next(()=>this.populateOverlays(e,g,a)).next(()=>this.computeViews(e,p,g,fe())).next(y=>({batchId:d,changes:rw(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new X(n)).next(s=>{let o=Rs();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s){const o=n.collectionGroup;let a=Rs();return this.indexManager.getCollectionParents(e,o).next(c=>M.forEach(c,d=>{const p=function(g,y){return new yo(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,s).next(g=>{g.forEach((y,w)=>{a=a.insert(y,w)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,o))).next(a=>{o.forEach((d,p)=>{const g=p.getKey();a.get(g)===null&&(a=a.insert(g,pt.newInvalidDocument(g)))});let c=Rs();return a.forEach((d,p)=>{const g=o.get(d);g!==void 0&&zs(g.mutation,p,Vt.empty(),Ge.now()),La(n,p)&&(c=c.insert(d,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return M.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var s;return this.cs.set(n.id,{id:(s=n).id,version:s.version,createTime:yn(s.createTime)}),M.resolve()}getNamedQuery(e,n){return M.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(s){return{name:s.name,query:lT(s.bundledQuery),readTime:yn(s.readTime)}}(n)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(){this.overlays=new Me(X.comparator),this.ls=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Lr();return M.forEach(n,o=>this.getOverlay(e,o).next(a=>{a!==null&&s.set(o,a)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,a)=>{this.we(e,n,a)}),M.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.ls.get(s);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(s)),M.resolve()}getOverlaysForCollection(e,n,s){const o=Lr(),a=n.length+1,c=new X(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===a&&p.largestBatchId>s&&o.set(p.getKey(),p)}return M.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let a=new Me((g,y)=>g-y);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let y=a.get(g.largestBatchId);y===null&&(y=Lr(),a=a.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=Lr(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,y)=>d.set(g,y)),!(d.size()>=o)););return M.resolve(d)}we(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.ls.get(o.largestBatchId).delete(s.key);this.ls.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new jk(n,s));let a=this.ls.get(n);a===void 0&&(a=fe(),this.ls.set(n,a)),this.ls.set(n,a.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(){this.fs=new vt(Ze.ds),this.ws=new vt(Ze._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const s=new Ze(e,n);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.ys(new Ze(e,n))}ps(e,n){e.forEach(s=>this.removeReference(s,n))}Is(e){const n=new X(new Ne([])),s=new Ze(n,e),o=new Ze(n,e+1),a=[];return this.ws.forEachInRange([s,o],c=>{this.ys(c),a.push(c.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new X(new Ne([])),s=new Ze(n,e),o=new Ze(n,e+1);let a=fe();return this.ws.forEachInRange([s,o],c=>{a=a.add(c.key)}),a}containsKey(e){const n=new Ze(e,0),s=this.fs.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ze{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return X.comparator(e.key,n.key)||ve(e.As,n.As)}static _s(e,n){return ve(e.As,n.As)||X.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new vt(Ze.ds)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const a=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Fk(a,n,s,o);this.mutationQueue.push(c);for(const d of o)this.Rs=this.Rs.add(new Ze(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return M.resolve(c)}lookupMutationBatch(e,n){return M.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.bs(s),a=o<0?0:o;return M.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ze(n,0),o=new Ze(n,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([s,o],c=>{const d=this.Ps(c.As);a.push(d)}),M.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new vt(ve);return n.forEach(o=>{const a=new Ze(o,0),c=new Ze(o,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,c],d=>{s=s.add(d.As)})}),M.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let a=s;X.isDocumentKey(a)||(a=a.child(""));const c=new Ze(new X(a),0);let d=new vt(ve);return this.Rs.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.As)),!0)},c),M.resolve(this.Vs(d))}Vs(e){const n=[];return e.forEach(s=>{const o=this.Ps(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){De(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Rs;return M.forEach(n.mutations,o=>{const a=new Ze(o.key,n.batchId);return s=s.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,n){const s=new Ze(n,0),o=this.Rs.firstAfterOrEqual(s);return M.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e){this.Ds=e,this.docs=new Me(X.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),a=o?o.size:0,c=this.Ds(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return M.resolve(s?s.document.mutableCopy():pt.newInvalidDocument(n))}getEntries(e,n){let s=Fn();return n.forEach(o=>{const a=this.docs.get(o);s=s.insert(o,a?a.document.mutableCopy():pt.newInvalidDocument(o))}),M.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let a=Fn();const c=n.path,d=new X(c.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:y}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||rk(nk(y),s)<=0||(o.has(y.key)||La(n,y))&&(a=a.insert(y.key,y.mutableCopy()))}return M.resolve(a)}getAllFromCollectionGroup(e,n,s,o){re()}Cs(e,n){return M.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new yT(this)}getSize(e){return M.resolve(this.size)}}class yT extends cT{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.os.addEntry(e,o)):this.os.removeEntry(s)}),M.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e){this.persistence=e,this.xs=new Fi(n=>Ef(n),Sf),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Df,this.targetCount=0,this.Ms=Ni.kn()}forEachTarget(e,n){return this.xs.forEach((s,o)=>n(o)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Ns&&(this.Ns=n),M.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Ni(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.Fn(n),M.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,s){let o=0;const a=[];return this.xs.forEach((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.xs.delete(c),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),M.waitFor(a).next(()=>o)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const s=this.xs.get(n)||null;return M.resolve(s)}addMatchingKeys(e,n,s){return this.ks.gs(n,s),M.resolve()}removeMatchingKeys(e,n,s){this.ks.ps(n,s);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach(c=>{a.push(o.markPotentiallyOrphaned(e,c))}),M.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),M.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ks.Es(n);return M.resolve(s)}containsKey(e,n){return M.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n){this.$s={},this.overlays={},this.Os=new gf(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new vT(this),this.indexManager=new aT,this.remoteDocumentCache=function(s){return new gT(s)}(s=>this.referenceDelegate.Ls(s)),this.serializer=new oT(n),this.qs=new dT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pT,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.$s[e.toKey()];return s||(s=new mT(n,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,s){Y("MemoryPersistence","Starting transaction:",e);const o=new ET(this.Os.next());return this.referenceDelegate.Us(),s(o).next(a=>this.referenceDelegate.Ks(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Gs(e,n){return M.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,n)))}}class ET extends sk{constructor(e){super(),this.currentSequenceNumber=e}}class Af{constructor(e){this.persistence=e,this.Qs=new Df,this.js=null}static zs(e){return new Af(e)}get Ws(){if(this.js)return this.js;throw re()}addReference(e,n,s){return this.Qs.addReference(s,n),this.Ws.delete(s.toString()),M.resolve()}removeReference(e,n,s){return this.Qs.removeReference(s,n),this.Ws.add(s.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),M.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(o=>this.Ws.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(a=>this.Ws.add(a.toString()))}).next(()=>s.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Ws,s=>{const o=X.fromPath(s);return this.Hs(e,o).next(a=>{a||n.removeEntry(o,oe.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(s=>{s?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return M.or([()=>M.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Fi=s,this.Bi=o}static Li(e,n){let s=fe(),o=fe();for(const a of n.docChanges)switch(a.type){case 0:s=s.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Pf(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,s,o){return this.Ki(e,n).next(a=>a||this.Gi(e,n,o,s)).next(a=>a||this.Qi(e,n))}Ki(e,n){if(zg(n))return M.resolve(null);let s=Mn(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Oh(n,null,"F"),s=Mn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(a=>{const c=fe(...a);return this.Ui.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.ji(n,d);return this.zi(n,g,c,p.readTime)?this.Ki(e,Oh(n,null,"F")):this.Wi(e,g,n,p)}))})))}Gi(e,n,s,o){return zg(n)||o.isEqual(oe.min())?this.Qi(e,n):this.Ui.getDocuments(e,s).next(a=>{const c=this.ji(n,a);return this.zi(n,c,s,o)?this.Qi(e,n):(Ag()<=we.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Mh(n)),this.Wi(e,c,n,tk(o,-1)))})}ji(e,n){let s=new vt(tw(e));return n.forEach((o,a)=>{La(e,a)&&(s=s.add(a))}),s}zi(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Qi(e,n){return Ag()<=we.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Mh(n)),this.Ui.getDocumentsMatchingQuery(e,n,ur.min())}Wi(e,n,s,o){return this.Ui.getDocumentsMatchingQuery(e,s,o).next(a=>(n.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,n,s,o){this.persistence=e,this.Hi=n,this.serializer=o,this.Ji=new Me(ve),this.Yi=new Fi(a=>Ef(a),Sf),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fT(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function xT(t,e,n,s){return new CT(t,e,n,s)}async function xw(t,e){const n=le(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(a=>(o=a,n.tr(e),n.mutationQueue.getAllMutationBatches(s))).next(a=>{const c=[],d=[];let p=fe();for(const g of o){c.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}for(const g of a){d.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}return n.localDocuments.getDocuments(s,p).next(g=>({er:g,removedBatchIds:c,addedBatchIds:d}))})})}function kT(t,e){const n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),a=n.Zi.newChangeBuffer({trackRemovals:!0});return function(c,d,p,g){const y=p.batch,w=y.keys();let T=M.resolve();return w.forEach(N=>{T=T.next(()=>g.getEntry(d,N)).next(U=>{const F=p.docVersions.get(N);De(F!==null),U.version.compareTo(F)<0&&(y.applyToRemoteDocument(U,p),U.isValidDocument()&&(U.setReadTime(p.commitVersion),g.addEntry(U)))})}),T.next(()=>c.mutationQueue.removeMutationBatch(d,y))}(n,s,e,a).next(()=>a.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(c){let d=fe();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function kw(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function TT(t,e){const n=le(t),s=e.snapshotVersion;let o=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=n.Zi.newChangeBuffer({trackRemovals:!0});o=n.Ji;const d=[];e.targetChanges.forEach((y,w)=>{const T=o.get(w);if(!T)return;d.push(n.Bs.removeMatchingKeys(a,y.removedDocuments,w).next(()=>n.Bs.addMatchingKeys(a,y.addedDocuments,w)));let N=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?N=N.withResumeToken(wt.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):y.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(y.resumeToken,s)),o=o.insert(w,N),function(U,F,A){return U.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(T,N,y)&&d.push(n.Bs.updateTargetData(a,N))});let p=Fn(),g=fe();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(a,y))}),d.push(IT(a,c,e.documentUpdates).next(y=>{p=y.nr,g=y.sr})),!s.isEqual(oe.min())){const y=n.Bs.getLastRemoteSnapshotVersion(a).next(w=>n.Bs.setTargetsMetadata(a,a.currentSequenceNumber,s));d.push(y)}return M.waitFor(d).next(()=>c.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,p,g)).next(()=>p)}).then(a=>(n.Ji=o,a))}function IT(t,e,n){let s=fe(),o=fe();return n.forEach(a=>s=s.add(a)),e.getEntries(t,s).next(a=>{let c=Fn();return n.forEach((d,p)=>{const g=a.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(oe.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):Y("LocalStore","Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{nr:c,sr:o}})}function _T(t,e){const n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function NT(t,e){const n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Bs.getTargetData(s,e).next(a=>a?(o=a,M.resolve(o)):n.Bs.allocateTargetId(s).next(c=>(o=new ir(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Bs.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ji.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(s.targetId,s),n.Yi.set(e,s.targetId)),s})}async function zh(t,e,n){const s=le(t),o=s.Ji.get(e),a=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",a,c=>s.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!go(c))throw c;Y("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(o.target)}function Xg(t,e,n){const s=le(t);let o=oe.min(),a=fe();return s.persistence.runTransaction("Execute query","readonly",c=>function(d,p,g){const y=le(d),w=y.Yi.get(g);return w!==void 0?M.resolve(y.Ji.get(w)):y.Bs.getTargetData(p,g)}(s,c,Mn(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(c,d.targetId).next(p=>{a=p})}).next(()=>s.Hi.getDocumentsMatchingQuery(c,e,n?o:oe.min(),n?a:fe())).next(d=>(DT(s,Sk(e),d),{documents:d,ir:a})))}function DT(t,e,n){let s=t.Xi.get(e)||oe.min();n.forEach((o,a)=>{a.readTime.compareTo(s)>0&&(s=a.readTime)}),t.Xi.set(e,s)}class Jg{constructor(){this.activeTargetIds=_k()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AT{constructor(){this.Hr=new Jg,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,s){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Jg,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Y("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Y("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bl=null;function rh(){return Bl===null?Bl=268435456+Math.round(2147483648*Math.random()):Bl++,"0x"+Bl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ft="WebChannelConnection";class OT extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,s,o,a){const c=rh(),d=this.To(e,n);Y("RestConnection",`Sending RPC '${e}' ${c}:`,d,s);const p={};return this.Eo(p,o,a),this.Ao(e,d,p,s).then(g=>(Y("RestConnection",`Received RPC '${e}' ${c}: `,g),g),g=>{throw ki("RestConnection",`RPC '${e}' ${c} failed with error: `,g,"url: ",d,"request:",s),g})}vo(e,n,s,o,a,c){return this.Io(e,n,s,o,a)}Eo(e,n,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Mi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,a)=>e[a]=o),s&&s.headers.forEach((o,a)=>e[a]=o)}To(e,n){const s=RT[e];return`${this.mo}/v1/${n}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,s,o){const a=rh();return new Promise((c,d)=>{const p=new Hx;p.setWithCredentials(!0),p.listenOnce($x.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case th.NO_ERROR:const y=p.getResponseJson();Y(ft,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(y)),c(y);break;case th.TIMEOUT:Y(ft,`RPC '${e}' ${a} timed out`),d(new b(D.DEADLINE_EXCEEDED,"Request time out"));break;case th.HTTP_ERROR:const w=p.getStatus();if(Y(ft,`RPC '${e}' ${a} failed with status:`,w,"response text:",p.getResponseText()),w>0){let T=p.getResponseJson();Array.isArray(T)&&(T=T[0]);const N=T==null?void 0:T.error;if(N&&N.status&&N.message){const U=function(F){const A=F.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(A)>=0?A:D.UNKNOWN}(N.status);d(new b(U,N.message))}else d(new b(D.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new b(D.UNAVAILABLE,"Connection failed."));break;default:re()}}finally{Y(ft,`RPC '${e}' ${a} completed.`)}});const g=JSON.stringify(o);Y(ft,`RPC '${e}' ${a} sending request:`,o),p.send(n,"POST",g,s,15)})}Ro(e,n,s){const o=rh(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Vx(),d=zx(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.xmlHttpFactory=new bx({})),this.Eo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const y=a.join("");Y(ft,`Creating RPC '${e}' stream ${o}: ${y}`,p);const w=c.createWebChannel(y,p);let T=!1,N=!1;const U=new LT({ro:A=>{N?Y(ft,`Not sending because RPC '${e}' stream ${o} is closed:`,A):(T||(Y(ft,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),Y(ft,`RPC '${e}' stream ${o} sending:`,A),w.send(A))},oo:()=>w.close()}),F=(A,G,ne)=>{A.listen(G,ie=>{try{ne(ie)}catch(ce){setTimeout(()=>{throw ce},0)}})};return F(w,Ul.EventType.OPEN,()=>{N||Y(ft,`RPC '${e}' stream ${o} transport opened.`)}),F(w,Ul.EventType.CLOSE,()=>{N||(N=!0,Y(ft,`RPC '${e}' stream ${o} transport closed`),U.wo())}),F(w,Ul.EventType.ERROR,A=>{N||(N=!0,ki(ft,`RPC '${e}' stream ${o} transport errored:`,A),U.wo(new b(D.UNAVAILABLE,"The operation could not be completed")))}),F(w,Ul.EventType.MESSAGE,A=>{var G;if(!N){const ne=A.data[0];De(!!ne);const ie=ne,ce=ie.error||((G=ie[0])===null||G===void 0?void 0:G.error);if(ce){Y(ft,`RPC '${e}' stream ${o} received error:`,ce);const Re=ce.status;let Ke=function(xt){const Qt=Be[xt];if(Qt!==void 0)return pw(Qt)}(Re),nt=ce.message;Ke===void 0&&(Ke=D.INTERNAL,nt="Unknown error status: "+Re+" with message "+ce.message),N=!0,U.wo(new b(Ke,nt)),w.close()}else Y(ft,`RPC '${e}' stream ${o} received:`,ne),U._o(ne)}}),F(d,Bx.STAT_EVENT,A=>{A.stat===Ng.PROXY?Y(ft,`RPC '${e}' stream ${o} detected buffering proxy`):A.stat===Ng.NOPROXY&&Y(ft,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.fo()},0),U}}function ih(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(t){return new Kk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,n,s=1e3,o=1.5,a=6e4){this.ii=e,this.timerId=n,this.Po=s,this.bo=o,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),o=Math.max(0,n-s);o>0&&Y("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,o,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,n,s,o,a,c,d,p){this.ii=e,this.$o=s,this.Oo=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Tw(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(On(n.toString()),On("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Fo===n&&this.Zo(s,o)},s=>{e(()=>{const o=new b(D.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(o)})})}Zo(e,n){const s=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(o=>{s(()=>this.tu(o))}),this.stream.onMessage(o=>{s(()=>this.onMessage(o))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return Y("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(Y("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MT extends Iw{constructor(e,n,s,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,c),this.serializer=a}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=Gk(this.serializer,e),s=function(o){if(!("targetChange"in o))return oe.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?oe.min():a.readTime?yn(a.readTime):oe.min()}(e);return this.listener.nu(n,s)}su(e){const n={};n.database=Vh(this.serializer),n.addTarget=function(o,a){let c;const d=a.target;if(c=Rh(d)?{documents:Jk(o,d)}:{query:Zk(o,d)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=yw(o,a.resumeToken);const p=Fh(o,a.expectedCount);p!==null&&(c.expectedCount=p)}else if(a.snapshotVersion.compareTo(oe.min())>0){c.readTime=ua(o,a.snapshotVersion.toTimestamp());const p=Fh(o,a.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const s=tT(this.serializer,e);s&&(n.labels=s),this.Wo(n)}iu(e){const n={};n.database=Vh(this.serializer),n.removeTarget=e,this.Wo(n)}}class FT extends Iw{constructor(e,n,s,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,c),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(De(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=Xk(e.writeResults,e.commitTime),s=yn(e.commitTime);return this.listener.cu(s,n)}return De(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Vh(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>Yk(this.serializer,s))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT extends class{}{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.lu=!1}fu(){if(this.lu)throw new b(D.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Io(e,n,s,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new b(D.UNKNOWN,o.toString())})}vo(e,n,s,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.vo(e,n,s,a,c,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new b(D.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class UT{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(On(n),this.mu=!1):Y("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,n,s,o,a){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(c=>{s.enqueueAndForget(async()=>{Br(this)&&(Y("RemoteStore","Restarting streams for network reachability change."),await async function(d){const p=le(d);p.vu.add(4),await Eo(p),p.bu.set("Unknown"),p.vu.delete(4),await Ua(p)}(this))})}),this.bu=new UT(s,o)}}async function Ua(t){if(Br(t))for(const e of t.Ru)await e(!0)}async function Eo(t){for(const e of t.Ru)await e(!1)}function _w(t,e){const n=le(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),Of(n)?Lf(n):ji(n).Ko()&&Rf(n,e))}function Nw(t,e){const n=le(t),s=ji(n);n.Au.delete(e),s.Ko()&&Dw(n,e),n.Au.size===0&&(s.Ko()?s.jo():Br(n)&&n.bu.set("Unknown"))}function Rf(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ji(t).su(e)}function Dw(t,e){t.Vu.qt(e),ji(t).iu(e)}function Lf(t){t.Vu=new Bk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),ji(t).start(),t.bu.gu()}function Of(t){return Br(t)&&!ji(t).Uo()&&t.Au.size>0}function Br(t){return le(t).vu.size===0}function Aw(t){t.Vu=void 0}async function zT(t){t.Au.forEach((e,n)=>{Rf(t,e)})}async function $T(t,e){Aw(t),Of(t)?(t.bu.Iu(e),Lf(t)):t.bu.set("Unknown")}async function BT(t,e,n){if(t.bu.set("Online"),e instanceof gw&&e.state===2&&e.cause)try{await async function(s,o){const a=o.cause;for(const c of o.targetIds)s.Au.has(c)&&(await s.remoteSyncer.rejectListen(c,a),s.Au.delete(c),s.Vu.removeTarget(c))}(t,e)}catch(s){Y("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ca(t,s)}else if(e instanceof Kl?t.Vu.Ht(e):e instanceof mw?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(oe.min()))try{const s=await kw(t.localStore);n.compareTo(s)>=0&&await function(o,a){const c=o.Vu.ce(a);return c.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const g=o.Au.get(p);g&&o.Au.set(p,g.withResumeToken(d.resumeToken,a))}}),c.targetMismatches.forEach((d,p)=>{const g=o.Au.get(d);if(!g)return;o.Au.set(d,g.withResumeToken(wt.EMPTY_BYTE_STRING,g.snapshotVersion)),Dw(o,d);const y=new ir(g.target,d,p,g.sequenceNumber);Rf(o,y)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(s){Y("RemoteStore","Failed to raise snapshot:",s),await ca(t,s)}}async function ca(t,e,n){if(!go(e))throw e;t.vu.add(1),await Eo(t),t.bu.set("Offline"),n||(n=()=>kw(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Ua(t)})}function Pw(t,e){return e().catch(n=>ca(t,n,e))}async function Va(t){const e=le(t),n=hr(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;bT(e);)try{const o=await _T(e.localStore,s);if(o===null){e.Eu.length===0&&n.jo();break}s=o.batchId,HT(e,o)}catch(o){await ca(e,o)}Rw(e)&&Lw(e)}function bT(t){return Br(t)&&t.Eu.length<10}function HT(t,e){t.Eu.push(e);const n=hr(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function Rw(t){return Br(t)&&!hr(t).Uo()&&t.Eu.length>0}function Lw(t){hr(t).start()}async function qT(t){hr(t).hu()}async function KT(t){const e=hr(t);for(const n of t.Eu)e.uu(n.mutations)}async function WT(t,e,n){const s=t.Eu.shift(),o=Tf.from(s,e,n);await Pw(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await Va(t)}async function QT(t,e){e&&hr(t).ou&&await async function(n,s){if(o=s.code,Vk(o)&&o!==D.ABORTED){const a=n.Eu.shift();hr(n).Qo(),await Pw(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Va(n)}var o}(t,e),Rw(t)&&Lw(t)}async function ey(t,e){const n=le(t);n.asyncQueue.verifyOperationInProgress(),Y("RemoteStore","RemoteStore received new credentials");const s=Br(n);n.vu.add(3),await Eo(n),s&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Ua(n)}async function GT(t,e){const n=le(t);e?(n.vu.delete(2),await Ua(n)):e||(n.vu.add(2),await Eo(n),n.bu.set("Unknown"))}function ji(t){return t.Su||(t.Su=function(e,n,s){const o=le(e);return o.fu(),new MT(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{uo:zT.bind(null,t),ao:$T.bind(null,t),nu:BT.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),Of(t)?Lf(t):t.bu.set("Unknown")):(await t.Su.stop(),Aw(t))})),t.Su}function hr(t){return t.Du||(t.Du=function(e,n,s){const o=le(e);return o.fu(),new FT(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{uo:qT.bind(null,t),ao:QT.bind(null,t),au:KT.bind(null,t),cu:WT.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Va(t)):(await t.Du.stop(),t.Eu.length>0&&(Y("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n,s,o,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=a,this.deferred=new An,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,n,s,o,a){const c=Date.now()+s,d=new Mf(e,n,c,o,a);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new b(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ff(t,e){if(On("AsyncQueue",`${e}: ${t}`),go(t))return new b(D.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.comparator=e?(n,s)=>e(n,s)||X.comparator(n.key,s.key):(n,s)=>X.comparator(n.key,s.key),this.keyedMap=Rs(),this.sortedSet=new Me(this.comparator)}static emptySet(e){return new Ci(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ci)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=s.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ci;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(){this.Cu=new Me(X.comparator)}track(e){const n=e.doc.key,s=this.Cu.get(n);s?e.type!==0&&s.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&s.type!==1?this.Cu=this.Cu.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Cu=this.Cu.remove(n):e.type===1&&s.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):re():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,s)=>{e.push(s)}),e}}class Di{constructor(e,n,s,o,a,c,d,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,a){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new Di(e,n,Ci.emptySet(n),c,s,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ra(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(){this.Nu=void 0,this.listeners=[]}}class XT{constructor(){this.queries=new Fi(e=>ew(e),Ra),this.onlineState="Unknown",this.ku=new Set}}async function Ow(t,e){const n=le(t),s=e.query;let o=!1,a=n.queries.get(s);if(a||(o=!0,a=new YT),o)try{a.Nu=await n.onListen(s)}catch(c){const d=Ff(c,`Initialization of query '${Mh(e.query)}' failed`);return void e.onError(d)}n.queries.set(s,a),a.listeners.push(e),e.Mu(n.onlineState),a.Nu&&e.$u(a.Nu)&&jf(n)}async function Mw(t,e){const n=le(t),s=e.query;let o=!1;const a=n.queries.get(s);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),o=a.listeners.length===0)}if(o)return n.queries.delete(s),n.onUnlisten(s)}function JT(t,e){const n=le(t);let s=!1;for(const o of e){const a=o.query,c=n.queries.get(a);if(c){for(const d of c.listeners)d.$u(o)&&(s=!0);c.Nu=o}}s&&jf(n)}function ZT(t,e,n){const s=le(t),o=s.queries.get(e);if(o)for(const a of o.listeners)a.onError(n);s.queries.delete(e)}function jf(t){t.ku.forEach(e=>{e.next()})}class Fw{constructor(e,n,s){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Di(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const s=n!=="Offline";return(!this.options.Ku||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Di.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e){this.key=e}}class Uw{constructor(e){this.key=e}}class eI{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=fe(),this.mutatedKeys=fe(),this.tc=tw(e),this.ec=new Ci(this.tc)}get nc(){return this.Yu}sc(e,n){const s=n?n.ic:new ty,o=n?n.ec:this.ec;let a=n?n.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((y,w)=>{const T=o.get(y),N=La(this.query,w)?w:null,U=!!T&&this.mutatedKeys.has(T.key),F=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let A=!1;T&&N?T.data.isEqual(N.data)?U!==F&&(s.track({type:3,doc:N}),A=!0):this.rc(T,N)||(s.track({type:2,doc:N}),A=!0,(p&&this.tc(N,p)>0||g&&this.tc(N,g)<0)&&(d=!0)):!T&&N?(s.track({type:0,doc:N}),A=!0):T&&!N&&(s.track({type:1,doc:T}),A=!0,(p||g)&&(d=!0)),A&&(N?(c=c.add(N),a=F?a.add(y):a.delete(y)):(c=c.delete(y),a=a.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),a=a.delete(y.key),s.track({type:1,doc:y})}return{ec:c,ic:s,zi:d,mutatedKeys:a}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const o=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((g,y)=>function(w,T){const N=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re()}};return N(w)-N(T)}(g.type,y.type)||this.tc(g.doc,y.doc)),this.oc(s);const c=n?this.uc():[],d=this.Zu.size===0&&this.current?1:0,p=d!==this.Xu;return this.Xu=d,a.length!==0||p?{snapshot:new Di(this.query,e.ec,o,a,e.mutatedKeys,d===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new ty,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=fe(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const n=[];return e.forEach(s=>{this.Zu.has(s)||n.push(new Uw(s))}),this.Zu.forEach(s=>{e.has(s)||n.push(new jw(s))}),n}hc(e){this.Yu=e.ir,this.Zu=fe();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Di.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class tI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class nI{constructor(e){this.key=e,this.fc=!1}}class rI{constructor(e,n,s,o,a,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new Fi(d=>ew(d),Ra),this._c=new Map,this.mc=new Set,this.gc=new Me(X.comparator),this.yc=new Map,this.Ic=new Df,this.Tc={},this.Ec=new Map,this.Ac=Ni.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function iI(t,e){const n=pI(t);let s,o;const a=n.wc.get(e);if(a)s=a.targetId,n.sharedClientState.addLocalQueryTarget(s),o=a.view.lc();else{const c=await NT(n.localStore,Mn(e)),d=n.sharedClientState.addLocalQueryTarget(c.targetId);s=c.targetId,o=await sI(n,e,s,d==="current",c.resumeToken),n.isPrimaryClient&&_w(n.remoteStore,c)}return o}async function sI(t,e,n,s,o){t.Rc=(w,T,N)=>async function(U,F,A,G){let ne=F.view.sc(A);ne.zi&&(ne=await Xg(U.localStore,F.query,!1).then(({documents:Re})=>F.view.sc(Re,ne)));const ie=G&&G.targetChanges.get(F.targetId),ce=F.view.applyChanges(ne,U.isPrimaryClient,ie);return ry(U,F.targetId,ce.cc),ce.snapshot}(t,w,T,N);const a=await Xg(t.localStore,e,!0),c=new eI(e,a.ir),d=c.sc(a.documents),p=wo.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",o),g=c.applyChanges(d,t.isPrimaryClient,p);ry(t,n,g.cc);const y=new tI(e,n,c);return t.wc.set(e,y),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),g.snapshot}async function oI(t,e){const n=le(t),s=n.wc.get(e),o=n._c.get(s.targetId);if(o.length>1)return n._c.set(s.targetId,o.filter(a=>!Ra(a,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await zh(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),Nw(n.remoteStore,s.targetId),$h(n,s.targetId)}).catch(mo)):($h(n,s.targetId),await zh(n.localStore,s.targetId,!0))}async function lI(t,e,n){const s=mI(t);try{const o=await function(a,c){const d=le(a),p=Ge.now(),g=c.reduce((T,N)=>T.add(N.key),fe());let y,w;return d.persistence.runTransaction("Locally write mutations","readwrite",T=>{let N=Fn(),U=fe();return d.Zi.getEntries(T,g).next(F=>{N=F,N.forEach((A,G)=>{G.isValidDocument()||(U=U.add(A))})}).next(()=>d.localDocuments.getOverlayedDocuments(T,N)).next(F=>{y=F;const A=[];for(const G of c){const ne=Ok(G,y.get(G.key).overlayedDocument);ne!=null&&A.push(new mr(G.key,ne,qv(ne.value.mapValue),rn.exists(!0)))}return d.mutationQueue.addMutationBatch(T,p,A,c)}).next(F=>{w=F;const A=F.applyToLocalDocumentSet(y,U);return d.documentOverlayCache.saveOverlays(T,F.batchId,A)})}).then(()=>({batchId:w.batchId,changes:rw(y)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(a,c,d){let p=a.Tc[a.currentUser.toKey()];p||(p=new Me(ve)),p=p.insert(c,d),a.Tc[a.currentUser.toKey()]=p}(s,o.batchId,n),await So(s,o.changes),await Va(s.remoteStore)}catch(o){const a=Ff(o,"Failed to persist write");n.reject(a)}}async function Vw(t,e){const n=le(t);try{const s=await TT(n.localStore,e);e.targetChanges.forEach((o,a)=>{const c=n.yc.get(a);c&&(De(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.fc=!0:o.modifiedDocuments.size>0?De(c.fc):o.removedDocuments.size>0&&(De(c.fc),c.fc=!1))}),await So(n,s,e)}catch(s){await mo(s)}}function ny(t,e,n){const s=le(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.wc.forEach((a,c)=>{const d=c.view.Mu(e);d.snapshot&&o.push(d.snapshot)}),function(a,c){const d=le(a);d.onlineState=c;let p=!1;d.queries.forEach((g,y)=>{for(const w of y.listeners)w.Mu(c)&&(p=!0)}),p&&jf(d)}(s.eventManager,e),o.length&&s.dc.nu(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function aI(t,e,n){const s=le(t);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.yc.get(e),a=o&&o.key;if(a){let c=new Me(X.comparator);c=c.insert(a,pt.newNoDocument(a,oe.min()));const d=fe().add(a),p=new Fa(oe.min(),new Map,new Me(ve),c,d);await Vw(s,p),s.gc=s.gc.remove(a),s.yc.delete(e),Uf(s)}else await zh(s.localStore,e,!1).then(()=>$h(s,e,n)).catch(mo)}async function uI(t,e){const n=le(t),s=e.batch.batchId;try{const o=await kT(n.localStore,e);$w(n,s,null),zw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await So(n,o)}catch(o){await mo(o)}}async function cI(t,e,n){const s=le(t);try{const o=await function(a,c){const d=le(a);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return d.mutationQueue.lookupMutationBatch(p,c).next(y=>(De(y!==null),g=y.keys(),d.mutationQueue.removeMutationBatch(p,y))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,g,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>d.localDocuments.getDocuments(p,g))})}(s.localStore,e);$w(s,e,n),zw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await So(s,o)}catch(o){await mo(o)}}function zw(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function $w(t,e,n){const s=le(t);let o=s.Tc[s.currentUser.toKey()];if(o){const a=o.get(e);a&&(n?a.reject(n):a.resolve(),o=o.remove(e)),s.Tc[s.currentUser.toKey()]=o}}function $h(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t._c.get(e))t.wc.delete(s),n&&t.dc.Pc(s,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(s=>{t.Ic.containsKey(s)||Bw(t,s)})}function Bw(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(Nw(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),Uf(t))}function ry(t,e,n){for(const s of n)s instanceof jw?(t.Ic.addReference(s.key,e),hI(t,s)):s instanceof Uw?(Y("SyncEngine","Document no longer in limbo: "+s.key),t.Ic.removeReference(s.key,e),t.Ic.containsKey(s.key)||Bw(t,s.key)):re()}function hI(t,e){const n=e.key,s=n.path.canonicalString();t.gc.get(n)||t.mc.has(s)||(Y("SyncEngine","New document in limbo: "+n),t.mc.add(s),Uf(t))}function Uf(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new X(Ne.fromString(e)),s=t.Ac.next();t.yc.set(s,new nI(n)),t.gc=t.gc.insert(n,s),_w(t.remoteStore,new ir(Mn(Cf(n.path)),s,"TargetPurposeLimboResolution",gf.ct))}}async function So(t,e,n){const s=le(t),o=[],a=[],c=[];s.wc.isEmpty()||(s.wc.forEach((d,p)=>{c.push(s.Rc(p,e,n).then(g=>{if((g||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(p.targetId,g!=null&&g.fromCache?"not-current":"current"),g){o.push(g);const y=Pf.Li(p.targetId,g);a.push(y)}}))}),await Promise.all(c),s.dc.nu(o),await async function(d,p){const g=le(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>M.forEach(p,w=>M.forEach(w.Fi,T=>g.persistence.referenceDelegate.addReference(y,w.targetId,T)).next(()=>M.forEach(w.Bi,T=>g.persistence.referenceDelegate.removeReference(y,w.targetId,T)))))}catch(y){if(!go(y))throw y;Y("LocalStore","Failed to update sequence numbers: "+y)}for(const y of p){const w=y.targetId;if(!y.fromCache){const T=g.Ji.get(w),N=T.snapshotVersion,U=T.withLastLimboFreeSnapshotVersion(N);g.Ji=g.Ji.insert(w,U)}}}(s.localStore,a))}async function fI(t,e){const n=le(t);if(!n.currentUser.isEqual(e)){Y("SyncEngine","User change. New user:",e.toKey());const s=await xw(n.localStore,e);n.currentUser=e,function(o,a){o.Ec.forEach(c=>{c.forEach(d=>{d.reject(new b(D.CANCELLED,a))})}),o.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await So(n,s.er)}}function dI(t,e){const n=le(t),s=n.yc.get(e);if(s&&s.fc)return fe().add(s.key);{let o=fe();const a=n._c.get(e);if(!a)return o;for(const c of a){const d=n.wc.get(c);o=o.unionWith(d.view.nc)}return o}}function pI(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Vw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aI.bind(null,e),e.dc.nu=JT.bind(null,e.eventManager),e.dc.Pc=ZT.bind(null,e.eventManager),e}function mI(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cI.bind(null,e),e}class iy{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=ja(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return xT(this.persistence,new ST,e.initialUser,this.serializer)}createPersistence(e){return new wT(Af.zs,this.serializer)}createSharedClientState(e){return new AT}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class gI{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ny(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=fI.bind(null,this.syncEngine),await GT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new XT}createDatastore(e){const n=ja(e.databaseInfo.databaseId),s=(o=e.databaseInfo,new OT(o));var o;return function(a,c,d,p){return new jT(a,c,d,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return n=this.localStore,s=this.datastore,o=e.asyncQueue,a=d=>ny(this.syncEngine,d,0),c=Zg.D()?new Zg:new PT,new VT(n,s,o,a,c);var n,s,o,a,c}createSyncEngine(e,n){return function(s,o,a,c,d,p,g){const y=new rI(s,o,a,c,d,p);return g&&(y.vc=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=le(e);Y("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Eo(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):On("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=dt.UNAUTHENTICATED,this.clientId=Bv.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async a=>{Y("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(s,a=>(Y("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new b(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new An;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Ff(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function sh(t,e){t.asyncQueue.verifyOperationInProgress(),Y("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async o=>{s.isEqual(o)||(await xw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function sy(t,e){t.asyncQueue.verifyOperationInProgress();const n=await wI(t);Y("FirestoreClient","Initializing OnlineComponentProvider");const s=await t.getConfiguration();await e.initialize(n,s),t.setCredentialChangeListener(o=>ey(e.remoteStore,o)),t.setAppCheckTokenChangeListener((o,a)=>ey(e.remoteStore,a)),t._onlineComponents=e}function vI(t){return t.name==="FirebaseError"?t.code===D.FAILED_PRECONDITION||t.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function wI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y("FirestoreClient","Using user provided OfflineComponentProvider");try{await sh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!vI(n))throw n;ki("Error using user provided cache. Falling back to memory cache: "+n),await sh(t,new iy)}}else Y("FirestoreClient","Using default OfflineComponentProvider"),await sh(t,new iy);return t._offlineComponents}async function Hw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y("FirestoreClient","Using user provided OnlineComponentProvider"),await sy(t,t._uninitializedComponentsProvider._online)):(Y("FirestoreClient","Using default OnlineComponentProvider"),await sy(t,new gI))),t._onlineComponents}function EI(t){return Hw(t).then(e=>e.syncEngine)}async function qw(t){const e=await Hw(t),n=e.eventManager;return n.onListen=iI.bind(null,e.syncEngine),n.onUnlisten=oI.bind(null,e.syncEngine),n}function SI(t,e,n={}){const s=new An;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,c,d,p){const g=new bw({next:w=>{a.enqueueAndForget(()=>Mw(o,y));const T=w.docs.has(c);!T&&w.fromCache?p.reject(new b(D.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&w.fromCache&&d&&d.source==="server"?p.reject(new b(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),y=new Fw(Cf(c.path),g,{includeMetadataChanges:!0,Ku:!0});return Ow(o,y)}(await qw(t),t.asyncQueue,e,n,s)),s.promise}function CI(t,e,n={}){const s=new An;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,c,d,p){const g=new bw({next:w=>{a.enqueueAndForget(()=>Mw(o,y)),w.fromCache&&d.source==="server"?p.reject(new b(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),y=new Fw(c,g,{includeMetadataChanges:!0,Ku:!0});return Ow(o,y)}(await qw(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(t,e,n){if(!n)throw new b(D.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function xI(t,e,n,s){if(e===!0&&s===!0)throw new b(D.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ly(t){if(!X.isDocumentKey(t))throw new b(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ay(t){if(X.isDocumentKey(t))throw new b(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function za(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":re()}function jn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new b(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=za(t);throw new b(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new b(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new b(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Kw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new b(D.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new b(D.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new b(D.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,s=e.experimentalLongPollingOptions,n.timeoutSeconds===s.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,s}}class $a{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uy({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new b(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new b(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uy(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Kx;switch(n.type){case"firstParty":return new Yx(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new b(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=oy.get(e);n&&(Y("ComponentProvider","Removing Datastore"),oy.delete(e),n.terminate())}(this),Promise.resolve()}}function kI(t,e,n,s={}){var o;const a=(t=jn(t,$a))._getSettings(),c=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==c&&ki("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),s.mockUserToken){let d,p;if(typeof s.mockUserToken=="string")d=s.mockUserToken,p=dt.MOCK_USER;else{d=IS(s.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new b(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new dt(g)}t._authCredentials=new Wx(new $v(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}}class Ui{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ui(this.firestore,e,this._query)}}class ar extends Ui{constructor(e,n,s){super(e,n,Cf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new X(e))}withConverter(e){return new ar(this.firestore,e,this._path)}}function Ns(t,e,...n){if(t=Rn(t),Ww("collection","path",e),t instanceof $a){const s=Ne.fromString(e,...n);return ay(s),new ar(t,null,s)}{if(!(t instanceof Rt||t instanceof ar))throw new b(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ne.fromString(e,...n));return ay(s),new ar(t.firestore,null,s)}}function Os(t,e,...n){if(t=Rn(t),arguments.length===1&&(e=Bv.A()),Ww("doc","path",e),t instanceof $a){const s=Ne.fromString(e,...n);return ly(s),new Rt(t,null,new X(s))}{if(!(t instanceof Rt||t instanceof ar))throw new b(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ne.fromString(e,...n));return ly(s),new Rt(t.firestore,t instanceof ar?t.converter:null,new X(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Tw(this,"async_queue_retry"),this.Xc=()=>{const n=ih();n&&Y("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=ih();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=ih();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new An;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!go(e))throw e;Y("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{this.Wc=s,this.Hc=!1;const o=function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c}(s);throw On("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.Hc=!1,s))));return this.Gc=n,n}enqueueAfterDelay(e,n,s){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const o=Mf.createAndSchedule(this,e,n,s,a=>this.na(a));return this.zc.push(o),o}Zc(){this.Wc&&re()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class Vi extends $a{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new TI,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Qw(this),this._firestoreClient.terminate()}}function II(t,e){const n=typeof t=="object"?t:AC(),s=typeof t=="string"?t:"(default)",o=IC(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const a=kS("firestore");a&&kI(o,...a)}return o}function Vf(t){return t._firestoreClient||Qw(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Qw(t){var e,n,s;const o=t._freezeSettings(),a=function(c,d,p,g){return new ak(c,d,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,Kw(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._firestoreClient=new yI(t._authCredentials,t._appCheckCredentials,t._queue,a),!((n=o.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.cache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.cache.kind,_offline:o.cache._offlineComponentProvider,_online:o.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ai(wt.fromBase64String(e))}catch(n){throw new b(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ai(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new b(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new b(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new b(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=/^__.*__$/;class NI{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new mr(e,this.data,this.fieldMask,n,this.fieldTransforms):new vo(e,this.data,n,this.fieldTransforms)}}class Gw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new mr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Yw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re()}}class $f{constructor(e,n,s,o,a,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,a===void 0&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new $f(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.aa({path:s,la:!1});return o.fa(e),o}da(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.aa({path:s,la:!1});return o.ua(),o}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return ha(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(Yw(this.ca)&&_I.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class DI{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ja(e)}ya(e,n,s,o=!1){return new $f({ca:e,methodName:n,ga:s,path:mt.emptyPath(),la:!1,ma:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bf(t){const e=t._freezeSettings(),n=ja(t._databaseId);return new DI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function AI(t,e,n,s,o,a={}){const c=t.ya(a.merge||a.mergeFields?2:0,e,n,o);bf("Data must be an object, but it was:",c,s);const d=Xw(s,c);let p,g;if(a.merge)p=new Vt(c.fieldMask),g=c.fieldTransforms;else if(a.mergeFields){const y=[];for(const w of a.mergeFields){const T=Bh(e,w,n);if(!c.contains(T))throw new b(D.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Zw(y,T)||y.push(T)}p=new Vt(y),g=c.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=c.fieldTransforms;return new NI(new Pt(d),p,g)}class Ha extends ba{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ha}}class PI extends ba{constructor(e,n){super(e),this.Ia=n}_toFieldTransform(e){const n=new so(e.serializer,lw(e.serializer,this.Ia));return new Ak(e.path,n)}isEqual(e){return this===e}}function RI(t,e,n,s){const o=t.ya(1,e,n);bf("Data must be an object, but it was:",o,s);const a=[],c=Pt.empty();$r(s,(p,g)=>{const y=Hf(e,p,n);g=Rn(g);const w=o.da(y);if(g instanceof Ha)a.push(y);else{const T=Co(g,w);T!=null&&(a.push(y),c.set(y,T))}});const d=new Vt(a);return new Gw(c,d,o.fieldTransforms)}function LI(t,e,n,s,o,a){const c=t.ya(1,e,n),d=[Bh(e,s,n)],p=[o];if(a.length%2!=0)throw new b(D.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)d.push(Bh(e,a[T])),p.push(a[T+1]);const g=[],y=Pt.empty();for(let T=d.length-1;T>=0;--T)if(!Zw(g,d[T])){const N=d[T];let U=p[T];U=Rn(U);const F=c.da(N);if(U instanceof Ha)g.push(N);else{const A=Co(U,F);A!=null&&(g.push(N),y.set(N,A))}}const w=new Vt(g);return new Gw(y,w,c.fieldTransforms)}function OI(t,e,n,s=!1){return Co(n,t.ya(s?4:3,e))}function Co(t,e){if(Jw(t=Rn(t)))return bf("Unsupported field value:",e,t),Xw(t,e);if(t instanceof ba)return function(n,s){if(!Yw(s.ca))throw s._a(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,s){const o=[];let a=0;for(const c of n){let d=Co(c,s.wa(a));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),a++}return{arrayValue:{values:o}}}(t,e)}return function(n,s){if((n=Rn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return lw(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=Ge.fromDate(n);return{timestampValue:ua(s.serializer,o)}}if(n instanceof Ge){const o=new Ge(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ua(s.serializer,o)}}if(n instanceof zf)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ai)return{bytesValue:yw(s.serializer,n._byteString)};if(n instanceof Rt){const o=s.databaseId,a=n.firestore._databaseId;if(!a.isEqual(o))throw s._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Nf(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s._a(`Unsupported field value: ${za(n)}`)}(t,e)}function Xw(t,e){const n={};return bv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$r(t,(s,o)=>{const a=Co(o,e.ha(s));a!=null&&(n[s]=a)}),{mapValue:{fields:n}}}function Jw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ge||t instanceof zf||t instanceof Ai||t instanceof Rt||t instanceof ba)}function bf(t,e,n){if(!Jw(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const s=za(n);throw s==="an object"?e._a(t+" a custom object"):e._a(t+" "+s)}}function Bh(t,e,n){if((e=Rn(e))instanceof Ba)return e._internalPath;if(typeof e=="string")return Hf(t,e);throw ha("Field path arguments must be of type string or ",t,!1,void 0,n)}const MI=new RegExp("[~\\*/\\[\\]]");function Hf(t,e,n){if(e.search(MI)>=0)throw ha(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ba(...e.split("."))._internalPath}catch{throw ha(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ha(t,e,n,s,o){const a=s&&!s.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(a||c)&&(p+=" (found",a&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new b(D.INVALID_ARGUMENT,d+t+p)}function Zw(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,n,s,o,a){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new FI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(qf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class FI extends e0{data(){return super.data()}}function qf(t,e){return typeof e=="string"?Hf(t,e):e instanceof Ba?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new b(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kf{}class UI extends Kf{}function cy(t,e,...n){let s=[];e instanceof Kf&&s.push(e),s=s.concat(n),function(o){const a=o.filter(d=>d instanceof Wf).length,c=o.filter(d=>d instanceof qa).length;if(a>1||a>0&&c>0)throw new b(D.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)t=o._apply(t);return t}class qa extends UI{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new qa(e,n,s)}_apply(e){const n=this._parse(e);return t0(e._query,n),new Ui(e.firestore,e.converter,Lh(e._query,n))}_parse(e){const n=Bf(e.firestore);return function(o,a,c,d,p,g,y){let w;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new b(D.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){dy(y,g);const T=[];for(const N of y)T.push(fy(d,o,N));w={arrayValue:{values:T}}}else w=fy(d,o,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||dy(y,g),w=OI(c,a,y,g==="in"||g==="not-in");return He.create(p,g,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function hy(t,e,n){const s=e,o=qf("where",t);return qa._create(o,s,n)}class Wf extends Kf{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Wf(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:on.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let a=s;const c=o.getFlattenedFilters();for(const d of c)t0(a,d),a=Lh(a,d)}(e._query,n),new Ui(e.firestore,e.converter,Lh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function fy(t,e,n){if(typeof(n=Rn(n))=="string"){if(n==="")throw new b(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zv(e)&&n.indexOf("/")!==-1)throw new b(D.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Ne.fromString(n));if(!X.isDocumentKey(s))throw new b(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Og(t,new X(s))}if(n instanceof Rt)return Og(t,n._key);throw new b(D.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${za(n)}.`)}function dy(t,e){if(!Array.isArray(t)||t.length===0)throw new b(D.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function t0(t,e){if(e.isInequality()){const s=xf(t),o=e.field;if(s!==null&&!s.isEqual(o))throw new b(D.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${o.toString()}'`);const a=Jv(t);a!==null&&VI(t,o,a)}const n=function(s,o){for(const a of s)for(const c of a.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new b(D.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new b(D.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function VI(t,e,n){if(!n.isEqual(e))throw new b(D.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class zI{convertValue(e,n="none"){switch(Ur(e)){case 0:return null;case 1:return e.booleanValue;case 2:return be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return $r(e,(o,a)=>{s[o]=this.convertValue(a,n)}),s}convertGeoPoint(e){return new zf(be(e.latitude),be(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=vf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(eo(e));default:return null}}convertTimestamp(e){const n=cr(e);return new Ge(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ne.fromString(e);De(Cw(s));const o=new to(s.get(1),s.get(3)),a=new X(s.popFirst(5));return o.isEqual(n)||On(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(t,e,n){let s;return s=t?t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class n0 extends e0{constructor(e,n,s,o,a,c){super(e,n,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(qf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Wl extends n0{data(e={}){return super.data(e)}}class BI{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ms(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Wl(this._firestore,this._userDataWriter,s.key,s,new Ms(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new b(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(c=>{const d=new Wl(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Ms(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const d=new Wl(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Ms(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return c.type!==0&&(p=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),g=a.indexOf(c.doc.key)),{type:bI(c.type),doc:d,oldIndex:p,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function bI(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(t){t=jn(t,Rt);const e=jn(t.firestore,Vi);return SI(Vf(e),t._key).then(n=>qI(e,t,n))}class r0 extends zI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ai(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,n)}}function oh(t){t=jn(t,Ui);const e=jn(t.firestore,Vi),n=Vf(e),s=new r0(e);return jI(t._query),CI(n,t._query).then(o=>new BI(e,s,t,o))}function py(t,e,n,...s){t=jn(t,Rt);const o=jn(t.firestore,Vi),a=Bf(o);let c;return c=typeof(e=Rn(e))=="string"||e instanceof Ba?LI(a,"updateDoc",t._key,e,n,s):RI(a,"updateDoc",t._key,e),Qf(o,[c.toMutation(t._key,rn.exists(!0))])}function lh(t){return Qf(jn(t.firestore,Vi),[new kf(t._key,rn.none())])}function my(t,e){const n=jn(t.firestore,Vi),s=Os(t),o=$I(t.converter,e);return Qf(n,[AI(Bf(t.firestore),"addDoc",s._key,o,t.converter!==null,{}).toMutation(s._key,rn.exists(!1))]).then(()=>s)}function Qf(t,e){return function(n,s){const o=new An;return n.asyncQueue.enqueueAndForget(async()=>lI(await EI(n),s,o)),o.promise}(Vf(t),e)}function qI(t,e,n){const s=n.docs.get(e._key),o=new r0(t);return new n0(t,o,e._key,s,new Ms(n.hasPendingWrites,n.fromCache),e.converter)}function KI(t){return new PI("increment",t)}(function(t,e=!0){(function(n){Mi=n})(DC),Jl(new bs("firestore",(n,{instanceIdentifier:s,options:o})=>{const a=n.getProvider("app").getImmediate(),c=new Vi(new Qx(n.getProvider("auth-internal")),new Jx(n.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new b(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new to(d.options.projectId,p)}(a,s),a);return o=Object.assign({useFetchStreams:e},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),vi(Dg,"3.13.0",t),vi(Dg,"3.13.0","esm2017")})();var WI="firebase",QI="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vi(WI,QI,"app");const GI=void 0,YI="blogapp-a7e55.firebaseapp.com",XI="blogapp-a7e55",JI={apiKey:GI,authDomain:YI,projectId:XI},ZI=jy(JI),Nn=II(ZI),Pn={async getAllPosts(){const t=Ns(Nn,"posts");return(await oh(t)).docs.map(n=>({id:n.id,...n.data()}))},async getPostById(t){const e=Os(Nn,"posts",t);await py(e,{viewCount:KI(1)});const n=await HI(e);return{id:n.id,...n.data()}},async createPost(t){const e=Ns(Nn,"posts");return await my(e,{...t,createdAt:new Date,viewCount:0})},async updatePost(t,e){const n=Os(Nn,"posts",t);await py(n,e)},async deletePost(t){const e=Os(Nn,"posts",t),n=Ns(Nn,"comments"),s=cy(n,hy("postId","==",t)),a=(await oh(s)).docs.map(c=>lh(c.ref));await Promise.all([...a,lh(e)])},async getComments(t){const e=Ns(Nn,"comments"),n=cy(e,hy("postId","==",t));return(await oh(n)).docs.map(o=>({id:o.id,...o.data()}))},async addComment(t,e){const n=Ns(Nn,"comments");return await my(n,{postId:t,...e,createdAt:new Date})},async deleteComment(t){const e=Os(Nn,"comments",t);await lh(e)}},e_=()=>{const[t,e]=V.useState([]),[n,s]=V.useState(!0);return V.useEffect(()=>{(async()=>{try{const a=await Pn.getAllPosts();e(a),s(!1)}catch(a){console.error("Error fetching posts:",a),s(!1)}})()},[]),n?_.jsx("div",{className:"container mx-auto mt-8 flex justify-center items-center",children:_.jsx("div",{className:"text-xl",children:"Loading..."})}):_.jsx("div",{className:"container mx-auto mt-8 px-4",children:_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(o=>{var a;return _.jsxs("div",{className:"border rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 overflow-hidden",children:[_.jsx("div",{className:"aspect-w-16 aspect-h-9 w-full",children:_.jsx("img",{src:o.imageUrl,alt:o.title,className:"w-full h-48 object-cover"})}),_.jsxs("div",{className:"p-6",children:[_.jsx("h2",{className:"text-xl font-bold mb-2 line-clamp-2 h-14",children:o.title}),_.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3 h-20",children:o.excerpt}),_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[_.jsxs("div",{className:"flex items-center",children:[_.jsx("span",{className:"mr-1",children:"👁️"}),o.viewCount||0]}),_.jsxs("button",{className:"flex items-center hover:text-red-500 transition-colors duration-200",children:[_.jsx("span",{className:"mr-1",children:"❤️"}),"0"]})]}),_.jsx("div",{className:"text-sm text-gray-500",children:(a=o.createdAt)==null?void 0:a.toDate().toLocaleDateString()})]}),_.jsx(bl,{to:`/post/${o.id}`,className:"inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors duration-200",children:"Read More"})]})]},o.id)})})})},t_=()=>_.jsxs("div",{className:"container mx-auto",children:[_.jsx("h1",{className:"text-3xl font-bold text-center my-8",children:"Welcome to My Blog"}),_.jsx(e_,{})]}),n_=()=>{const[t,e]=V.useState({title:"",content:"",excerpt:"",imageUrl:""}),[n,s]=V.useState(!1),[o,a]=V.useState(""),c=p=>{const{name:g,value:y}=p.target;e(w=>({...w,[g]:y})),o&&a("")},d=async p=>{if(p.preventDefault(),a(""),!t.title.trim()||!t.content.trim()){a("Title and content are required");return}try{s(!0);const g={...t,excerpt:t.excerpt.trim()||t.content.slice(0,150)+"..."};await Pn.createPost(g),window.location.replace("/")}catch(g){console.error("Error creating post:",g),a("Failed to create post. Please try again."),s(!1)}};return _.jsxs("div",{className:"container mx-auto mt-8 px-4 max-w-2xl",children:[_.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Create New Post"}),o&&_.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:o}),_.jsxs("form",{onSubmit:d,className:"space-y-6",children:[_.jsxs("div",{children:[_.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),_.jsx("input",{type:"text",id:"title",name:"title",value:t.title,onChange:c,className:"w-full px-3 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL"}),_.jsx("input",{type:"text",id:"imageUrl",name:"imageUrl",value:t.imageUrl,onChange:c,placeholder:"https://example.com/image.jpg",className:"w-full px-3 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"excerpt",className:"block text-sm font-medium text-gray-700 mb-1",children:"Excerpt (optional)"}),_.jsx("textarea",{id:"excerpt",name:"excerpt",value:t.excerpt,onChange:c,rows:"2",className:"w-full px-3 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Brief description of your post (will be generated from content if left empty)"})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-1",children:"Content *"}),_.jsx("textarea",{id:"content",name:"content",value:t.content,onChange:c,rows:"10",className:"w-full px-3 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),_.jsx("div",{className:"flex justify-end",children:_.jsx("button",{type:"submit",disabled:n,className:`px-4 py-2 rounded-md text-white 
              ${n?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:n?"Creating...":"Create Post"})})]})]})},r_=()=>_.jsxs("div",{className:"container mx-auto",children:[_.jsx("h1",{className:"text-3xl font-bold text-center my-8",children:"Create New Blog Post"}),_.jsx(n_,{})]}),i_=({postId:t})=>{const[e,n]=V.useState([]),[s,o]=V.useState(""),[a,c]=V.useState(!0);V.useEffect(()=>{d()},[t]);const d=async()=>{try{const y=await Pn.getComments(t);n(y),c(!1)}catch(y){console.error("Error fetching comments:",y),c(!1)}},p=async y=>{if(y.preventDefault(),!!s.trim())try{await Pn.addComment(t,{content:s}),o(""),d()}catch(w){console.error("Error adding comment:",w)}},g=async y=>{try{await Pn.deleteComment(y),d()}catch(w){console.error("Error deleting comment:",w)}};return a?_.jsx("div",{children:"Loading comments..."}):_.jsxs("div",{className:"mt-8",children:[_.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Comments"}),_.jsxs("form",{onSubmit:p,className:"mb-6",children:[_.jsx("textarea",{value:s,onChange:y=>o(y.target.value),className:"w-full p-2 border rounded mb-2",placeholder:"Write a comment...",rows:"3"}),_.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Add Comment"})]}),_.jsx("div",{className:"space-y-4",children:e.map(y=>_.jsx("div",{className:"p-4 border rounded",children:_.jsxs("div",{className:"flex justify-between items-start",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-gray-600 text-sm",children:new Date(y.createdAt.toDate()).toLocaleDateString()}),_.jsx("p",{className:"mt-2",children:y.content})]}),_.jsx("button",{onClick:()=>g(y.id),className:"text-red-600 hover:text-red-800",children:"Delete"})]})},y.id))})]})},s_=()=>{const[t,e]=V.useState(null),[n,s]=V.useState(!0),{id:o}=Ty();V.useEffect(()=>{(async()=>{try{const d=await Pn.getPostById(o);e(d),s(!1)}catch(d){console.error("Error fetching post:",d),s(!1)}})()},[o]);const a=async()=>{try{await Pn.deletePost(o),window.location.replace("/")}catch(c){console.error("Error deleting post:",c)}};return n?_.jsx("div",{children:"Loading..."}):t?_.jsxs("div",{className:"container mx-auto mt-8 max-w-2xl",children:[_.jsx("h1",{className:"text-4xl font-bold mb-4",children:t.title}),_.jsx("div",{className:"aspect-w-16 aspect-h-9 w-full",children:_.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-full h-48 object-cover"})}),_.jsxs("div",{className:"flex items-center text-gray-600 mb-6 space-x-4",children:[_.jsx("p",{children:new Date(t.createdAt.toDate()).toLocaleDateString()}),_.jsx("div",{className:"flex items-center space-x-2",children:_.jsxs("span",{children:["👁️ ",t.viewCount||0," views"]})}),_.jsxs("button",{className:"flex items-center space-x-1 ",children:[_.jsx("span",{children:"❤️"}),_.jsx("span",{children:"0"})]})]}),_.jsx("div",{className:"prose",children:t.content}),_.jsxs("div",{className:"mt-8",children:[_.jsx("button",{className:"bg-red-600 text-white px-4 py-2 rounded mr-4",onClick:a,children:"Delete"}),_.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",onClick:()=>window.location.replace(`/edit/${o}`),children:"Edit"})]}),_.jsx(i_,{postId:o})]}):_.jsx("div",{children:"Post not found"})},o_=()=>{const{id:t}=Ty(),[e,n]=V.useState({title:"",content:"",excerpt:"",imageUrl:""}),[s,o]=V.useState(!0),[a,c]=V.useState("");V.useEffect(()=>{(async()=>{try{const y=await Pn.getPostById(t);n({title:y.title,content:y.content,excerpt:y.excerpt,imageUrl:y.imageUrl}),o(!1)}catch(y){console.error("Error fetching post:",y),c("Failed to fetch post. Please try again."),o(!1)}})()},[t]);const d=g=>{const{name:y,value:w}=g.target;n(T=>({...T,[y]:w})),a&&c("")},p=async g=>{if(g.preventDefault(),c(""),!e.title.trim()||!e.content.trim()){c("Title and content are required");return}try{o(!0);const y={...e,excerpt:e.excerpt.trim()||e.content.slice(0,150)+"..."};await Pn.updatePost(t,y),window.location.replace("/")}catch(y){console.error("Error updating post:",y),c("Failed to update post. Please try again."),o(!1)}};return s?_.jsx("div",{children:"Loading..."}):_.jsxs("div",{className:"container mx-auto mt-8 px-4 max-w-2xl",children:[_.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Update Post"}),a&&_.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:a}),_.jsxs("form",{onSubmit:p,className:"space-y-6",children:[_.jsxs("div",{children:[_.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),_.jsx("input",{type:"text",id:"title",name:"title",value:e.title,onChange:d,className:"w-full px-3 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL"}),_.jsx("input",{type:"text",id:"imageUrl",name:"imageUrl",value:e.imageUrl,onChange:d,placeholder:"https://example.com/image.jpg",className:"w-full px-3 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"excerpt",className:"block text-sm font-medium text-gray-700 mb-1",children:"Excerpt (optional)"}),_.jsx("textarea",{id:"excerpt",name:"excerpt",value:e.excerpt,onChange:d,rows:"2",className:"w-full px-3 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Brief description of your post (will be generated from content if left empty)"})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-1",children:"Content *"}),_.jsx("textarea",{id:"content",name:"content",value:e.content,onChange:d,rows:"10",className:"w-full px-3 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),_.jsx("div",{className:"flex justify-end",children:_.jsx("button",{type:"submit",disabled:s,className:`px-4 py-2 rounded-md text-white 
              ${s?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:s?"Updating...":"Update Post"})})]})]})},l_=()=>_.jsxs("div",{className:"container mx-auto",children:[_.jsx("h1",{className:"text-3xl font-bold text-center my-8",children:"Update Blog Post"}),_.jsx(o_,{})]});function a_(){return _.jsx(cS,{children:_.jsxs("div",{className:"App",children:[_.jsx(pS,{}),_.jsxs(rS,{children:[_.jsx(Ds,{path:"/",element:_.jsx(t_,{})}),_.jsx(Ds,{path:"/create",element:_.jsx(r_,{})}),_.jsx(Ds,{path:"/post/:id",element:_.jsx(s_,{})}),_.jsx(Ds,{path:"/edit/:id",element:_.jsx(l_,{})})]})]})})}hE.createRoot(document.getElementById("root")).render(_.jsx(a_,{}));
